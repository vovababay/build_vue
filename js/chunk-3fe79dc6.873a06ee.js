(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fe79dc6"],{1359:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-nomination"},[n("h3",[e._v("Номинация")]),n("span",[e._v("“Молодой профессионал года”")])])}],r={},o=r,s=(n("9400"),n("2877")),u=Object(s["a"])(o,a,i,!1,null,"e48c1b2c",null);t["a"]=u.exports},"1bd6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,(function(t,a){return n("a-row",{key:a,attrs:{gutter:[24]}},e._l(t,(function(t){return n("a-col",{key:t.name,attrs:{sm:{span:t.sm?t.sm:24},md:{span:t.md?t.md:12},xl:{span:t.xl?t.xl:8},span:24}},[t.mask||t.disabled?e._e():n("x-input",{ref:t.name,refInFor:!0,class:t.class,attrs:{label:e.getVisible(t.visible)?e.getLabel(t):"",type:e.getVisible(t.visible)?t.type:"hidden",name:t.name,validation:e.getVisible(t.visible)?t.validation:"",options:e.getOptions(t),multiple:t.multiple,selectable:t.selectable,"error-behavior":"submit"}}),t.mask?n("x-input",{directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"input.mask"}],class:t.class,attrs:{label:t.label,type:t.type,name:t.name,validation:t.validation,options:e.getOptions(t),multiple:t.multiple,selectable:t.selectable,"error-behavior":"submit"}}):e._e(),t.disabled?n("x-input",{class:t.class,attrs:{label:t.label,type:t.type,name:t.name,disabled:"","error-behavior":"submit"}}):e._e()],1)})),1)})),1)},i=[],r=n("3a60"),o={directives:{mask:r["mask"]},props:{items:{type:Array,required:!0}},methods:{getVisible:function(e){return!e||e()},getOptions:function(e){return e.optionName?this.$store.getters[e.optionName]:"function"==typeof e.options?e.options():e.options},getLabel:function(e){return"function"==typeof e.label?e.label():e.label}}},s=o,u=n("2877"),l=Object(u["a"])(s,a,i,!1,null,"6819e8fe",null);t["a"]=l.exports},"360b":function(e,t,n){"use strict";n("6c76")},"3a60":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,n){"use strict";function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var i=n(2),r=n(0),o=n.n(r);t.a=function(e,t){var r=t.value;if((Array.isArray(r)||"string"==typeof r)&&(r={mask:r,tokens:o.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var s=e.getElementsByTagName("input");if(1!==s.length)throw new Error("v-mask directive requires 1 input, found "+s.length);e=s[0]}e.oninput=function(t){if(t.isTrusted){var o=e.selectionEnd,s=e.value[o-1];for(e.value=n.i(i.a)(e.value,r.mask,!0,r.tokens);o<e.value.length&&e.value.charAt(o-1)!==s;)o++;e===document.activeElement&&(e.setSelectionRange(o,o),setTimeout((function(){e.setSelectionRange(o,o)}),0)),e.dispatchEvent(a("input"))}};var u=n.i(i.a)(e.value,r.mask,!0,r.tokens);u!==e.value&&(e.value=u,e.dispatchEvent(a("input")))}},function(e,t,n){"use strict";var a=n(6),i=n(5);t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments[3];return Array.isArray(t)?n.i(i.a)(a.a,t,o)(e,t,r,o):n.i(a.a)(e,t,r,o)}},function(e,t,n){"use strict";function a(e){e.component(u.a.name,u.a),e.directive("mask",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n.n(i),o=n(1),s=n(7),u=n.n(s);n.d(t,"TheMask",(function(){return u.a})),n.d(t,"mask",(function(){return o.a})),n.d(t,"tokens",(function(){return r.a})),n.d(t,"version",(function(){return l}));var l="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n.n(i),o=n(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return r.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=n.i(o.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,n){"use strict";function a(e,t,n){return t=t.sort((function(e,t){return e.length-t.length})),function(a,i){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=0;o<t.length;){var s=t[o];o++;var u=t[o];if(!(u&&e(a,u,!0,n).length>s.length))return e(a,s,r,n)}return""}}t.a=a},function(e,t,n){"use strict";function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var i=0,r=0,o="";i<t.length&&r<e.length;){var s=t[i],u=a[s],l=e[r];u&&!u.escape?(u.pattern.test(l)&&(o+=u.transform?u.transform(l):l,i++),r++):(u&&u.escape&&(i++,s=t[i]),n&&(o+=s),l===s&&r++,i++)}for(var c="";i<t.length&&n;){s=t[i];if(a[s]){c="";break}c+=s,i++}return o+c}t.a=a},function(e,t,n){var a=n(8)(n(4),n(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,n,a){var i,r=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,r=e.default);var s="function"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),a){var u=s.computed||(s.computed={});Object.keys(a).forEach((function(e){var t=a[e];u[e]=function(){return t}}))}return{esModule:i,exports:r,options:s}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])}))},"46f9":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-tabs",{attrs:{"tab-position":e.getWidth<920?"right":"top","default-active-key":e.activeTab?e.activeTab:e.activePage},on:{change:function(t){return e.activeTab?e.$emit("setActiveNomination",t):e.$router.push("/profile/"+t)}}},e._l(e.tabs?e.tabs:e.routerTabs,(function(e){return n("a-tab-pane",{key:e.id,attrs:{tab:e.name}})})),1)},i=[],r=(n("a9e3"),{data:function(){return{windowWidth:window.innerWidth}},computed:{getWidth:function(){return this.windowWidth}},mounted:function(){window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.windowWidth=window.innerWidth}}}),o={mixins:[r],props:{tabs:{type:Array},activeTab:{type:null|Number}},data:function(){return{routerTabs:[{name:"Основные сведения",id:"edit"},{name:"Анкета участника",id:"questionnaire"},{name:"Прикрепленные документы",id:"achievements"}]}},computed:{activePage:function(){return this.$route.meta.tabName}}},s=o,u=n("2877"),l=Object(u["a"])(s,a,i,!1,null,"06d32528",null);t["a"]=l.exports},6975:function(e,t,n){"use strict";n("9058")},"6a49":function(e,t,n){},"6c76":function(e,t,n){},"786d":function(e,t,n){},8640:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[e.userInfo?n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("div",{staticClass:"container-title"},[n("h2",{staticClass:"page-title"},[e._v("Редактирование")]),n("component-tabs")],1),e.loading?n("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):n("x-form",{staticClass:"user-application-container",attrs:{values:e.form},on:{submit:e.saveForm},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("application-form",{attrs:{items:e.items}}),n("a-col",{staticClass:"inline-buttons",attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"info",block:"","html-type":"submit"},on:{onSubmit:function(t){return e.toNextStep("back")}}},[e._v(" Сохранить и выйти ")]),n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:"","html-type":"submit"},on:{onSubmit:function(t){return e.toNextStep("next")}}},[e._v(" Сохранить и продолжить ")])],1)],1)],1)],1):e._e()],1)},i=[],r=n("5530"),o=n("1da1"),s=(n("a15b"),n("ac1f"),n("1276"),n("d81d"),n("99af"),n("96cf"),n("e4a0")),u=n("1359"),l=n("f60b"),c=n("1bd6"),f=n("46f9"),p=n("c1df"),d=n.n(p),m=n("09bc"),v=n("cd3f"),b=n.n(v),h=n("f729"),_={components:{ProfileSteps:s["a"],ProfileNomination:u["a"],ProfileInfoblock:l["a"],ApplicationForm:c["a"],ComponentTabs:f["a"]},mixins:[h["a"]],data:function(){return{loading:!0,educationForm:m["d"],form:{}}},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.items),t.next=3,e.getNominations();case 3:e.form=b()(e.userInfo),e.renderForm(),e.loading=!1;case 6:case"end":return t.stop()}}),t)})))()},methods:{getGender:function(e){return"male"===e?"Мужской":"Женский"},getBirthday:function(e){return e.split("-").reverse().join("-")},renderForm:function(){var e=this;console.log(this.form),"РФ"!=this.form.citizenship&&(this.form.citizenshipCheckbox="Другое"),this.educationForm.some((function(t){return t===e.form.form_education}))||(this.form.form_education_another=this.form.form_education,this.form.form_education="Другая"),this.form.nomination=this.form.nomination.map((function(e){return"".concat(e.id)}))},getNominations:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},saveForm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,console.log(e.form),n=b()(Object(r["a"])(Object(r["a"])({},e.form),{},{form_education:e.form.form_education_another?e.form.form_education_another:e.form.form_education,citizenship:"РФ"===e.form.citizenshipCheckbox?"РФ":e.form.citizenship})),console.log(n),t.next=7,e.$store.dispatch("app/saveEntity",{entityName:"users",data:n,method:"patch",id:n.id});case 7:e.$notification.success({message:"Успешно сохранено"}),e.$router.push("/profile"),t.next=15;break;case 11:t.prev=11,t.t0=t["catch"](1),console.log(t.t0),400===(null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a?void 0:a.status)?(e.$errors.show(t.t0.response.data),e.step="main"):e.$errors.showOnce("Ошибка входа");case 15:return t.prev=15,e.loading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,11,15,18]])})))()}},computed:{userInfo:function(){return this.$store.state.user.userInfo},getFullName:function(){var e=this.userInfo,t=e.first_name,n=e.last_name,a=e.patronymic;return"".concat(t," ").concat(n," ").concat(a)},getAge:function(){return d()().diff(this.userInfo.date_birth,"years")},activePage:function(){return this.$route.meta.tabName}}},y=_,g=(n("6975"),n("2877")),k=Object(g["a"])(y,a,i,!1,null,"24e07036",null);t["default"]=k.exports},9058:function(e,t,n){},9400:function(e,t,n){"use strict";n("786d")},a15b:function(e,t,n){"use strict";var a=n("23e7"),i=n("44ad"),r=n("fc6a"),o=n("a640"),s=[].join,u=i!=Object,l=o("join",",");a({target:"Array",proto:!0,forced:u||!l},{join:function(e){return s.call(r(this),void 0===e?",":e)}})},e4a0:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-steps"},e._l(e.steps,(function(t,a){return n("div",{key:t.name,class:"profile-steps__step "+(e.currentStep===t.name?"profile-steps__step--current":"")},[n("div",{staticClass:"profile-steps__step--count"},[e._v(e._s(a+1))]),n("div",{staticClass:"inline"},[n("div",{staticClass:"profile-steps__step--name"},[e._v(e._s(t.name))]),t.prompt?n("div",{staticClass:"profile-steps__step--prompt"},[e._v(e._s(t.prompt))]):e._e()])])})),0)},i=[],r={props:{currentStep:{type:String,required:!1}},data:function(){return{steps:[{name:"Участник заочного этапа",prompt:"Поздравляем! Вы успешно прошли этап регистрации"},{name:"Участник очного этапа",prompt:"Поздравляем! Вы перешли на очный этап конкурса"},{name:"Номинант"},{name:"Лауреат"},{name:"Победитель"}]}}},o=r,s=(n("f2e8"),n("2877")),u=Object(s["a"])(o,a,i,!1,null,"0d6a8ef2",null);t["a"]=u.exports},f2e8:function(e,t,n){"use strict";n("6a49")},f60b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"profile-infoblock"},[n("div",{staticClass:"profile-infoblock__title"},[e._v(" "+e._s(e.title)+" ")]),n("div",{staticClass:"profile-infoblock__data"},e._l(e.data,(function(t){return n("div",{key:t.name,staticClass:"profile-infoblock__data--item"},[n("span",{staticClass:"profile-infoblock__data--item-name"},[e._v(e._s(t.name))]),n("span",{staticClass:"profile-infoblock__data--item-value"},[e._v(e._s(t.render?t.render(e.userInfo[t.key]):e.userInfo[t.key]))])])})),0)])},i=[],r={props:{title:{type:String,required:!0},data:{type:Array,required:!0},userInfo:{type:Object,required:!0}}},o=r,s=(n("360b"),n("2877")),u=Object(s["a"])(o,a,i,!1,null,"0785dd18",null);t["a"]=u.exports},f729:function(e,t,n){"use strict";var a=n("ade3"),i=n("09bc");t["a"]={data:function(){var e,t=this;return{items:[[{name:"first_name",validation:"required",type:"text",label:"Фамилия"},{name:"last_name",validation:"required",type:"text",label:"Имя"},{name:"patronymic",validation:"required",type:"text",label:"Отчество",md:24}],[{name:"gender",validation:"required",type:"radio",label:"Пол",options:{male:"Мужской",female:"Женский"},class:"inline-checkbox"},{name:"date_birth",validation:"required|after:1950-01-01|before:2005-01-01",min:"1950-01-01",max:"2005-01-01",type:"date",label:"Дата рождения"},{name:"phone_number",validation:[["required"],["min","18"]],mask:"+7 (###) ###-##-##",type:"tel",label:"Номер телефона",md:24}],[{name:"citizenshipCheckbox",validation:"required",type:"radio",label:"Гражданство",options:["РФ","Другое"],class:"inline-checkbox"},{name:"citizenship",validation:"required",visible:function(){return"Другое"===t.form.citizenshipCheckbox},type:"text",label:"Другое гражданство"},{name:"email",validation:"required",type:"text",label:"Email"},{name:"url_vk",validation:"required",type:"url",label:"Ссылка на страницу ВК",md:24,xl:24}],[{name:"region",type:"text",label:"Регион",disabled:!0},{name:"locality",validation:"required",label:"Район/Городской округ",type:"select",options:i["f"]},{name:"district",validation:"required",label:"Населенный пункт",type:"select",options:i["a"],md:24}],[{name:"postal_code",validation:"required",type:"text",label:"Почтовый индекс"},{name:"street",validation:"required",type:"text",label:"Улица"},{name:"house",validation:"required",type:"text",label:"Номер дома",xl:4},{name:"apartment",validation:"required",type:"text",label:"Квартира",xl:4}],[{name:"form_education",validation:"required",type:"select",label:"Форма обучения",options:i["d"]},{name:"form_education_another",validation:"required",visible:function(){return"Другая"===t.form.form_education},type:"text",label:"Другая форма обучения"},{name:"place_education",validation:"required",label:"Место обучения",type:"select",options:i["e"]},(e={name:"name_place_education",validation:"required",label:"Образовательная организация",type:"select"},Object(a["a"])(e,"label",(function(){return"colleges"===t.form.place_education?"ССУЗ":"ВУЗ"})),Object(a["a"])(e,"type","select"),Object(a["a"])(e,"options",(function(){return"colleges"===t.form.place_education?i["b"]:i["i"]})),Object(a["a"])(e,"md",24),Object(a["a"])(e,"xl",24),e)],[{name:"course_education",validation:"required",label:"Курс обучения",type:"select",options:i["c"]},{name:"nomination",validation:"required",label:"Номинация",type:"vue-select",multiple:!0,selectable:function(){return t.form.nomination.length<3},optionName:"app/optionNomination",xl:16}]]}}}}}]);
//# sourceMappingURL=chunk-3fe79dc6.873a06ee.js.map