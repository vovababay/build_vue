(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~profile"],{"026f":function(e,t,i){"use strict";i("eb47")},"0536":function(e,t,i){},"09de":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"photo-container"},[e.user_id?i("Avatar",{attrs:{user_id:e.user_id,userInfo:e.user_data,avatarSrc:e.user_data.user_avatar?e.media+"/"+e.user_data.user_avatar:null}}):i("Avatar",{attrs:{userInfo:e.userInfo,avatarSrc:e.userInfo.user_avatar?e.media+"/"+e.userInfo.user_avatar:null}}),e._m(0)],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"photo-container--description"},[e._v(" Изображение должно быть четкое, положение фотографируемого в анфас "),i("br"),i("br"),e._v(" Лицо фотографируемого должно занимать не менее трети свободной площади фотографии "),i("br"),i("br"),e._v(" Фотографируемый должен быть равномерно освещен для получения отличной детализации лица "),i("br"),i("br"),e._v(" Выражение лица спокойное "),i("br"),i("br"),e._v(" Взгляд направлен прямо (в объектив фотокамеры), глаза не должны быть закрыты или прищурены "),i("br"),i("br"),e._v(" На фотографии не допускаются затемненные очки, головные уборы, а также элементы одежды, которые, так или иначе, скрывают части лица или волос. "),i("br"),i("br"),e._v(" Изображение на фотографии - цветное "),i("br"),i("br"),e._v(" Количество человек, изображенных на фотографии, не должно быть более одного "),i("br"),i("br")])}],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"photo-upload-container"},[i("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar1","list-type":"picture-card","show-upload-list":!1,accept:"image/jpeg,image/png,image/heic","before-upload":e.beforeUpload,action:"/api/v1/users/999999"},on:{change:e.handleChange}},[e.avatarSrc?i("img",{attrs:{src:e.avatarSrc,alt:"avatar"}}):i("div",[i("v-icon",{attrs:{name:"camera"}})],1)]),i("div",{staticClass:"help-text"},[e._v("Нажмите, чтобы прикрепить (до 5МБ)")])],1)},s=[],o=i("1da1");i("96cf");function c(e,t){var i=new FileReader;i.addEventListener("load",(function(){return t(i.result)})),i.readAsDataURL(e)}var l={props:{avatarSrc:{type:String,required:!1},userInfo:{type:Object,required:!0},user_id:{type:String,required:!1}},data:function(){return{loading:!1,fileList:[]}},methods:{handleChange:function(e){var t=this;"uploading"!==e.file.status?"error"===e.file.status&&c(e.file.originFileObj,function(){var i=Object(o["a"])(regeneratorRuntime.mark((function i(a){var n,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return n=new FormData,n.append("user_avatar",e.file.originFileObj),i.prev=2,i.next=5,t.saveEntity(n);case 5:r=i.sent,t.user_id?t.userInfo.user_avatar=r.user_avatar:t.$store.commit("user/SET_USER_INFO",r),t.$toast.success("Успешно сохранено"),i.next=13;break;case 10:i.prev=10,i.t0=i["catch"](2),console.log(i.t0);case 13:return i.prev=13,t.loading=!1,i.finish(13);case 16:case"end":return i.stop()}}),i,null,[[2,10,13,16]])})));return function(e){return i.apply(this,arguments)}}()):this.loading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/heic"===e.type||"image/heif"===e.type;t||this.$toast.error("Некорректный формат");var i=e.size/1024/1024<5;return i||this.$toast.error("Фото должно быть меньше 5мб"),t&&i},saveEntity:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.abrupt("return",t.$store.dispatch("app/saveEntity",{data:e,method:"patch",entityName:"users",id:t.user_id?t.user_id:t.userInfo.id}));case 4:throw i.prev=4,i.t0=i["catch"](0),i.t0;case 7:case"end":return i.stop()}}),i,null,[[0,4]])})))()}}},u=l,m=(i("6233"),i("da5e"),i("2877")),d=Object(m["a"])(u,r,s,!1,null,"f2fee0b0",null),p=d.exports,v="https://студентгода63.рф/media",f={props:{user_id:{type:String,required:!1},user_data:{type:Object,required:!1}},components:{Avatar:p},data:function(){return{media:v}},computed:{userInfo:function(){return this.$store.state.user.userInfo}}},_=f,h=(i("4e12"),Object(m["a"])(_,a,n,!1,null,"0ad1ab52",null));t["a"]=h.exports},1359:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-nomination"},[i("h3",[e._v(e._s(1===e.nominations.length?"Номинация":"Номинации"))]),i("span",[e._v(e._s(e.nominations.map((function(e){return e.name})).join(", ")))])])},n=[],r={props:["nominations"]},s=r,o=(i("89bd"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,"b5216dfc",null);t["a"]=c.exports},"1c7e":function(e,t,i){var a=i("b622"),n=a("iterator"),r=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){r=!0}};o[n]=function(){return this},Array.from(o,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var a={};a[n]=function(){return{next:function(){return{done:i=!0}}}},e(a)}catch(c){}return i}},"1f31":function(e,t,i){"use strict";i("6236")},2266:function(e,t,i){var a=i("825a"),n=i("e95a"),r=i("50c4"),s=i("0366"),o=i("35a1"),c=i("2a62"),l=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,i){var u,m,d,p,v,f,_,h=i&&i.that,b=!(!i||!i.AS_ENTRIES),y=!(!i||!i.IS_ITERATOR),g=!(!i||!i.INTERRUPTED),C=s(t,h,1+b+g),x=function(e){return u&&c(u),new l(!0,e)},k=function(e){return b?(a(e),g?C(e[0],e[1],x):C(e[0],e[1])):g?C(e,x):C(e)};if(y)u=e;else{if(m=o(e),"function"!=typeof m)throw TypeError("Target is not iterable");if(n(m)){for(d=0,p=r(e.length);p>d;d++)if(v=k(e[d]),v&&v instanceof l)return v;return new l(!1)}u=m.call(e)}f=u.next;while(!(_=f.call(u)).done){try{v=k(_.value)}catch(q){throw c(u),q}if("object"==typeof v&&v&&v instanceof l)return v}return new l(!1)}},2909:function(e,t,i){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,a=new Array(t);i<t;i++)a[i]=e[i];return a}function n(e){if(Array.isArray(e))return a(e)}i.d(t,"a",(function(){return c}));i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),i("a630");function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}i("fb6a"),i("b0c0");function s(e,t){if(e){if("string"===typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||r(e)||s(e)||o()}},"2a62":function(e,t,i){var a=i("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return a(t.call(e)).value}},"2d21":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"document-container"},[i("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.indicator.name)+" ")]),e.indicator.hint_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.indicator.hint_text)+" ")]):e._e(),i("div",[i("ol",{staticClass:"achievement-list"},[e._l(e.indicator.achievements,(function(t,a){return i("upload-achievements-item-info",{key:t.id,attrs:{position:a+1,participationDegree:e.participationDegree,setFiles:e.setFiles,item:t,disabled:!0,indicator:e.indicator},on:{remove:function(t){return e.$emit("remove",t)}}})})),i("x-form",{attrs:{values:e.form,name:"achievement"},on:{submit:function(t){return e.submit(e.indicator.id)}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("upload-achievements-item",{key:e.achievements.length+1,attrs:{setFiles:e.setFiles,position:e.achievements.length+1,participationDegree:e.participationDegree,indicator:e.indicator}})],1)],2)])])},n=[],r=i("5530"),s=i("1da1"),o=(i("96cf"),i("b48b")),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"achievement-list__item only-achievements"},[e.isVisible?e._e():i("div",{staticClass:"achievement-list__item--info"},[i("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[i("span",{staticClass:"count"},[e._v(e._s(e.position))]),i("x-input",{staticClass:"item-name",attrs:{name:"name",type:"text",validation:"required",label:"Название достижения","error-behavior":"submit"}}),e.indicator.degree_participation?i("x-input",{staticClass:"item-participation",attrs:{name:"degree_participation",type:"select",validation:"required",options:e.participationDegree,label:"Степень участия","error-behavior":"submit"}}):e._e(),i("x-input",{staticClass:"item-period",attrs:{name:"period",type:"select",validation:"required",options:e.getPeriod,label:"Год","error-behavior":"submit"}})],1),i("div",{staticClass:"achievement-list__item--info--block"},[e.indicator.url?i("x-input",{staticStyle:{width:"100%"},attrs:{type:"url",name:"url",validation:"required",label:"Вставьте ссылку на видео","error-behavior":"submit"}}):e._e()],1),i("div",{staticClass:"achievement-list__item--info--block"},[e.indicator.document?i("file-component",{attrs:{hint_text:"Файлы загружаются по принципу: 1 поле - 1 файл. Если нужно прикрепить несколько документов к одному полю, вы можете объединить их в 1 многостраничный pdf. Документ должен четко читаться и отображаться."},on:{change:function(t){return e.setFiles(t)}}}):e._e()],1),i("a-button",{staticClass:"document-container-button achievement-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Сохранить данные достижения")])],1)],1)])},l=[],u=(i("a9e3"),{components:{FileComponent:o["a"]},props:{participationDegree:{type:Array,required:!0},position:{type:Number,required:!0},setFiles:{type:Function,required:!1},indicator:{type:Object,required:!0}},computed:{isVisible:function(){return this.indicator.max_count_achievement===this.indicator.achievements.length},getPeriod:function(){for(var e=this.indicator.period,t=e.start_achievement,i=e.finish_achievement,a=[],n=t;n<=i;n++)a.push(n);return a}}}),m=u,d=(i("deca"),i("5b2d"),i("2877")),p=Object(d["a"])(m,c,l,!1,null,"c80fa624",null),v=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("span",{staticClass:"count"},[e._v(e._s(e.position))]),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить достижение")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:e.deleteAchievement}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v(e._s(e.item.name))])]),e.item.degree_participation?i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v(e._s(e.item.degree_participation))])]):e._e(),i("div",{staticClass:"achievement-list__item--read--item item-period"},[i("span",[e._v(e._s(e.item.period))])])]),e.item.url?i("div",{staticClass:"achievement-list__item--read--item"},[i("a",{attrs:{href:e.item.url,target:"_blank"}},[e._v(e._s(e.item.url))])]):e._e(),e.item.documents.length?i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files"},[i("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(e.item.documents[0].document),target:"_blank"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(e.item.documents[0].documentName))])],1)])]):e._e()])},_=[],h=(i("99af"),"https://студентгода63.рф/media"),b={components:{FileComponent:o["a"]},data:function(){return{media:h}},props:{participationDegree:{type:Array,required:!0},position:{type:Number,required:!0},setFiles:{type:Function,required:!1},item:{type:Object,required:!0}},methods:{getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},deleteAchievement:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Вы точно хотите удалить достижение?",showCancelButton:!0});case 2:i=t.sent,a=i.isConfirmed,a&&e.$emit("remove",e.item.id);case 5:case"end":return t.stop()}}),t)})))()}}},y=b,g=(i("1f31"),Object(d["a"])(y,f,_,!1,null,"143f06f0",null)),C=g.exports,x={components:{UploadAchievementsItem:v,FileComponent:o["a"],UploadAchievementsItemInfo:C},props:{achievements:{type:Array,required:!0},participationDegree:{type:Array,required:!0},indicator:{type:Object,required:!0},saveAchievement:{type:Function,required:!0}},data:function(){return{form:{}}},methods:{setFiles:function(e){this.form.documents=e},submit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.saveAchievement(Object(r["a"])(Object(r["a"])({},t.form),{},{indicators:e}),"achievement");case 3:t.form={},i.next=9;break;case 6:i.prev=6,i.t0=i["catch"](0),console.log(i.t0);case 9:case"end":return i.stop()}}),i,null,[[0,6]])})))()}}},k=x,q=(i("3e35"),i("5c7b"),Object(d["a"])(k,a,n,!1,null,null,null));t["a"]=q.exports},"35a1":function(e,t,i){var a=i("f5df"),n=i("3f8c"),r=i("b622"),s=r("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||n[a(e)]}},"360b":function(e,t,i){"use strict";i("6c76")},"36aa":function(e,t,i){},"3d50":function(e,t,i){},"3e35":function(e,t,i){"use strict";i("7bd3")},4032:function(e,t,i){},"42b9":function(e,t,i){},4475:function(e,t,i){"use strict";i("6419")},"46f9":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a-tabs",{attrs:{"tab-position":e.getWidth<920?"right":"top","default-active-key":e.activeTab?e.activeTab:e.activePage},on:{change:function(t){return e.activeTab?e.$emit("setActiveNomination",t):e.$router.push("/profile/"+t)}}},e._l(e.tabs?e.tabs:e.routerTabs,(function(e){return i("a-tab-pane",{key:e.id,attrs:{tab:e.name}})})),1)},n=[],r=(i("a9e3"),i("6528")),s={mixins:[r["a"]],props:{tabs:{type:Array},activeTab:{type:null|Number}},data:function(){return{routerTabs:[{name:"Основные сведения",id:"edit"},{name:"Анкета участника",id:"questionnaire"},{name:"Прикрепленные документы",id:"achievements"}]}},computed:{activePage:function(){return this.$route.meta.tabName}}},o=s,c=i("2877"),l=Object(c["a"])(o,a,n,!1,null,"06d32528",null);t["a"]=l.exports},"4df4":function(e,t,i){"use strict";var a=i("0366"),n=i("7b0b"),r=i("9bdd"),s=i("e95a"),o=i("50c4"),c=i("8418"),l=i("35a1");e.exports=function(e){var t,i,u,m,d,p,v=n(e),f="function"==typeof this?this:Array,_=arguments.length,h=_>1?arguments[1]:void 0,b=void 0!==h,y=l(v),g=0;if(b&&(h=a(h,_>2?arguments[2]:void 0,2)),void 0==y||f==Array&&s(y))for(t=o(v.length),i=new f(t);t>g;g++)p=b?h(v[g],g):v[g],c(i,g,p);else for(m=y.call(v),d=m.next,i=new f;!(u=d.call(m)).done;g++)p=b?r(m,h,[u.value,g],!0):u.value,c(i,g,p);return i.length=g,i}},"4e12":function(e,t,i){"use strict";i("42b9")},"4fad":function(e,t,i){var a=i("23e7"),n=i("6f53").entries;a({target:"Object",stat:!0},{entries:function(e){return n(e)}})},5306:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"document-container upload-spec-org"},[i("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.indicator.name)+" ")]),i("div",[e.achievements.length?i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить достижение")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:e.deleteAchievement}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v("Название достижения")]),i("span",[e._v(e._s(e.achievements[0].name))])]),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v("ФИО организатора")]),i("span",[e._v(e._s(e.achievements[0].full_name_head_organization))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v("Курс")]),i("span",[e._v(e._s(e.achievements[0].course_head_organization))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v("Номер телефона")]),i("span",[e._v(e._s(e.achievements[0].phone_head_organization))])]),i("div",{staticClass:"achievement-list__item--read--item item-period"},[i("span",[e._v("E-mail")]),i("span",[e._v(e._s(e.achievements[0].email_head_organization))])])])]):i("x-form",{attrs:{values:e.form,name:"spec-org"},on:{submit:function(t){return e.submit(e.indicator.id)}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("x-input",{attrs:{type:"text",name:"name",label:"Название достижения",validation:"required"}}),i("x-input",{attrs:{type:"text",name:"full_name_head_organization",label:"ФИО организатора",validation:"isFullName","validation-rules":{isFullName:function(e){var t=e.value;return 3===t.trim().split(" ").length}},"validation-messages":{isFullName:"Введите ФИО"}}}),i("x-input",{attrs:{type:"select",options:[1,2,3,4,5,6],name:"course_head_organization",label:"Курс",validation:"required"}}),i("x-input",{directives:[{name:"mask",rawName:"v-mask",value:"+7 (###) ###-##-##",expression:"`+7 (###) ###-##-##`"}],attrs:{type:"tel",name:"phone_head_organization",label:"Номер телефона",validation:[["required"],["min","18"]]}}),i("x-input",{attrs:{type:"email",name:"email_head_organization",label:"E-mail",validation:"required"}}),i("a-button",{staticClass:"document-container-button achievement-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Сохранить данные достижения")])],1)],1)],1)])},n=[],r=i("5530"),s=i("1da1"),o=(i("96cf"),i("b48b")),c=i("f72f"),l=i("7561"),u=i("3a60"),m={directives:{mask:u["mask"]},components:{FileComponent:o["a"],UploadSpecParticipant:c["a"],UploadSpecDescription:l["a"]},props:{indicator:{type:Object,required:!0},saveAchievement:{type:Function,required:!0},achievements:{type:Array,required:!0}},data:function(){return{form:{}}},methods:{submit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,t.saveAchievement(Object(r["a"])(Object(r["a"])({},t.form),{},{indicators:e}),"spec-org");case 3:t.form={},i.next=9;break;case 6:i.prev=6,i.t0=i["catch"](0),console.log(i.t0);case 9:case"end":return i.stop()}}),i,null,[[0,6]])})))()},deleteAchievement:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Вы точно хотите удалить достижение?",showCancelButton:!0});case 2:i=t.sent,a=i.isConfirmed,a&&e.$emit("remove",e.achievements[0].id);case 5:case"end":return t.stop()}}),t)})))()}}},d=m,p=i("2877"),v=Object(p["a"])(d,a,n,!1,null,null,null);t["a"]=v.exports},5904:function(e,t,i){"use strict";i("36aa")},"5b2d":function(e,t,i){"use strict";i("6b40")},"5c7b":function(e,t,i){"use strict";i("c155")},6233:function(e,t,i){"use strict";i("c336")},6236:function(e,t,i){},6419:function(e,t,i){},6528:function(e,t,i){"use strict";t["a"]={data:function(){return{windowWidth:window.innerWidth}},computed:{getWidth:function(){return this.windowWidth}},mounted:function(){window.addEventListener("resize",this.onResize)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},methods:{onResize:function(){this.windowWidth=window.innerWidth}}}},6834:function(e,t,i){},"6b40":function(e,t,i){},"6c76":function(e,t,i){},"6f53":function(e,t,i){var a=i("83ab"),n=i("df75"),r=i("fc6a"),s=i("d1e7").f,o=function(e){return function(t){var i,o=r(t),c=n(o),l=c.length,u=0,m=[];while(l>u)i=c[u++],a&&!s.call(o,i)||m.push(e?[i,o[i]]:o[i]);return m}};e.exports={entries:o(!0),values:o(!1)}},7561:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"achievement-spec-block achievement-spec-block--descirption"},[i("x-input",{staticClass:"item-name",attrs:{name:"name_association",type:"text",validation:"required",label:"Наименование ассоциации","error-behavior":"submit"}}),i("x-input",{staticClass:"item-participation",attrs:{name:"educational_organization",type:"text",validation:"required",label:"Образовательная организация","error-behavior":"submit"}}),i("x-input",{staticClass:"item-period",attrs:{name:"year_foundation",type:"number",min:"1900",max:"2100",validation:"required:min:1900|max:2100",label:"Год основания","error-behavior":"submit"}}),i("x-input",{staticClass:"item-period",attrs:{name:"brief_description_association",type:"textarea",validation:"required",label:"Характеристика","error-behavior":"submit"}})],1)},n=[],r={},s=r,o=(i("5904"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,null,null);t["a"]=c.exports},"75a1":function(e,t,i){"use strict";i("894dc")},"7bd3":function(e,t,i){},"7db0":function(e,t,i){"use strict";var a=i("23e7"),n=i("b727").find,r=i("44d2"),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},"894dc":function(e,t,i){},"89bd":function(e,t,i){"use strict";i("6834")},"8a3a":function(e,t,i){},"8f0e":function(e,t,i){"use strict";i("dfd3")},"9bdd":function(e,t,i){var a=i("825a"),n=i("2a62");e.exports=function(e,t,i,r){try{return r?t(a(i)[0],i[1]):t(i)}catch(s){throw n(e),s}}},"9ebe":function(e,t,i){"use strict";i("b60a")},a15b:function(e,t,i){"use strict";var a=i("23e7"),n=i("44ad"),r=i("fc6a"),s=i("a640"),o=[].join,c=n!=Object,l=s("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(e){return o.call(r(this),void 0===e?",":e)}})},a630:function(e,t,i){var a=i("23e7"),n=i("4df4"),r=i("1c7e"),s=!r((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:s},{from:n})},a8f3:function(e,t,i){"use strict";i("3d50")},ac3d:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"document-container"},[i("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.questionnaire.name)+" ")]),"only_file"===e.questionnaire.type?i("div",{},[e.questionnaire.first_help_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),i("div",{staticClass:"achievement-list__item--info--block"},[e.only_file_document?i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files questionnaire-file only-file"},[i("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(e.only_file_document),target:"_blank"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(e.addDocumentName(e.only_file_document)))])],1),i("v-icon",{staticClass:"times-icon",attrs:{name:"times"},on:{click:function(t){t.stopPropagation(),e.only_file_document=null}}})],1)]):i("file-component",{attrs:{title:e.questionnaire.title,acceptFormats:e.questionnaire.acceptFormats},on:{change:function(t){return e.setFiles(t)}}})],1)]):e._e(),"multiple"===e.questionnaire.type?i("div",{},[e.questionnaire.first_help_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),i("upload-questionnaire-characteristic",{attrs:{characteristics:e.characteristics},on:{remove:e.removeCharacteristic,add:e.addCharacteristic}})],1):e._e(),"radio_and_multiple"===e.questionnaire.type?i("div",{},[i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.subname)+" ")]),i("FormulateInput",{staticClass:"inline-checkbox",attrs:{type:"radio",name:"yes-"+e.questionnaire.id,options:e.yesno},model:{value:e.yesValue,callback:function(t){e.yesValue=t},expression:"yesValue"}}),"yes"===e.yesValue?i("div",{staticClass:"achievement-spec-block--reports"},[e.questionnaire.first_help_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),i("upload-questionnaire-report",{attrs:{reports:e.reports},on:{removeReport:e.removeReport,addReport:e.addReport}}),e.questionnaire.second_help_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.second_help_text)+" ")]):e._e(),i("file-component",{attrs:{multiple:""},on:{change:function(t){return e.setFiles(t)}}}),i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files questionnaire-file"},[e.loadedDocuments.length?i("div",{staticClass:"questionnaire-file--files"},e._l(e.loadedDocuments,(function(t,a){return i("div",{key:t.id,staticClass:"multiple-file-questionnaire"},[i("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(t.document),target:"_blank"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(e.addDocumentName(t.document)))])],1),i("v-icon",{staticClass:"times-icon",attrs:{name:"times"},on:{click:function(i){return e.deleteDocument(t,a)}}})],1)})),0):e._e()])])],1):e._e()],1):e._e()])},n=[],r=i("1da1"),s=(i("96cf"),i("ac1f"),i("1276"),i("99af"),i("a434"),i("b48b")),o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"achievement-spec-block"},[e._l(e.reports,(function(t,a){return i("li",{key:a,staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("span",{staticClass:"count"},[e._v(e._s(a+1))]),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить оценку")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(i){return e.deleteReport(a,t.id)}}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v(e._s(t.name))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v(e._s(t.rating))])])])])})),e.isVisible&&!e.loading?i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--info"},[i("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[i("x-form",{staticClass:"achievement-spec-block--form",attrs:{name:"reportForm"},on:{submit:e.addReport},model:{value:e.reportForm,callback:function(t){e.reportForm=t},expression:"reportForm"}},[i("div",{staticClass:"achievement-spec-block--form-item"},[i("span",{staticClass:"count"},[e._v(e._s(e.reports.length+1))]),i("x-input",{staticClass:"item-name",attrs:{name:"name",type:"text",validation:"required",label:"Название предмета","error-behavior":"submit"}}),i("x-input",{staticClass:"item-participation",attrs:{name:"rating",type:"select",validation:"required",options:e.rating,label:"Оценка","error-behavior":"submit"}})],1),i("a-button",{staticClass:"document-container-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Добавить предмет")])],1)],1)],1)])]):e._e()],2)},c=[],l=i("5530"),u={props:{reports:{type:Array,required:!0}},data:function(){return{reportForm:{},rating:[2,3,4,5],loading:!1}},computed:{isVisible:function(){return this.reports.length<20}},methods:{addReport:function(){var e=this;this.loading=!0,this.$emit("addReport",Object(l["a"])({},this.reportForm)),setTimeout((function(){e.reportForm={},e.loading=!1}),0)},deleteReport:function(e,t){this.$emit("removeReport",e,t)}}},m=u,d=(i("026f"),i("2877")),p=Object(d["a"])(m,o,c,!1,null,null,null),v=p.exports,f=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"achievement-spec-block characteristic"},[e._l(e.characteristics,(function(t,a){return i("li",{key:a,staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("span",{staticClass:"count"},[e._v(e._s(a+1))]),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить характеристику")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(i){return e.deleteCharacteristic(a,t.id)}}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v(e._s(t.document_type))])]),i("div",{staticClass:"achievement-list__item--read--item"},[i("span",[e._v(e._s(t.year_manufacture))])]),i("div",{staticClass:"achievement-list__item--read--item"},[i("span",[e._v(e._s(t.who_issued))])]),t.documents&&t.documents.length?i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files"},[t.documents[0].document?i("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(t.documents[0].document),target:"_blank"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(t.documents[0].id?e.addDocumentName(t.documents[0].document):t.documents[0].name))])],1):i("a",{staticClass:"file-container__files--file"},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(t.documents[0].id?e.addDocumentName(t.documents[0].document):t.documents[0].name))])],1)])]):e._e()])])})),e.isVisible&&!e.loading?i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--info"},[i("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[i("x-form",{staticClass:"achievement-spec-block--form",attrs:{valuses:e.form,name:"form"},on:{submit:e.add},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"achievement-spec-block--form-item characteristic"},[i("span",{staticClass:"count"},[e._v(e._s(e.characteristics.length+1))]),i("x-input",{staticClass:"item-name",attrs:{name:"document_type",type:"text",validation:"required",label:"Вид документа","error-behavior":"submit"}}),i("x-input",{staticClass:"item-name item-name-year",attrs:{name:"year_manufacture",type:"number",min:"1900",max:"2100",validation:"required:min:1900|max:2100",label:"Год выдачи","error-behavior":"submit"}}),i("x-input",{staticClass:"item-participation",attrs:{name:"who_issued",type:"select",validation:"required",options:e.issuingAuthority,label:"Кто выдал","error-behavior":"submit"}})],1),i("div",{staticClass:"achievement-spec-block--form-item"},[i("file-component",{attrs:{hint_text:"Файлы загружаются по принципу: 1 поле - 1 файл. Если нужно прикрепить несколько документов к одному полю, вы можете объединить их в 1 многостраничный pdf. Документ должен четко читаться и отображаться."},on:{change:function(t){return e.setFiles(t)}}})],1),i("a-button",{staticClass:"document-container-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Добавить характеристику")])],1)],1)],1)])]):e._e()],2)},_=[],h=i("09bc"),b="https://студентгода63.рф/media",y={components:{FileComponent:s["a"]},props:{characteristics:{type:Array,required:!0}},data:function(){return{loading:!1,form:{},media:b,issuingAuthority:h["j"]}},computed:{isVisible:function(){return this.characteristics.length<3}},methods:{add:function(){var e=this;this.loading=!0,this.$emit("add",Object(l["a"])({},this.form)),setTimeout((function(){e.form={},e.loading=!1}),0)},deleteCharacteristic:function(e,t){this.$emit("remove",e,t)},getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},setFiles:function(e){this.form.documents=e}}},g=y,C=(i("daa8"),Object(d["a"])(g,f,_,!1,null,null,null)),x=C.exports,k=i("cd3f"),q=i.n(k),w="https://студентгода63.рф/media",F={components:{FileComponent:s["a"],UploadQuestionnaireReport:v,UploadQuestionnaireCharacteristic:x},props:{questionnaire:{type:Object,required:!0},isProfile:{type:Boolean,required:!1}},data:function(){return{id:this.questionnaire.id,media:w,form:{},yesValue:"yes",yesno:{yes:"Да",no:"Нет"},reports:[],documents:[],characteristics:[],only_file_document:null,loadedDocuments:[]}},mounted:function(){"only_file"===this.questionnaire.type&&this.questionnaire.documents&&(this.only_file_document=this.questionnaire.documents),"multiple"===this.questionnaire.type&&this.questionnaire.data&&(this.characteristics=this.questionnaire.data),"radio_and_multiple"===this.questionnaire.type&&this.questionnaire.data&&(this.loadedDocuments=q()(this.questionnaire.data.documents),this.reports=this.questionnaire.data.reports)},methods:{addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},setFiles:function(e){this.documents=e},addReport:function(e){this.reports.push(e)},removeReport:function(e,t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=10;break}return a.prev=1,a.next=4,i.$store.dispatch("app/deleteItem",{entityName:"report",id:t,nothingStoreDelete:!0});case 4:a.next=10;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log(a.t0),i.$errors.show(a.t0.response.data);case 10:i.reports.splice(e,1);case 11:case"end":return a.stop()}}),a,null,[[1,6]])})))()},removeCharacteristic:function(e,t){var i=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t){a.next=10;break}return a.prev=1,a.next=4,i.$store.dispatch("app/deleteItem",{entityName:"characteristic",id:t,nothingStoreDelete:!0});case 4:a.next=10;break;case 6:a.prev=6,a.t0=a["catch"](1),console.log(a.t0),i.$errors.show(a.t0.response.data);case 10:i.characteristics.splice(e,1);case 11:case"end":return a.stop()}}),a,null,[[1,6]])})))()},addCharacteristic:function(e){this.characteristics.push(e)},deleteDocument:function(e,t){var i=this;this.loading=!0,this.loadedDocuments.splice(t,1),setTimeout((function(){i.loading=!1}),0)}}},j=F,O=(i("a8f3"),i("75a1"),Object(d["a"])(j,a,n,!1,null,null,null));t["a"]=O.exports},b48b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files"},e._l(e.files,(function(t){return i("div",{key:t.name,staticClass:"file-container__files--file"},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(t.name))]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(i){return e.removeFiles(t)}}})],1)})),0),i("FormulateInput",{staticClass:"document-uploader user-upload not-active achievement",attrs:{"label-class":"document-label",name:"documents",type:"file",validation:"mime:"+e.acceptFormat.join(",")+"|download","validation-rules":{download:function(t){t.value;return e.files.length}},"validation-messages":{download:"Загрузите документ"}},scopedSlots:e._u([{key:"element",fn:function(){return[i("input",{ref:"files",staticClass:"document-uploader--input",attrs:{type:"file",multiple:e.multiple,accept:e.acceptFormat.join(","),isDrag:e.dragHover},on:{dragover:function(t){e.dragHover=!0},dragleave:function(t){e.dragHover=!1},dragend:function(t){e.dragHover=!1},drop:e.setFile,change:e.setFile}}),i("label",{staticClass:"document-uploader--custom",attrs:{name:"file",for:"upload"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(e.title||e.getLabel))])],1)]},proxy:!0}])}),e.hint_text?i("div",{staticClass:"hint-text-file"},[e._v(" "+e._s(e.hint_text)+" ")]):e._e()],1)},n=[],r=i("1da1"),s=(i("96cf"),i("a434"),i("c740"),i("b0c0"),i("159b"),i("7db0"),i("caad6"),i("2532"),i("09bc")),o={props:{multiple:{type:Boolean},title:{type:String,required:!1},acceptFormats:{type:Array,required:!1},hint_text:{type:String,required:!1}},data:function(){return{dragHover:!1,uploadPercentage:0,files:[],acceptFormat:this.acceptFormats?this.acceptFormats:s["a"]}},computed:{getLabel:function(){return this.dragHover?"Перетащите сюда":"Прикрепить файл"}},methods:{removeFiles:function(e){this.files.splice(this.files.findIndex((function(t){return t.name===e.name})),1)},setFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(t.dragHover=!1,!t.multiple){i.next=6;break}e.target.files.forEach((function(e,i){t.files.find((function(t){return t.name===e.name})),t.files.find((function(t){return t.name===e.name}))||(t.acceptFormat.includes(e.type)?t.files.push(e):t.$toast.error("Неккоректный формат"))})),t.$emit("change",t.files),i.next=15;break;case 6:if(a=e.target.files,a.length){i.next=9;break}return i.abrupt("return");case 9:if(t.acceptFormat.includes(a[0].type)){i.next=12;break}return t.$toast.error("Неккоректный формат"),i.abrupt("return");case 12:t.files=[e.target.files[0]],t.$refs.files.value=null,t.$emit("change",t.files);case 15:case"end":return i.stop()}}),i)})))()}}},c=o,l=(i("8f0e"),i("2877")),u=Object(l["a"])(c,a,n,!1,null,"b1541700",null);t["a"]=u.exports},b60a:function(e,t,i){},bfd1:function(e,t,i){"use strict";t["a"]={data:function(){var e=this;return{infos:[{title:"Личные данные",info:[{name:"Пол",key:"gender",render:function(t){return e.getGender(t)}},{name:"Дата рождения",key:"date_birth",render:function(t){return e.getBirthday(t)}},{name:"Номер телефона",key:"phone_number"},{name:"E-mail",key:"email"},{name:"Гражданство",key:"citizenship"}]},{title:"Адрес",info:[{name:"Регион",key:"region"},{name:"Район/городской округ",key:"locality",render:function(t){return e.getBirthday(t)}},{name:"Населённый пункт",key:"district",render:function(e){return e}},{name:"Почтовый индекс",key:"postal_code"},{name:"Улица",key:"street"},{name:"Номер дома",key:"house"},{name:"Квартира",key:"apartment",require:!1}]},{title:"Образование",info:[{name:"Форма обучения",key:"form_education"},{name:"Место обучения",key:"place_education",render:function(t){return e.getPlaceEducation(t)}},{name:"Образовательная организация",key:"name_place_education"}]}]}}}},c155:function(e,t,i){},c1f9:function(e,t,i){var a=i("23e7"),n=i("2266"),r=i("8418");a({target:"Object",stat:!0},{fromEntries:function(e){var t={};return n(e,(function(e,i){r(t,e,i)}),{AS_ENTRIES:!0}),t}})},c336:function(e,t,i){},d28b:function(e,t,i){var a=i("746f");a("iterator")},da5e:function(e,t,i){"use strict";i("8a3a")},daa8:function(e,t,i){"use strict";i("4032")},deca:function(e,t,i){"use strict";i("0536")},dfd3:function(e,t,i){},e01a:function(e,t,i){"use strict";var a=i("23e7"),n=i("83ab"),r=i("da84"),s=i("5135"),o=i("861d"),c=i("9bf2").f,l=i("e893"),u=r.Symbol;if(n&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var m={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new u(e):void 0===e?u():u(e);return""===e&&(m[t]=!0),t};l(d,u);var p=d.prototype=u.prototype;p.constructor=d;var v=p.toString,f="Symbol(test)"==String(u("test")),_=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=v.call(e);if(s(m,e))return"";var i=f?t.slice(7,-1):t.replace(_,"$1");return""===i?void 0:i}}),a({global:!0,forced:!0},{Symbol:d})}},e95a:function(e,t,i){var a=i("b622"),n=i("3f8c"),r=a("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},eb47:function(e,t,i){},f60b:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"profile-infoblock"},[i("div",{staticClass:"profile-infoblock__title"},[e._v(" "+e._s(e.title)+" ")]),i("div",{staticClass:"profile-infoblock__data"},e._l(e.data,(function(t){return i("div",{key:t.name,staticClass:"profile-infoblock__data--item"},[i("span",{staticClass:"profile-infoblock__data--item-name"},[e._v(e._s(t.name))]),i("span",{staticClass:"profile-infoblock__data--item-value"},[e._v(e._s(t.render?t.render(e.userInfo[t.key]):e.userInfo[t.key]))])])})),0)])},n=[],r={props:{title:{type:String,required:!0},data:{type:Array,required:!0},userInfo:{type:Object,required:!0}}},s=r,o=(i("360b"),i("2877")),c=Object(o["a"])(s,a,n,!1,null,"0785dd18",null);t["a"]=c.exports},f729:function(e,t,i){"use strict";var a=i("ade3"),n=i("09bc");t["a"]={data:function(){var e=this;return{items:[[{name:"first_name",validation:"required",type:"text",label:"Фамилия"},{name:"last_name",validation:"required",type:"text",label:"Имя"},{name:"patronymic",type:"text",label:"Отчество",md:24}],[{name:"gender",validation:[["required"]],type:"radio",label:"Пол",options:{male:"Мужской",female:"Женский"},class:"inline-checkbox"},{name:"date_birth",validation:"required|after:1950-01-01|before:2005-01-01",min:"1950-01-01",max:"2005-01-01",type:"date",label:"Дата рождения"},{name:"phone_number",validation:[["required"],["min","18"]],mask:"+7 (###) ###-##-##",type:"tel",label:"Номер телефона",md:24}],[{name:"citizenshipCheckbox",validation:"required",type:"radio",label:"Гражданство",options:["РФ","Другое"],class:"inline-checkbox"},{name:"citizenship",validation:"required",visible:function(){return"Другое"===e.form.citizenshipCheckbox},type:"text",label:"Другое гражданство"},{name:"email",validation:"required",type:"text",label:"Email"},{name:"url_vk",validation:"required",type:"url",label:"Ссылка на страницу ВК",md:24,xl:24}],[{name:"region",type:"text",label:"Регион",disabled:!0},{name:"locality",validation:"required",label:"Район/Городской округ",type:"select",options:n["i"]},{name:"district",validation:"required",label:"Населенный пункт",type:"select",options:n["b"],md:24},{name:"district_another",validation:"required",visible:function(){return"Другое"===e.form.district},type:"text",label:"Введите населённый пункт",md:24,xl:24}],[Object(a["a"])({name:"postal_code",validation:"required",type:"text",label:"Почтовый индекс",maxlength:6},"validation","required|min:6,length|max:6,length"),{name:"street",validation:"required",type:"text",label:"Улица"},{name:"house",type:"text",validation:"required",label:"Номер дома",xl:4},{name:"apartment",max:"999",min:"1",step:"1",type:"number",label:"Квартира",xl:4}],[{name:"form_education",validation:"accept",validationRules:{accept:function(e){var t=e.value;return 1===t.length}},validationMessages:{accept:"Укажите форму обучения"},type:"checkbox",label:"Форма обучения",class:"inline-checkbox",disabled:!0,options:["Очная"],help_text:"Участие в конкурсе возможно только для обучающихся очной формы обучения"},{name:"place_education",validation:"required",label:"Место обучения",type:"select",options:n["g"]},{name:"name_place_education",validation:"required",label:"Образовательная организация",type:"select",options:function(){return"colleges"===e.form.place_education?n["c"]:n["m"]},md:24,xl:8}],[{name:"course_education",validation:"required",label:"Курс обучения",type:"select",options:n["d"]},{name:"nomination",validation:"required",label:"Номинация",type:"vue-select",multiple:!0,class:function(){return e.form.nomination.length>=2?"has-all":""},selectable:function(){return e.form.nomination.length<3},optionName:"app/optionNomination",xl:16}]]}}}},f72f:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ol",{staticClass:"achievement-spec-block spec-participant"},[e._l(e.participants,(function(t,a){return i("li",{key:t.fullname,staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("span",{staticClass:"count"},[e._v(e._s(a+1))]),i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить участника")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(t){return e.deleteParticipant(a)}}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v(e._s(t.fullname))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v(e._s(t.degree_participation))])])])])})),e.loading?e._e():i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--info"},[i("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[i("x-form",{staticClass:"achievement-spec-block--form",attrs:{name:"participantForm"},on:{submit:e.addParticipant},model:{value:e.participantForm,callback:function(t){e.participantForm=t},expression:"participantForm"}},[i("div",{staticClass:"achievement-spec-block--form-item"},[i("span",{staticClass:"count"},[e._v(e._s(e.participants.length+1))]),i("x-input",{staticClass:"item-name",attrs:{name:"fullname",type:"text",validation:"isFullName",label:"ФИО участника","validation-rules":{isFullName:function(e){var t=e.value;return 3===t.trim().split(" ").length}},"validation-messages":{isFullName:"Введите ФИО"},"error-behavior":"submit"}}),i("x-input",{staticClass:"item-participation",attrs:{name:"degree_participation",type:"select",validation:"required",options:e.participationDegree,label:"Степень участия","error-behavior":"submit"}})],1),i("a-button",{staticClass:"document-container-button achievement-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Добавить участника")])],1)],1)],1)])])],2)},n=[],r=i("5530"),s={props:{participationDegree:{type:Array,required:!0},participants:{type:Array,required:!0}},data:function(){return{loading:!1,participantForm:{}}},methods:{addParticipant:function(){var e=this;this.loading=!0,this.$emit("add-participant",Object(r["a"])({},this.participantForm)),setTimeout((function(){e.participantForm={},e.loading=!1}),0)},deleteParticipant:function(e){this.$emit("remove-participant",e)}}},o=s,c=(i("9ebe"),i("2877")),l=Object(c["a"])(o,a,n,!1,null,null,null);t["a"]=l.exports},fb88:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"document-container upload-spec-org"},[i("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.indicator.name)+" ")]),e.indicator.hint_text?i("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.indicator.hint_text)+" ")]):e._e(),i("div",[e.achievements.length?i("li",{staticClass:"achievement-list__item"},[i("div",{staticClass:"achievement-list__item--read"},[i("div",{staticClass:"achievement-list__item--tools"},[i("a-tooltip",{attrs:{placement:"top"}},[i("template",{slot:"title"},[i("span",[e._v("Удалить достижение")])]),i("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:e.deleteAchievement}})],2)],1),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v("Название достижения")]),i("span",[e._v(e._s(e.achievements[0].name))])]),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v("Наименование ассоциации")]),i("span",[e._v(e._s(e.achievements[0].name_association))])]),i("div",{staticClass:"achievement-list__item--read--item item-name"},[i("span",[e._v("Образовательная организация")]),i("span",[e._v(e._s(e.achievements[0].educational_organization))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v("Год основания")]),i("span",[e._v(e._s(e.achievements[0].year_foundation))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v("Характеристика")]),i("span",[e._v(e._s(e.achievements[0].brief_description_association))])]),i("div",{staticClass:"achievement-list__item--read--item item-participation"},[i("span",[e._v("Участники")]),i("ul",{staticClass:"participation-person-list"},e._l(e.achievements[0].full_name,(function(t,a){return i("li",{key:a,staticClass:"participation-person-list--item"},[i("span",[e._v(e._s(t[0]))]),i("span",[e._v(e._s(t[1]))])])})),0)]),i("div",{staticClass:"achievement-list__item--read--item item-period"},[i("span",[e._v("Кол-во участников")]),i("span",[e._v(e._s(e.achievements[0].number_participants))])])]),e.achievements[0].documents.length?i("div",{staticClass:"file-container"},[i("div",{staticClass:"file-container__files"},e._l(e.achievements[0].documents,(function(t){return i("a",{key:t.id,staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(t.document),target:"_blank"}},[i("v-icon",{attrs:{name:"file"}}),i("span",[e._v(e._s(t.documentName))])],1)})),0)]):e._e()]):i("x-form",{staticClass:"achievement-spec",attrs:{values:e.form,name:"spec"},on:{submit:function(t){return e.submit(e.indicator.id)}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[i("div",{staticClass:"achievement-spec-block"},[i("x-input",{attrs:{type:"text",name:"name",label:"Название достижения",validation:"required"}})],1),i("upload-spec-description"),i("upload-spec-participant",{attrs:{participants:e.participants,participationDegree:e.participationDegree},on:{"remove-participant":e.removeParticipant,"add-participant":e.addParticipant}}),i("div",{staticClass:"achievement-spec-block"},[i("x-input",{attrs:{type:"number",name:"number_participants",label:"Кол-во участников",validation:"required|number|min:0|max:50",min:"0",max:"200"}})],1),i("div",{staticClass:"achievement-spec-block"},[i("file-component",{attrs:{multiple:""},on:{change:function(t){return e.setFiles(t)}}})],1),i("a-button",{staticClass:"document-container-button spec-button",attrs:{type:"info",block:"","html-type":"submit"}},[i("v-icon",{attrs:{name:"plus"}}),i("span",[e._v("Сохранить данные достижения")])],1)],1)],1)])},n=[],r=i("5530"),s=i("1da1"),o=(i("96cf"),i("99af"),i("d81d"),i("a434"),i("b48b")),c=i("f72f"),l=i("7561"),u="https://студентгода63.рф/media",m={components:{FileComponent:o["a"],UploadSpecParticipant:c["a"],UploadSpecDescription:l["a"]},props:{participationDegree:{type:Array,required:!0},indicator:{type:Object,required:!0},saveAchievement:{type:Function,required:!0},achievements:{type:Array,required:!0}},data:function(){return{media:u,form:{},participants:[]}},methods:{getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},setFiles:function(e){this.form.documents=e},submit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,a=t.participants.map((function(e){return[e.fullname,e.degree_participation]})),i.next=4,t.saveAchievement(Object(r["a"])(Object(r["a"])({},t.form),{},{full_name:a,indicators:e}),"spec");case 4:t.form={},i.next=10;break;case 7:i.prev=7,i.t0=i["catch"](0),console.log(i.t0);case 10:case"end":return i.stop()}}),i,null,[[0,7]])})))()},deleteAchievement:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Вы точно хотите удалить достижение?",showCancelButton:!0});case 2:i=t.sent,a=i.isConfirmed,a&&e.$emit("remove",e.achievements[0].id);case 5:case"end":return t.stop()}}),t)})))()},addParticipant:function(e){this.participants.push(e)},removeParticipant:function(e){this.participants.splice(e,1)}}},d=m,p=(i("4475"),i("2877")),v=Object(p["a"])(d,a,n,!1,null,null,null);t["a"]=v.exports}}]);