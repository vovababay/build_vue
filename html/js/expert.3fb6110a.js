(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["expert"],{"2bff":function(t,e,n){"use strict";n("75d2")},"75d2":function(t,e,n){},af72:function(t,e,n){},cb27:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},["create-pass"===t.step?n("div",{staticClass:"container-back",on:{click:function(e){t.step="main"}}},[n("v-icon",{attrs:{name:"chevron-left"}}),n("div",[t._v("назад")])],1):t._e(),t._m(0),"main"===t.step?n("x-form",{staticClass:"user-application-container",attrs:{values:t.form,name:"application"},on:{submit:function(e){return t.toNextStep("next")}},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("div",{staticClass:"step-1"},[n("application-form",{attrs:{items:t.items}}),t._v(" "+t._s(t.form)+" "),n("a-row",{staticClass:"clear-class",attrs:{gutter:[0,30]}},[n("a-col",{staticClass:"inline-buttons",attrs:{md:{span:12,offset:6},xl:{span:8,offset:8},lg:{span:16,offset:4},xs:24}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:t.loading,type:"info",block:"","html-type":"submit"},on:{onSubmit:function(e){return t.toNextStep("back")}}},[t._v(" Сохранить и выйти ")]),n("a-button",{staticClass:"login-form-button",attrs:{disabled:t.loading,type:"primary",block:"","html-type":"submit"},on:{onSubmit:function(e){return t.toNextStep("next")}}},[t._v(" Сохранить и продолжить ")])],1)],1)],1)]):n("x-form",{attrs:{values:t.createPassForm,name:"pass-form"},on:{submit:t.onSubmit},model:{value:t.createPassForm,callback:function(e){t.createPassForm=e},expression:"createPassForm"}},[n("div",{staticClass:"step-2"},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:12,offset:6},lg:{span:12,offset:6},xl:{span:8,offset:8}}},[n("x-input",{attrs:{label:"Придумайте пароль",type:"password",name:"password",validation:"min:8,length","error-behavior":"submit"}}),n("x-input",{attrs:{label:"Повторите пароль",type:"password",name:"password_confirm",validation:"min:8,length|confirm","validation-name":"Password confirmation","error-behavior":"submit"}}),n("a-button",{staticClass:"login-form-button",attrs:{disabled:t.loading,type:"primary",block:"","html-type":"submit"}},[t._v(" Завершить регистрацию ")])],1)],1)],1)])],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-title"},[n("span",{staticClass:"subtitle"},[t._v("Регистрация Эксперта")]),n("h2",{staticClass:"page-title"},[t._v("Этап 1. Основные сведения")]),n("span",{staticClass:"prompt"},[t._v("* - поля, обязательные для заполнения")])])}],s=n("5530"),i=n("1da1"),o=(n("498a"),n("a9e3"),n("caad6"),n("2532"),n("96cf"),n("cd3f")),c=n.n(o),l=n("1bd6"),u=n("09bc"),m={data:function(){var t=this;return{nominationsBySphere:[["Студенческая творческая личность вуза","Студенческая творческая личность ссуза"],["Студенческий лидер ссуза","Студенческий лидер вуза","Староста года"],["Доброволец года","Добровольческое объединение"],["Спортсмен года вуза","Спортсмен года ссуза"],["Студенческое СМИ года"],["Интеллект года"],["Патриотический клуб года"],["Молодой профессионал года"]],items:[[{name:"first_name",validation:"required",type:"text",label:"Фамилия",md:8},{name:"last_name",validation:"required",type:"text",label:"Имя",md:8},{name:"patronymic",type:"text",label:"Отчество",md:8}],[{name:"email",validation:"required",type:"text",label:"Email"},{name:"phone_number",validation:[["required"],["min","18"]],mask:"+7 (###) ###-##-##",type:"tel",label:"Номер телефона",xl:16}],[{name:"sphere",validation:"required",label:"Направление",type:"select",options:u["h"],xl:8,md:8},{name:"nomination",validation:"required",label:"Номинация",type:"vue-select",multiple:!0,selectable:function(){return t.form.nomination.length<3},options:function(){return t.nominationsBySphere[t.form.sphere]},xl:16,md:16}]]}}},p={components:{ApplicationForm:l["a"]},mixins:[m],data:function(){return{form:{email:"",first_name:"",last_name:"",nomination:[],patronymic:"",phone_number:"",sphere:"Добровольчество"},createPassForm:{password:"",password_confirm:""},nomination:[],step:"main",loading:!1,errorsObj:{}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNominations();case 2:case"end":return e.stop()}}),e)})))()},methods:{cloneData:function(t){return c()(t)},toNextStep:function(t){this.afterType=t,this.step="create-pass"},toPrevStep:function(){this.step="main"},onSubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=t.cloneData(Object(s["a"])(Object(s["a"])({},t.form),{},{password:t.createPassForm.password})),e.next=5,t.$store.dispatch("app/saveEntity",{entityName:"registration",data:n,method:"post"});case 5:return t.$router.push("/"),e.next=8,t.$swal.fire({title:"Регистрация прошла успешно",text:"На почту ".concat(n.email," было отправлено письмо. Для завершения регистрации перейдите по ссылке, указанной в письме."),confirmButtonText:"Хорошо"});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log(e.t0),400===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)?(t.step="main",t.$formulate.handle(e.t0.response.data,"application")):t.$errors.showOnce("Ошибка входа");case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})))()},trimWhitespacedAndToInt:function(t){for(var e in t)"string"==typeof t[e]&&(t[e]=t[e].trim()),t[e]!=Number(t[e])||t[e].includes("+")||"nomination"===e||(t[e]=Number(t[e]))},getNominations:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}}},f=p,d=(n("2bff"),n("2877")),v=Object(d["a"])(f,a,r,!1,null,"d1e9ff66",null);e["default"]=v.exports},e830:function(t,e,n){"use strict";n("af72")},e8a5:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"container-title"},[n("h2",{staticClass:"page-title"},[t._v("Верификация")]),n("span",{staticClass:"prompt"},[t._v("Немного подождите")])])])}],s=n("1da1"),i=(n("96cf"),{data:function(){return{}},mounted:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getCode();case 2:case"end":return e.stop()}}),e)})))()},methods:{getCode:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$route.query,!n.verify_code){e.next=13;break}return e.prev=2,e.next=5,t.$store.dispatch("user/verify",n);case 5:e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](2),console.log(e.t0),t.$toast.error("Произошла ошибка, перейдите по ссылке еще раз");case 11:e.next=14;break;case 13:t.$router.push("/");case 14:case"end":return e.stop()}}),e,null,[[2,7]])})))()}}}),o=i,c=(n("e830"),n("2877")),l=Object(c["a"])(o,a,r,!1,null,"6206892f",null);e["default"]=l.exports}}]);