(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c72014ec"],{"2dd8":function(t,e,n){"use strict";var r=n("5530"),a=n("1da1");n("498a"),n("99af"),n("96cf");e["a"]={data:function(){return{loading:!0,buttonDisabled:!1}},methods:{getEntity:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$store.dispatch("app/getItem",{entityName:t.entityName,id:t.getID});case 4:n=e.sent,t.formData=Object(r["a"])(Object(r["a"])({},t.formData),n.data),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},trimWhitespaces:function(t){for(var e in t)t[e]===String&&t[e].trim()},saveEntity:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.buttonDisabled=!0,t.trimWhitespaces(t.formData),e.next=5,t.$store.dispatch("app/saveEntity",{id:t.getID,data:t.formData,method:t.method,entityName:t.entityName});case 5:n=e.sent,t.$notification.success({message:t.getMessage}),t.$router.push("/".concat(t.entityName,"/read/").concat(n.id)),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),console.log(e.t0),t.$errors.showOnce(e.t0.response.data);case 14:return e.prev=14,t.buttonDisabled=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})))()},deleteItem:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:e.entityName,id:t});case 4:e.$notification.success({message:"Успешно удалено"}),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}},computed:{disabled:function(){return"read"===this.action},getID:function(){if("_"!==this.id)return this.id},method:function(){switch(this.action){case"create":return"post";case"edit":return"patch";default:return null}},getButtonAction:function(){switch(this.action){case"create":return"Создать";case"read":return"Редактировать";case"edit":return"Сохранить"}},getAction:function(){switch(this.action){case"create":return"Создание";case"read":return"Просмотр";case"edit":return"Редактирование"}},getMessage:function(){switch(this.action){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}}}},"498a":function(t,e,n){"use strict";var r=n("23e7"),a=n("58a8").trim,i=n("c8d2");r({target:"String",proto:!0,forced:i("trim")},{trim:function(){return a(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",c=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),o=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:o(1),end:o(2),trim:o(3)}},c8d2:function(t,e,n){var r=n("d039"),a=n("5899"),i="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||i[t]()!=i||a[t].name!==t}))}},df49:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:t.disabled}}),n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)],1)],1)],1)],1)},a=[],i=n("1da1"),c=(n("96cf"),n("2dd8")),s=(n("4360"),{props:["action","id"],mixins:[c["a"]],data:function(){return{formData:{},nomination:null,entityName:"nomination",textareaMaxLength:255}},methods:{onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/nomination/edit/".concat(t.id)),e.abrupt("return");case 3:return e.next=5,t.saveEntity(t.formData);case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=3;break}return e.next=3,t.getEntity(t.id);case 3:t.loading=!1,console.log(t.action,t.id,t.disabled);case 5:case"end":return e.stop()}}),e)})))()}}),o=s,u=n("2877"),d=Object(u["a"])(o,r,a,!1,null,"287e8256",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-c72014ec.19999eb0.js.map