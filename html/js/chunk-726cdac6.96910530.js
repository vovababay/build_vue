(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-726cdac6"],{"026f":function(e,t,n){"use strict";n("eb47")},"1c7e":function(e,t,n){var r=n("b622"),i=r("iterator"),a=!1;try{var s=0,o={next:function(){return{done:!!s++}},return:function(){a=!0}};o[i]=function(){return this},Array.from(o,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},2909:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){if(Array.isArray(e))return r(e)}n.d(t,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function a(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n("fb6a"),n("b0c0");function s(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return i(e)||a(e)||s(e)||o()}},"2a62":function(e,t,n){var r=n("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return r(t.call(e)).value}},"35a1":function(e,t,n){var r=n("f5df"),i=n("3f8c"),a=n("b622"),s=a("iterator");e.exports=function(e){if(void 0!=e)return e[s]||e["@@iterator"]||i[r(e)]}},"3d50":function(e,t,n){},4032:function(e,t,n){},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("7b0b"),a=n("9bdd"),s=n("e95a"),o=n("50c4"),c=n("8418"),u=n("35a1");e.exports=function(e){var t,n,l,d,p,m,f=i(e),h="function"==typeof this?this:Array,v=arguments.length,_=v>1?arguments[1]:void 0,b=void 0!==_,g=u(f),y=0;if(b&&(_=r(_,v>2?arguments[2]:void 0,2)),void 0==g||h==Array&&s(g))for(t=o(f.length),n=new h(t);t>y;y++)m=b?_(f[y],y):f[y],c(n,y,m);else for(d=g.call(f),p=d.next,n=new h;!(l=p.call(d)).done;y++)m=b?a(d,_,[l.value,y],!0):l.value,c(n,y,m);return n.length=y,n}},"5f74":function(e,t,n){"use strict";var r=n("2909"),i=n("1da1"),a=(n("99af"),n("c740"),n("d81d"),n("caad6"),n("2532"),n("ac1f"),n("1276"),n("498a"),n("d3b7"),n("3ca3"),n("ddb0"),n("4de4"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-container"},[n("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.questionnaire.name)+" ")]),"only_file"===e.questionnaire.type?n("div",{},[e.questionnaire.first_help_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),n("div",{staticClass:"achievement-list__item--info--block"},[e.only_file_document?n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-container__files questionnaire-file only-file"},[n("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(e.only_file_document),target:"_blank"}},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(e.addDocumentName(e.only_file_document)))])],1),n("v-icon",{staticClass:"times-icon",attrs:{name:"times"},on:{click:function(t){t.stopPropagation(),e.only_file_document=null}}})],1)]):n("file-component",{attrs:{acceptFormats:e.questionnaire.acceptFormats},on:{change:function(t){return e.setFiles(t)}}})],1)]):e._e(),"multiple"===e.questionnaire.type?n("div",{},[e.questionnaire.first_help_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),n("upload-questionnaire-characteristic",{attrs:{characteristics:e.characteristics},on:{remove:e.removeCharacteristic,add:e.addCharacteristic}})],1):e._e(),"radio_and_multiple"===e.questionnaire.type?n("div",{},[n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.subname)+" ")]),n("FormulateInput",{staticClass:"inline-checkbox",attrs:{type:"radio",name:"yes-"+e.questionnaire.id,options:e.yesno},model:{value:e.yesValue,callback:function(t){e.yesValue=t},expression:"yesValue"}}),"yes"===e.yesValue?n("div",{staticClass:"achievement-spec-block--reports"},[e.questionnaire.first_help_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.first_help_text)+" ")]):e._e(),n("upload-questionnaire-report",{attrs:{reports:e.reports},on:{removeReport:e.removeReport,addReport:e.addReport}}),e.questionnaire.second_help_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.second_help_text)+" ")]):e._e(),n("file-component",{attrs:{multiple:""},on:{change:function(t){return e.setFiles(t)}}}),n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-container__files questionnaire-file"},[e.loadedDocuments.length?n("div",{staticClass:"questionnaire-file--files"},e._l(e.loadedDocuments,(function(t,r){return n("div",{key:t.id,staticClass:"multiple-file-questionnaire"},[n("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(t.document),target:"_blank"}},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(e.addDocumentName(t.document)))])],1),n("v-icon",{staticClass:"times-icon",attrs:{name:"times"},on:{click:function(n){return e.deleteDocument(t,r)}}})],1)})),0):e._e()])])],1):e._e()],1):e._e()])}),s=[],o=(n("a434"),n("b48b")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"achievement-spec-block"},[e._l(e.reports,(function(t,r){return n("li",{key:r,staticClass:"achievement-list__item"},[n("div",{staticClass:"achievement-list__item--read"},[n("div",{staticClass:"achievement-list__item--tools"},[n("span",{staticClass:"count"},[e._v(e._s(r+1))]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v("Удалить оценку")])]),n("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(n){return e.deleteReport(r,t.id)}}})],2)],1),n("div",{staticClass:"achievement-list__item--read--item item-name"},[n("span",[e._v(e._s(t.name))])]),n("div",{staticClass:"achievement-list__item--read--item item-participation"},[n("span",[e._v(e._s(t.rating))])])])])})),e.isVisible&&!e.loading?n("li",{staticClass:"achievement-list__item"},[n("div",{staticClass:"achievement-list__item--info"},[n("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[n("x-form",{staticClass:"achievement-spec-block--form",attrs:{name:"reportForm"},on:{submit:e.addReport},model:{value:e.reportForm,callback:function(t){e.reportForm=t},expression:"reportForm"}},[n("div",{staticClass:"achievement-spec-block--form-item"},[n("span",{staticClass:"count"},[e._v(e._s(e.reports.length+1))]),n("x-input",{staticClass:"item-name",attrs:{name:"name",type:"text",validation:"required",label:"Название предмета","error-behavior":"submit"}}),n("x-input",{staticClass:"item-participation",attrs:{name:"rating",type:"select",validation:"required",options:e.rating,label:"Оценка","error-behavior":"submit"}})],1),n("a-button",{staticClass:"document-container-button",attrs:{type:"info",block:"","html-type":"submit"}},[n("v-icon",{attrs:{name:"plus"}}),n("span",[e._v("Добавить")])],1)],1)],1)])]):e._e()],2)},u=[],l=n("5530"),d={props:{reports:{type:Array,required:!0}},data:function(){return{reportForm:{},rating:[2,3,4,5],loading:!1}},computed:{isVisible:function(){return this.reports.length<20}},methods:{addReport:function(){var e=this;this.loading=!0,this.$emit("addReport",Object(l["a"])({},this.reportForm)),setTimeout((function(){e.reportForm={},e.loading=!1}),0)},deleteReport:function(e,t){this.$emit("removeReport",e,t)}}},p=d,m=(n("026f"),n("2877")),f=Object(m["a"])(p,c,u,!1,null,null,null),h=f.exports,v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"achievement-spec-block characteristic"},[e._l(e.characteristics,(function(t,r){return n("li",{key:r,staticClass:"achievement-list__item"},[n("div",{staticClass:"achievement-list__item--read"},[n("div",{staticClass:"achievement-list__item--tools"},[n("span",{staticClass:"count"},[e._v(e._s(r+1))]),n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v("Удалить характеристику")])]),n("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(n){return e.deleteCharacteristic(r,t.id)}}})],2)],1),n("div",{staticClass:"achievement-list__item--read--item item-name"},[n("span",[e._v(e._s(t.document_type))])]),n("div",{staticClass:"achievement-list__item--read--item"},[n("span",[e._v(e._s(t.year_manufacture))])]),n("div",{staticClass:"achievement-list__item--read--item"},[n("span",[e._v(e._s(t.who_issued))])]),t.documents&&t.documents.length?n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-container__files"},[t.documents[0].document?n("a",{staticClass:"file-container__files--file",attrs:{href:e.getDocumentLink(t.documents[0].document),target:"_blank"}},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(t.documents[0].id?e.addDocumentName(t.documents[0].document):t.documents[0].name))])],1):n("a",{staticClass:"file-container__files--file"},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(t.documents[0].id?e.addDocumentName(t.documents[0].document):t.documents[0].name))])],1)])]):e._e()])])})),e.isVisible&&!e.loading?n("li",{staticClass:"achievement-list__item"},[n("div",{staticClass:"achievement-list__item--info"},[n("div",{staticClass:"achievement-list__item--info--block achievement-form-multiple"},[n("x-form",{staticClass:"achievement-spec-block--form",attrs:{valuses:e.form,name:"form"},on:{submit:e.add},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("div",{staticClass:"achievement-spec-block--form-item characteristic"},[n("span",{staticClass:"count"},[e._v(e._s(e.characteristics.length+1))]),n("x-input",{staticClass:"item-name",attrs:{name:"document_type",type:"text",validation:"required",label:"Вид документа","error-behavior":"submit"}}),n("x-input",{staticClass:"item-name item-name-year",attrs:{name:"year_manufacture",type:"text",validation:"required",label:"Год выдачи","error-behavior":"submit"}}),n("x-input",{staticClass:"item-participation",attrs:{name:"who_issued",type:"select",validation:"required",options:e.issuingAuthority,label:"Кто выдал","error-behavior":"submit"}})],1),n("div",{staticClass:"achievement-spec-block--form-item"},[n("file-component",{on:{change:function(t){return e.setFiles(t)}}})],1),n("a-button",{staticClass:"document-container-button",attrs:{type:"info",block:"","html-type":"submit"}},[n("v-icon",{attrs:{name:"plus"}}),n("span",[e._v("Добавить")])],1)],1)],1)])]):e._e()],2)},_=[],b=n("09bc"),g="https://студентгода63.рф/media",y={components:{FileComponent:o["a"]},props:{characteristics:{type:Array,required:!0}},data:function(){return{loading:!1,form:{},media:g,issuingAuthority:b["i"]}},computed:{isVisible:function(){return this.characteristics.length<3}},methods:{add:function(){var e=this;this.loading=!0,this.$emit("add",Object(l["a"])({},this.form)),setTimeout((function(){e.form={},e.loading=!1}),0)},deleteCharacteristic:function(e,t){this.$emit("remove",e,t)},getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},addDocumentName:function(e){if(e){console.log(e);var t=e.split("/");return t[t.length-1]}},setFiles:function(e){this.form.documents=e}}},x=y,w=(n("daa8"),Object(m["a"])(x,v,_,!1,null,null,null)),C=w.exports,k=n("cd3f"),q=n.n(k),R="https://студентгода63.рф/media",j={components:{FileComponent:o["a"],UploadQuestionnaireReport:h,UploadQuestionnaireCharacteristic:C},props:{questionnaire:{type:Object,required:!0},isProfile:{type:Boolean,required:!1}},data:function(){return{id:this.questionnaire.id,media:R,form:{},yesValue:"yes",yesno:{yes:"Да",no:"Нет"},reports:[],documents:[],characteristics:[],only_file_document:null,loadedDocuments:[]}},mounted:function(){"only_file"===this.questionnaire.type&&this.questionnaire.documents&&(this.only_file_document=this.questionnaire.documents),"multiple"===this.questionnaire.type&&this.questionnaire.data&&(this.characteristics=this.questionnaire.data),"radio_and_multiple"===this.questionnaire.type&&this.questionnaire.data&&(this.loadedDocuments=q()(this.questionnaire.data.documents),this.reports=this.questionnaire.data.reports)},methods:{addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},getDocumentLink:function(e){return"".concat(this.media,"/").concat(e)},setFiles:function(e){this.documents=e,console.log(this.documents)},addReport:function(e){this.reports.push(e)},removeReport:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=10;break}return r.prev=1,r.next=4,n.$store.dispatch("app/deleteItem",{entityName:"report",id:t,nothingStoreDelete:!0});case 4:r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](1),console.log(r.t0),n.$errors.show(r.t0.response.data);case 10:n.reports.splice(e,1);case 11:case"end":return r.stop()}}),r,null,[[1,6]])})))()},removeCharacteristic:function(e,t){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!t){r.next=10;break}return r.prev=1,r.next=4,n.$store.dispatch("app/deleteItem",{entityName:"characteristic",id:t,nothingStoreDelete:!0});case 4:r.next=10;break;case 6:r.prev=6,r.t0=r["catch"](1),console.log(r.t0),n.$errors.show(r.t0.response.data);case 10:n.characteristics.splice(e,1);case 11:case"end":return r.stop()}}),r,null,[[1,6]])})))()},addCharacteristic:function(e){this.characteristics.push(e),console.log(this.characteristics)},deleteDocument:function(e,t){var n=this;this.loading=!0,this.loadedDocuments.splice(t,1),setTimeout((function(){n.loading=!1}),0)}}},D=j,O=(n("a8f3"),n("75a1"),Object(m["a"])(D,a,s,!1,null,null,null)),$=O.exports;n("5b55"),t["a"]={components:{Upload:$},data:function(){return{loading:!0,buttonDisabled:!1,questionnaries:[],participantQuestionnaire:{},isProfile:!1,issuingAuthority:b["i"],documentView:b["e"]}},computed:{userInfo:function(){return this.$store.state.user.userInfo},initialIndicators:function(){return this.$store.state.app.indicator}},beforeRouteLeave:function(e,t,n){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.query),!e.query.next){t.next=6;break}return n(),t.abrupt("return");case 6:return t.next=8,r.protectRouting();case 8:if(!t.sent){t.next=10;break}n();case 10:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getBaseIndicators(),t.next=3,e.getIndicatorsReport();case 3:if(n=t.sent,e.questionnaries=[].concat(Object(r["a"])(e.questionnaries),Object(r["a"])(n)),e.isProfile=e.getType(),!e.isProfile){t.next=11;break}return t.next=9,e.getParticipantQuestionnaire();case 9:e.participantQuestionnaireResponse=t.sent,e.renderQuestionnaires(e.participantQuestionnaireResponse);case 11:e.loading=!1;case 12:case"end":return t.stop()}}),t)})))()},methods:{getParticipantQuestionnaire:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"participant-questionnaire"});case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},renderQuestionnaires:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.questionnaries[t.questionnaries.findIndex((function(e){return"autobiography"===e.id}))].documents=e.autobiography,t.questionnaries[t.questionnaries.findIndex((function(e){return"certificate_place_study"===e.id}))].documents=e.certificate_place_study,t.questionnaries[t.questionnaries.findIndex((function(e){return"characteristic"===e.id}))].data=e.characteristic,e.report_card&&e.report_card.map((function(e){t.questionnaries[t.questionnaries.findIndex((function(t){return t.id===e.indicator_report_card}))].data=e})),console.log(t.questionnaries);case 5:case"end":return n.stop()}}),n)})))()},getType:function(){return this.$route.path.includes("profile")},getBaseIndicators:function(){this.questionnaries=[{id:"certificate_place_study",name:"Справка с места учебы*",first_help_text:"Прикрепите сканированную копию справки с места учебы в формате jpeg, pdf, имеющую печать образовательной организации, датированную не ранее 05.04.2021 г. Можно прикрепить потом в личном кабинете. Отправить заявку без этого нельзя",type:"only_file",acceptFormats:["image/jpeg","application/pdf"]},{id:"autobiography",name:"Автобиография конкурсанта*",first_help_text:"Можно прикрепить только 1 документ формата doc, docx",type:"only_file",acceptFormats:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]},{id:"characteristic",name:"Характеристики, отзывы и ходатайства",first_help_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"multiple"}]},getIndicatorsReport:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"indicator-report-card"});case 3:return n=t.sent,t.abrupt("return",e.renderIndicators(n));case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},renderIndicators:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.data.map((function(e){return e.type="radio_and_multiple",e})));case 1:case"end":return t.stop()}}),t)})))()},getFormData:function(e){var t=new FormData;for(var n in e)"documents"===n?e[n].map((function(e){t.append("documents",e)})):t.append(n,e[n]);return t},addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},renderDocuments:function(e){var t=this;return e.map((function(e){return e.documentName=t.addDocumentName(e.document),e}))},trimWhitespaces:function(e){for(var t in e)e[t]===String&&e[t].trim()},protectRouting:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Есть несохраненные данные",text:"Вы точно хотите уйти со страницы? Несохраненные данные будут утеряны.",showCancelButton:!0,confirmButtonText:"Продолжить",cancelButtonText:"Отмена"});case 2:return n=t.sent,r=n.isConfirmed,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))()},onApplicate:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,s,o,c,u,l,d,p,m,f;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,u=[],l=[],d=[],p=[],m=[],t.$refs.questionnaries.map((function(e){e.only_file_document&&m.push(e.id),d.push({reports:Object(r["a"])(e.reports),documents:Object(r["a"])(e.documents),id:e.id,type:e.questionnaire.type,characteristics:Object(r["a"])(e.characteristics)})})),n.next=9,Promise.all(d.map(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("autobiography"!==n.id){e.next=7;break}if(n.documents.length){e.next=6;break}if(!m.includes(n.id)){e.next=4;break}return e.abrupt("return");case 4:e.next=7;break;case 6:o=n.documents[0];case 7:if("certificate_place_study"!==n.id){e.next=16;break}if(n.documents.length){e.next=15;break}if(!m.includes(n.id)){e.next=11;break}return e.abrupt("return");case 11:p.push("Прикрепите справку об обучении"),Promise.reject("error"),e.next=16;break;case 15:c=n.documents[0];case 16:if("characteristic"!==n.id||p.length){e.next=31;break}return e.prev=17,r=n.characteristics.filter((function(e){return!e.id})),console.log(r),e.next=22,t.createCharacteristics(r);case 22:if(i=e.sent,i.length){e.next=25;break}return e.abrupt("return");case 25:l.push(i),e.next=31;break;case 28:e.prev=28,e.t0=e["catch"](17),console.log(e.t0);case 31:if("radio_and_multiple"!==n.type||p.length){e.next=44;break}return e.prev=32,e.next=35,t.createReportCard(n);case 35:if(a=e.sent,a){e.next=38;break}return e.abrupt("return");case 38:u.push(a),e.next=44;break;case 41:e.prev=41,e.t1=e["catch"](32),console.log(e.t1);case 44:return e.abrupt("return","");case 45:case"end":return e.stop()}}),e,null,[[17,28],[32,41]])})));return function(t){return e.apply(this,arguments)}}()));case 9:if(!p.length){n.next=13;break}return p.map((function(e){t.$toast.error(e)})),p=[],n.abrupt("return");case 13:return f=q()({report_card:u,autobiography:o,certificate_place_study:c,characteristic:l}),f.characteristic.length||delete f.characteristic,f.report_card.length||delete f.report_card,o||delete f.autobiography,m.includes("certificate_place_study")&&delete f.certificate_place_study,f=t.getFormData(f),console.log(f),t.buttonDisabled=!0,n.next=23,t.$store.dispatch("app/saveEntity",{id:null===(a=t.participantQuestionnaireResponse)||void 0===a?void 0:a.id,data:f,method:null!==(s=t.participantQuestionnaireResponse)&&void 0!==s&&s.id?"patch":"post",entityName:"participant-questionnaire"});case 23:t.$toast.success("Успешно сохранено"),t.$router.push({path:"/".concat(e),query:{next:!0}}),n.next=31;break;case 27:n.prev=27,n.t0=n["catch"](0),console.log(n.t0),t.$errors.show(n.t0.response.data);case 31:return n.prev=31,t.buttonDisabled=!1,n.finish(31);case 34:case"end":return n.stop()}}),n,null,[[0,27,31,34]])})))()},createReportCard:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(e),e.reports.length){n.next=3;break}return n.abrupt("return");case 3:return n.next=5,t.createReports(e.reports);case 5:return r=n.sent,i=t.getFormData({documents:e.documents,reports:r,indicator_report_card:e.id}),console.log(i),n.next=10,t.$store.dispatch("app/saveEntity",{entityName:"report-card",method:"post",data:i});case 10:return a=n.sent,n.abrupt("return",a.id);case 12:case"end":return n.stop()}}),n)})))()},createReports:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map((function(e){return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("app/saveEntity",{entityName:"report",method:"post",data:e});case 2:i=n.sent,r(i.id);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},createCharacteristics:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map((function(e){return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(r){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.getFormData(q()(e)),n.next=3,t.$store.dispatch("app/saveEntity",{entityName:"characteristic",method:"post",data:i});case 3:a=n.sent,r(a.id);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}}},"75a1":function(e,t,n){"use strict";n("894dc")},"894dc":function(e,t,n){},"9bdd":function(e,t,n){var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(s){throw i(e),s}}},a630:function(e,t,n){var r=n("23e7"),i=n("4df4"),a=n("1c7e"),s=!a((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a8f3:function(e,t,n){"use strict";n("3d50")},d28b:function(e,t,n){var r=n("746f");r("iterator")},daa8:function(e,t,n){"use strict";n("4032")},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),a=n("da84"),s=n("5135"),o=n("861d"),c=n("9bf2").f,u=n("e893"),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(p,l);var m=p.prototype=l.prototype;m.constructor=p;var f=m.toString,h="Symbol(test)"==String(l("test")),v=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var e=o(this)?this.valueOf():this,t=f.call(e);if(s(d,e))return"";var n=h?t.slice(7,-1):t.replace(v,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},e95a:function(e,t,n){var r=n("b622"),i=n("3f8c"),a=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[a]===e)}},eb47:function(e,t,n){}}]);
//# sourceMappingURL=chunk-726cdac6.96910530.js.map