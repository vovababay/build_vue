(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"1fcc":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"nomination",data:e.nomination,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNomination();case 2:case"end":return t.stop()}}),t)})))()},computed:{nomination:function(){return this.$store.state.app.nomination}},methods:{getNomination:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["d"],id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},2783:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"period",data:e.period,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getPeriod();case 2:case"end":return t.stop()}}),t)})))()},computed:{period:function(){return this.$store.state.app.period}},methods:{getPeriod:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:s["e"]});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["e"],id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},"2a25":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{staticClass:"participantQuestionnaire",attrs:{values:e.participantQuestionnaire,name:"participant-questionnaire container"},model:{value:e.participantQuestionnaire,callback:function(t){e.participantQuestionnaire=t},expression:"participantQuestionnaire"}},[a("a-row",{attrs:{gutter:[24]}},[a("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[a("div",{staticClass:"container-title"},[a("component-tabs",{attrs:{activeTab:e.activeTab,tabs:e.routerTabs},on:{setActiveNomination:function(t){return e.$router.push("/users/"+t)}}})],1),e.isEmpty?a("h5",{staticStyle:{"text-align":"center"}},[e._v("Анкета у участника еще не создана")]):a("div",[e.loading?a("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):a("div",{staticClass:"container-body"},[e._l(e.questionnaries,(function(t){return a("Upload",{key:t.id,ref:"questionnaries",refInFor:!0,attrs:{isAdmin:"",isProfile:e.isProfile,questionnaire:t}})})),a("a-col",{staticClass:"inline-buttons",staticStyle:{width:"200px",margin:"auto","margin-top":"35px"},attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[a("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:"","html-type":"submit"},on:{click:e.onApplicate}},[e._v(" Сохранить ")])],1)],2)],1)])],1)],1)],1)},r=[],i=a("46f9"),s=a("2909"),o=a("1da1"),c=(a("99af"),a("c740"),a("d81d"),a("4de4"),a("caad6"),a("2532"),a("ac1f"),a("1276"),a("498a"),a("d3b7"),a("3ca3"),a("ddb0"),a("96cf"),a("ac3d")),u=a("cd3f"),l=a.n(u),d=(a("5b55"),a("09bc")),m={components:{Upload:c["a"]},props:["id"],data:function(){return{loading:!0,buttonDisabled:!1,questionnaries:[],participantQuestionnaire:{},isProfile:!1,isEmpty:!1,issuingAuthority:d["j"],userInfo:{},documentView:d["e"],activeTab:"edit/".concat(this.id,"/questionnaire"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]}},computed:{initialIndicators:function(){return this.$store.state.app.indicator}},beforeRouteLeave:function(e,t,a){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.isEmpty){t.next=3;break}return a(),t.abrupt("return");case 3:if(!e.query.next){t.next=8;break}return a(),t.abrupt("return");case 8:return t.next=10,n.protectRouting();case 10:if(!t.sent){t.next=12;break}a();case 12:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getBaseIndicators(),t.next=3,e.getUser();case 3:return t.next=5,e.getIndicatorsReport();case 5:return a=t.sent,e.questionnaries=[].concat(Object(s["a"])(e.questionnaries),Object(s["a"])(a)),t.next=9,e.getParticipantQuestionnaire();case 9:if(e.participantQuestionnaireResponse=t.sent,e.participantQuestionnaireResponse.certificate_place_study){t.next=14;break}return e.isEmpty=!0,e.loading=!1,t.abrupt("return");case 14:e.renderQuestionnaires(e.participantQuestionnaireResponse),e.loading=!1;case 16:case"end":return t.stop()}}),t)})))()},methods:{getUser:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"users/".concat(e.id)});case 3:a=t.sent,e.userInfo=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},getParticipantQuestionnaire:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"participant-questionnaire",params:{user:e.id}});case 3:return a=t.sent,t.abrupt("return",a.data);case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},renderQuestionnaires:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.questionnaries[t.questionnaries.findIndex((function(e){return"autobiography"===e.id}))].documents=e.autobiography,t.questionnaries[t.questionnaries.findIndex((function(e){return"certificate_place_study"===e.id}))].documents=e.certificate_place_study,t.questionnaries[t.questionnaries.findIndex((function(e){return"characteristic"===e.id}))].data=e.characteristic,e.report_card&&(e.report_card.map((function(e){t.questionnaries[t.questionnaries.findIndex((function(t){return t.id===e.indicator_report_card}))].data=e})),t.questionnaries=t.questionnaries.filter((function(e){return"radio_and_multiple"!==e.type||e.data})));case 4:case"end":return a.stop()}}),a)})))()},getType:function(){return this.$route.path.includes("profile")},getBaseIndicators:function(){this.questionnaries=[{id:"certificate_place_study",name:"Справка с места учебы*",first_help_text:"Прикрепите сканированную копию справки с места учебы в формате jpeg, pdf, имеющую печать образовательной организации, датированную не ранее 05.04.2021 г. Можно прикрепить потом в личном кабинете. Отправить заявку без этого нельзя",title:"Прикрепить справку",type:"only_file",acceptFormats:["image/jpeg","application/pdf"]},{id:"autobiography",name:"Автобиография конкурсанта",first_help_text:"Можно прикрепить только 1 документ формата doc, docx",title:"Прикрепить автобиографию",type:"only_file",acceptFormats:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]},{id:"characteristic",name:"Характеристики, отзывы и ходатайства",first_help_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"multiple"}]},getIndicatorsReport:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"indicator-report-card"});case 3:return a=t.sent,t.abrupt("return",e.renderIndicators(a));case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},renderIndicators:function(e){return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e.data.map((function(e){return e.type="radio_and_multiple",e})));case 1:case"end":return t.stop()}}),t)})))()},getFormData:function(e){var t=new FormData;for(var a in e)"documents"===a?e[a].map((function(e){t.append("documents",e)})):t.append(a,e[a]);return t},addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},renderDocuments:function(e){var t=this;return e.map((function(e){return e.documentName=t.addDocumentName(e.document),e}))},trimWhitespaces:function(e){for(var t in e)e[t]===String&&e[t].trim()},protectRouting:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Есть несохраненные данные",text:"Вы точно хотите уйти со страницы? Несохраненные данные будут утеряны.",showCancelButton:!0,confirmButtonText:"Продолжить",cancelButtonText:"Отмена"});case 2:return a=t.sent,n=a.isConfirmed,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))()},onApplicate:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,r,i,c,u,d,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.buttonDisabled=!0,r=[],i=[],c=[],u=[],d=[],t.$refs.questionnaries.map((function(e){e.only_file_document&&d.push(e.id),c.push({reports:Object(s["a"])(e.reports),documents:Object(s["a"])(e.documents),id:e.id,type:e.questionnaire.type,characteristics:Object(s["a"])(e.characteristics),data:e.questionnaire.data})})),e.next=10,Promise.all(c.map(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(s){var o,c,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("autobiography"!==s.id){e.next=7;break}if(s.documents.length){e.next=6;break}if(!d.includes(s.id)){e.next=4;break}return e.abrupt("return");case 4:e.next=7;break;case 6:a=s.documents[0];case 7:if("certificate_place_study"!==s.id){e.next=16;break}if(s.documents.length){e.next=15;break}if(!d.includes(s.id)){e.next=11;break}return e.abrupt("return");case 11:u.push("Прикрепите справку об обучении"),Promise.reject("error"),e.next=16;break;case 15:n=s.documents[0];case 16:if("characteristic"!==s.id||u.length){e.next=30;break}return e.prev=17,o=s.characteristics.filter((function(e){return!e.id})),e.next=21,t.createCharacteristics(o);case 21:if(c=e.sent,c.length){e.next=24;break}return e.abrupt("return");case 24:i.push(c),e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](17),console.log(e.t0);case 30:if("radio_and_multiple"!==s.type||u.length){e.next=43;break}return e.prev=31,e.next=34,t.createReportCard(s);case 34:if(l=e.sent,l){e.next=37;break}return e.abrupt("return");case 37:r.push(l),e.next=43;break;case 40:e.prev=40,e.t1=e["catch"](31),console.log(e.t1);case 43:return e.abrupt("return","");case 44:case"end":return e.stop()}}),e,null,[[17,27],[31,40]])})));return function(t){return e.apply(this,arguments)}}()));case 10:if(!u.length){e.next=14;break}return u.map((function(e){t.$toast.error(e)})),u=[],e.abrupt("return");case 14:return m=l()({report_card:r,autobiography:a,certificate_place_study:n,characteristic:i}),m.characteristic.length||delete m.characteristic,m.report_card.length||delete m.report_card,a||delete m.autobiography,d.includes("certificate_place_study")&&delete m.certificate_place_study,m=t.getFormData(m),e.next=22,t.$store.dispatch("app/saveEntity",{id:t.participantQuestionnaireResponse.id,data:m,method:"patch",entityName:"participant-questionnaire"});case 22:t.$toast.success("Успешно сохранено"),e.next=29;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0),t.$errors.show(e.t0.response.data);case 29:return e.prev=29,t.buttonDisabled=!1,e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[0,25,29,32]])})))()},createReportCard:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,r,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.reports.length){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,t.createReports(e.reports);case 4:return r=a.sent,i=t.getFormData({documents:e.documents,reports:r,indicator_report_card:e.id}),a.next=8,t.$store.dispatch("app/saveEntity",{entityName:"report-card",method:e.data?"patch":"post",id:null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.id,data:i});case 8:return s=a.sent,a.abrupt("return",s.id);case 10:case"end":return a.stop()}}),a)})))()},createReports:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(e.map((function(e){return new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(n){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("app/saveEntity",{entityName:"report",method:"post",data:e});case 2:r=a.sent,n(r.id);case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},createCharacteristics:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(e.map((function(e){return new Promise(function(){var a=Object(o["a"])(regeneratorRuntime.mark((function a(n){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=t.getFormData(l()(e)),a.next=3,t.$store.dispatch("app/saveEntity",{entityName:"characteristic",method:"post",data:r});case 3:i=a.sent,n(i.id);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()}}},p=a("2dd8"),f={components:{ComponentTabs:i["a"]},mixins:[m,p["a"]],data:function(){return{activeTab:"read/".concat(this.id,"/questionnaire"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}}},h=f,b=(a("aca1"),a("2877")),v=Object(b["a"])(h,n,r,!1,null,null,null);t["default"]=v.exports},"2dd8":function(e,t,a){"use strict";var n=a("5530"),r=a("1da1");a("498a"),a("99af"),a("96cf");t["a"]={data:function(){return{loading:!0,buttonDisabled:!1}},methods:{getEntity:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.loading=!0,a.next=4,t.$store.dispatch("app/getItem",{entityName:t.entityName,id:t.getID});case 4:if(r=a.sent,!e){a.next=7;break}return a.abrupt("return",r.data);case 7:t.formData=Object(n["a"])(Object(n["a"])({},t.formData),r.data),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},trimWhitespaces:function(e){for(var t in e)e[t]===String&&e[t].trim()},saveEntity:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.buttonDisabled=!0,t.trimWhitespaces(t.formData),a.next=5,t.$store.dispatch("app/saveEntity",{id:t.getID,data:e||t.formData,method:t.method,entityName:t.entityName});case 5:n=a.sent,t.$toast.success(t.getMessage),t.$router.push("/".concat(t.entityName,"/read/").concat(n.id)),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](0),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 14:return a.prev=14,t.buttonDisabled=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[0,10,14,17]])})))()},deleteItem:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:t.entityName,id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}},computed:{disabled:function(){return"read"===this.action},getID:function(){if("_"!==this.id)return this.id},method:function(){switch(this.action){case"create":return"post";case"edit":return"patch";default:return null}},getButtonAction:function(){switch(this.action){case"create":return"Создать";case"read":return"Редактировать";case"edit":return"Сохранить"}},getAction:function(){switch(this.action){case"create":return"Создание";case"read":return"Просмотр";case"edit":return"Редактирование"}},getMessage:function(){switch(this.action){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}}}},3603:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{attrs:{values:e.formData},on:{submit:e.onsubmit},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:{span:22,offset:0},lg:{span:22,offset:0},xl:{span:22,offset:0}}},[a("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Текст под названием",name:"subname",type:"text",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Подсказка для предметов",name:"first_help_text",type:"textarea",disabled:e.disabled,validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.first_help_text&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.first_help_text.length<=0?0:e.textareaMaxLength-e.formData.first_help_text.length)+" символось осталось."}}),a("x-input",{attrs:{label:"Подсказка для файлов",name:"second_help_text",type:"textarea",disabled:e.disabled,validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.second_help_text&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.second_help_text.length<=0?0:e.textareaMaxLength-e.formData.second_help_text.length)+" символось осталось."}})],1),a("a-col",{attrs:{span:"6"}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("2dd8")),o={props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},entityName:"indicator-report-card",textareaMaxLength:1024}},methods:{onsubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("read"!==e.action){t.next=3;break}return e.$router.push("/indicator-report-card/edit/".concat(e.id)),t.abrupt("return");case 3:return t.next=5,e.saveEntity(e.formData);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("create"===e.action){t.next=3;break}return t.next=3,e.getEntity();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}},c=o,u=a("2877"),l=Object(u["a"])(c,n,r,!1,null,"1180da16",null);t["default"]=l.exports},"4c31":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{on:{submit:e.onSubmit},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required"}}),a("x-input",{attrs:{label:"Номинация",name:"nominations",options:{first:"First",second:"Second",third:"Third",fourth:"Fourth"},type:"select",placeholder:"Выберите номинации",validation:"required"}}),a("x-input",{attrs:{label:"Степень участия",name:"level",options:{first:"First",second:"Second",third:"Third",fourth:"Fourth"},type:"vue-select",multiple:"",placeholder:"Выберите уровень",help:"До трёх элементов.",validation:"required"}})],1),a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{label:"Уровень",name:"level",options:{first:"First",second:"Second",third:"Third",fourth:"Fourth"},type:"vue-select",multiple:"",placeholder:"Выберите уровень",help:"До трёх элементов.",validation:"required"}}),a("x-input",{attrs:{type:"number",name:"achievement_count",label:"Максимальное количество достижений",placeholder:"Введите количество",validation:"required|number|min:0|max:200",min:"0",max:"200"}})],1),a("a-col",{attrs:{span:"24"}},[a("x-input",{attrs:{label:"Подсказка",name:"test",type:"textarea",validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.test&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.test.length<=0?0:e.textareaMaxLength-e.formData.test.length)+" символось осталось."}})],1),a("a-col",{attrs:{md:12,lg:8,xl:6}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)],1)],1)},r=[],i=a("2dd8"),s={props:["action","id"],mixins:[i["a"]],data:function(){return{formData:{},entityName:"indicator",textareaMaxLength:255}}},o=s,c=a("2877"),u=Object(c["a"])(o,n,r,!1,null,"4a758b58",null);t["default"]=u.exports},"4fa3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?e._e():a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"achievement",data:e.achievement,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("d81d"),a("96cf"),a("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o,loading:!0}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAchievement();case 2:case"end":return t.stop()}}),t)})))()},computed:{achievement:function(){return this.$store.state.app[s["a"]].map((function(e){return e.achievement}))}},methods:{getAchievement:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:s["a"]});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["a"],id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$toast.error(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},6244:function(e,t,a){},6362:function(e,t,a){"use strict";a("e5f7")},"7bae":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[e.loading?e._e():a("x-table",{attrs:{entityName:"users",data:e.users,columns:e.columns,actions:["read","edit","delete"]},on:{delete:e.deleteItem,generate:e.generate}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("99af"),a("a15b"),a("d81d"),a("b0c0"),a("5b55")),o="https://студентгода63.рф/media",c=[{title:"ID",dataIndex:"id"},{title:"ФИО",dataIndex:"initials",customRender:function(e,t,a){return"".concat(t.first_name," ").concat(t.last_name||""," ").concat(t.patronymic||"")}},{title:"Место обучения",dataIndex:"name_place_education"},{title:"Номинации",dataIndex:"nominations",width:400,customRender:function(e,t,a){return t.nomination.map((function(e){return e.name})).join(", ")}}],u={data:function(){return{columns:c,loading:!0,media:o}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUsers();case 2:case"end":return t.stop()}}),t)})))()},computed:{users:function(){return this.$store.state.app.users}},methods:{getUsers:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"".concat(s["f"])});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["f"],id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()},generate:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.key,a.prev=1,a.next=4,t.$store.dispatch("app/getEntities",{entityName:n});case 4:r=a.sent,i=document.createElement("a"),i.href="".concat(t.media,"/").concat(r.data),i.click(),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),t.$errors.show(a.t0.response.data);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}}},l=u,d=a("2877"),m=Object(d["a"])(l,n,r,!1,null,null,null);t["default"]=m.exports},"7e4a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},["create"===e.action?a("FormulateInput",{attrs:{label:"Тип показателя",type:"radio",name:"indicatorType",options:e.indicatorTypes,disabled:e.disabled},model:{value:e.indicatorCurrentType,callback:function(t){e.indicatorCurrentType=t},expression:"indicatorCurrentType"}}):e._e(),"default"===e.indicatorCurrentType?a("x-form",{attrs:{name:"defaultForm",values:e.defaultForm},on:{submit:function(t){return e.onsubmit("defaultForm")}},model:{value:e.defaultForm,callback:function(t){e.defaultForm=t},expression:"defaultForm"}},[a("default-form",{attrs:{checkboxes:e.checkboxes,disabled:e.disabled,formData:e.defaultForm,getButtonAction:e.getButtonAction}})],1):e._e(),"spec"===e.indicatorCurrentType?a("x-form",{attrs:{name:"specForm",values:e.specForm},on:{submit:function(t){return e.onsubmit("specForm")}},model:{value:e.specForm,callback:function(t){e.specForm=t},expression:"specForm"}},[a("spec-form",{attrs:{getButtonAction:e.getButtonAction,disabled:e.disabled,formData:e.specForm}})],1):e._e(),"specOrg"===e.indicatorCurrentType?a("x-form",{attrs:{name:"specOrgForm",values:e.specOrgForm},on:{submit:function(t){return e.onsubmit("specOrgForm")}},model:{value:e.specOrgForm,callback:function(t){e.specOrgForm=t},expression:"specOrgForm"}},[a("spec-org-form",{attrs:{getButtonAction:e.getButtonAction,disabled:e.disabled,formData:e.specOrgForm}})],1):e._e()],1)},r=[],i=a("5530"),s=a("1da1"),o=(a("d81d"),a("caad6"),a("2532"),a("96cf"),a("2dd8")),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Номинация",name:"nomination",options:e.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Элементы заполнения",type:"checkbox",name:"checkboxes",options:e.checkboxes,"error-behavior":"submit",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{type:"number",name:"max_count_achievement",label:"Максимальное количество достижений",validation:"required|number|min:0|max:50",min:"0",max:"200",disabled:e.disabled}}),a("x-input",{attrs:{type:"number",name:"count_score_per_achievement",label:"Балл за достижение",validation:"required|number|min:0|max:50",min:"0",max:"200",step:"0.5",disabled:e.disabled}}),a("x-input",{attrs:{label:"Период",name:"period",options:e.$store.getters["app/optionPeriod"],type:"select",validation:"required",disabled:e.disabled}})],1),e.formData.checkboxes&&e.formData.checkboxes.includes("hint")?a("a-col",{attrs:{span:"24"}},[a("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:e.disabled,validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.hint_text&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.hint_text.length<=0?0:e.textareaMaxLength-e.formData.hint_text.length)+" символось осталось."}})],1):e._e(),a("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)},u=[],l={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},d=l,m=a("2877"),p=Object(m["a"])(d,c,u,!1,null,"45d3cfd1",null),f=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{type:"text",name:"name",label:"Название показателя",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{type:"number",name:"count_score_part_1_spec",label:"Балл за описание",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:e.disabled}}),a("x-input",{attrs:{type:"number",name:"count_score_part_2_spec",label:"Балл за участников",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:e.disabled}}),a("x-input",{attrs:{type:"number",name:"minimum_number_participants_spec",label:"Мин. кол-во баллов",validation:"required|number|min:0|max:999",help:"Минимальное количество занесённых участников для получения баллов",min:"1",max:"999",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{type:"number",name:"count_score_part_3_spec",label:"Балл за кол-во участников",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:e.disabled}}),a("x-input",{attrs:{type:"number",name:"count_score_part_4_spec",label:"Балл за документы",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:e.disabled}}),a("x-input",{attrs:{label:"Номинация",name:"nomination",options:e.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:e.disabled,validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.hint_text&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.hint_text.length<=0?0:e.textareaMaxLength-e.formData.hint_text.length)+" символось осталось."}})],1),a("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)},b=[],v={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},x=v,g=Object(m["a"])(x,h,b,!1,null,"5132066f",null),_=g.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{type:"text",name:"name",label:"Название показателя",validation:"required",disabled:e.disabled}}),a("x-input",{attrs:{label:"Номинация",name:"nomination",options:e.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{type:"number",name:"count_score_spec_2",label:"Кол-во баллов",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:e.disabled}}),a("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:e.disabled,validation:"required|max:"+e.textareaMaxLength+",length",help:e.formData.hint_text&&"Максимально "+e.textareaMaxLength+". "+(e.textareaMaxLength-e.formData.hint_text.length<=0?0:e.textareaMaxLength-e.formData.hint_text.length)+" символось осталось."}})],1),a("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)},y=[],k={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},R=k,O=Object(m["a"])(R,w,y,!1,null,"0b33ce4e",null),D=O.exports,j=a("cd3f"),$=a.n(j),I={props:["action","id"],components:{DefaultForm:f,SpecForm:_,SpecOrgForm:D},mixins:[o["a"]],data:function(){return{defaultForm:{checkboxes:[]},specForm:{},specOrgForm:{},indicator:null,entityName:"indicator",checkboxes:[{value:"degree_participation",label:"Степень участия"},{value:"document",label:"Документ"},{value:"url",label:"Ссылка на видео"},{value:"hint",label:"Подсказка"}],indicatorCurrentType:"default",indicatorTypes:{default:"Показатель",spec:"Спец.показатель",specOrg:"Спец.показатель руководителя орг."}}},methods:{onsubmit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("read"!==t.action){a.next=3;break}return t.$router.push("/indicator/edit/".concat(t.id)),a.abrupt("return");case 3:return n=$()(t[e]),"defaultForm"===e&&(n=t.saveDefault(n)),"specForm"===e&&(n=t.saveSpec(n)),"specOrgForm"===e&&(n=t.saveSpecOrg(n)),a.prev=7,a.next=10,t.saveEntity(n);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](7),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[7,12]])})))()},saveDefault:function(e){var t=Object(i["a"])({},e);return this.checkboxes.map((function(e){t[e.value]=t.checkboxes.includes(e.value)})),t.checkboxes.includes("hint")||(t.hint_text=null),t},saveSpec:function(e){return Object(i["a"])(Object(i["a"])({},e),{},{special_indicator:!0})},saveSpecOrg:function(e){return Object(i["a"])(Object(i["a"])({},e),{},{indicator_head_organization:!0})},getEntities:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$store.dispatch("app/getEntities",{entityName:e});case 3:a.next=8;break;case 5:a.prev=5,a.t0=a["catch"](0),console.log(a.t0);case 8:case"end":return a.stop()}}),a,null,[[0,5]])})))()},renderCheckboxes:function(){var e=this;this.defaultForm.period="".concat(this.defaultForm.period.id),this.defaultForm.hint_text&&this.defaultForm.checkboxes.push("hint");var t=function(t){e.checkboxes.some((function(a){return a.value===t&&e.defaultForm[t]}))&&e.defaultForm.checkboxes.push(t)};for(var a in this.defaultForm)t(a)},checkTypeIndicator:function(e){return e.special_indicator?(this.indicatorCurrentType="spec",this.specForm=e,void(this.specForm.nomination="".concat(this.specForm.nomination.id))):e.indicator_head_organization?(this.indicatorCurrentType="specOrg",this.specOrgForm=e,void(this.specOrgForm.nomination="".concat(this.specOrgForm.nomination.id))):(this.indicatorCurrentType="default",this.defaultForm=Object(i["a"])(Object(i["a"])({},this.defaultForm),e),this.defaultForm.nomination="".concat(this.defaultForm.nomination.id),void this.renderCheckboxes())}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getEntities("nomination");case 2:return t.next=4,e.getEntities("period");case 4:if("create"===e.action){t.next=9;break}return t.next=7,e.getEntity(!0);case 7:a=t.sent,e.checkTypeIndicator(a);case 9:e.loading=!1;case 10:case"end":return t.stop()}}),t)})))()}},N=I,C=Object(m["a"])(N,n,r,!1,null,"483f92ba",null);t["default"]=C.exports},"960c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("div",{staticClass:"container"},[a("a-row",{attrs:{gutter:[24]}},[a("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[a("div",{staticClass:"container-title"},[a("component-tabs",{attrs:{activeTab:e.activeTab,tabs:e.routerTabs},on:{setActiveNomination:function(t){return e.$router.push("/users/"+t)}}}),e.loading?e._e():a("component-tabs",{attrs:{tabs:e.userInfo.nomination,activeTab:e.activeNomination},on:{setActiveNomination:e.changeNomination}})],1),e.loading?a("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):a("div",{staticClass:"container-body"},e._l(e.indicators,(function(t){return a("div",{key:t.id},[t.special_indicator||t.indicator_head_organization?e._e():a("Upload",{attrs:{indicator:t,saveAchievement:e.saveAchievement,participationDegree:e.participationDegree,achievements:t.achievements,isAdmin:""},on:{remove:e.removeAchievement}}),t.special_indicator?a("UploadSpec",{attrs:{participationDegree:e.participationDegree,achievements:t.achievements,indicator:t,saveAchievement:e.saveAchievement},on:{remove:e.removeAchievement}}):e._e(),t.indicator_head_organization?a("UploadSpecOrg",{attrs:{achievements:t.achievements,indicator:t,saveAchievement:e.saveAchievement},on:{remove:e.removeAchievement}}):e._e()],1)})),0)],1)],1)],1)])},r=[],i=a("1da1"),s=a("ade3"),o=(a("4de4"),a("d3b7"),a("3ca3"),a("ddb0"),a("d81d"),a("ac1f"),a("1276"),a("c740"),a("498a"),a("96cf"),a("2d21")),c=a("fb88"),u=a("5306"),l=a("46f9"),d=a("cd3f"),m=a.n(d),p=a("09bc"),f=a("5b55"),h={components:{Upload:o["a"],ComponentTabs:l["a"],UploadSpec:c["a"],UploadSpecOrg:u["a"]},props:["id"],data:function(){var e;return e={entityName:"users",loading:!0,participationDegree:p["l"],buttonDisabled:!1},Object(s["a"])(e,"loading",!1),Object(s["a"])(e,"indicators",[]),Object(s["a"])(e,"activeNomination",null),Object(s["a"])(e,"activeTab","edit/".concat(this.id,"/achievements")),Object(s["a"])(e,"userInfo",{}),Object(s["a"])(e,"routerTabs",[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]),e},computed:{initialIndicators:function(){return this.$store.state.app.indicator},getMessage:function(){switch("create"){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.getUser();case 3:return t.next=5,e.changeNomination(e.userInfo.nomination[0].id);case 5:case"end":return t.stop()}}),t)})))()},methods:{getUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"users/".concat(e.id)});case 3:a=t.sent,e.userInfo=a.data,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},changeNomination:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.activeNomination=e,a.next=3,t.getIndicatorsByNomination(t.activeNomination);case 3:return a.next=5,t.achievementsToIndicators(t.initialIndicators);case 5:t.indicators=a.sent,t.indicators=t.indicators.filter((function(e){return e.achievements.length})),t.loading=!1;case 8:case"end":return a.stop()}}),a)})))()},getIndicatorsByNomination:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.abrupt("return",t.$store.dispatch("app/getEntities",{entityName:f["b"],params:{nomination:e}}));case 4:a.prev=4,a.t0=a["catch"](0),console.log(a.t0);case 7:case"end":return a.stop()}}),a,null,[[0,4]])})))()},achievementsToIndicators:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Promise.all(e.map((function(e){return new Promise(function(){var a=Object(i["a"])(regeneratorRuntime.mark((function a(n){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("app/getEntities",{entityName:f["a"],params:{indicator:e.id,user:t.id}});case 2:r=a.sent,e.achievements=r.data.map((function(e){return e.achievement.documents&&(e.achievement.documents=t.renderDocuments(e.achievement.documents)),e.achievement})),n(e);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}),a)})))()},renderDocuments:function(e){var t=this;return e.map((function(e){return e.documentName=t.addDocumentName(e.document),e}))},getFormData:function(e,t){var a=new FormData;for(var n in"spec"===t&&(e.full_name.map((function(e,t){a.append("full_name[".concat(t,"][0]"),e[0]),a.append("full_name[".concat(t,"][1]"),e[1])})),delete e.full_name),e)"documents"===n?e[n].map((function(e){a.append("documents",e)})):a.append(n,e[n]);return a},saveAchievement:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,r=a.getFormData(m()(e),t),n.next=4,a.saveEntity(r,t);case 4:n.next=9;break;case 6:throw n.prev=6,n.t0=n["catch"](0),n.t0;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()},saveEntity:function(e,t){var a=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,a.buttonDisabled=!0,n.next=4,a.$store.dispatch("app/saveEntity",{data:e,method:"post",entityName:f["a"]});case 4:r=n.sent,a.addNewFields(r),a.$toast.success(a.getMessage),n.next=13;break;case 9:throw n.prev=9,n.t0=n["catch"](0),a.$formulate.handle(n.t0.response.data,t),n.t0;case 13:return n.prev=13,a.buttonDisabled=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})))()},addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},addNewFields:function(e){e.documents&&(e.documents=this.renderDocuments(e.documents));var t=this.indicators.findIndex((function(t){return e.indicators===t.id})),a=this.indicators[t];a.achievements.push(e)},removeAchievement:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:f["a"],id:e});case 4:return a.next=6,t.changeNomination(t.activeNomination);case 6:t.$swal("Успешно удалено!"),a.next=13;break;case 9:a.prev=9,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 13:return a.prev=13,t.loading=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,9,13,16]])})))()},editAchievement:function(){},trimWhitespaces:function(e){for(var t in e)e[t]===String&&e[t].trim()},onApplicate:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Отправить завку на конкурс?",text:"После подтверждения действия Вы не сможете редактировать введенные данные",showCancelButton:!0,confirmButtonText:"Отправить",cancelButtonText:"Отмена"});case 2:a=t.sent,a.isConfirmed;case 4:case"end":return t.stop()}}),t)})))()}}},b={mixins:[h],data:function(){return{activeTab:"read/".concat(this.id,"/achievements"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}}},v=b,x=a("2877"),g=Object(x["a"])(v,n,r,!1,null,null,null);t["default"]=g.exports},"9d67":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{attrs:{values:e.formData},on:{submit:e.onsubmit},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[a("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:e.disabled}}),a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)],1)],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("2dd8")),o=(a("4360"),{props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},nomination:null,entityName:"nomination",textareaMaxLength:255}},methods:{onsubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("read"!==e.action){t.next=3;break}return e.$router.push("/nomination/edit/".concat(e.id)),t.abrupt("return");case 3:return t.next=5,e.saveEntity(e.formData);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("create"===e.action){t.next=3;break}return t.next=3,e.getEntity();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}}),c=o,u=a("2877"),l=Object(u["a"])(c,n,r,!1,null,"3359511f",null);t["default"]=l.exports},"9e62":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("div",{staticClass:"container profile-info"},[e.userInfo?a("a-row",{attrs:{gutter:[24]}},[a("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[a("component-tabs",{attrs:{activeTab:e.activeTab,tabs:e.routerTabs},on:{setActiveNomination:function(t){return e.$router.push("/users/"+t)}}})],1),a("div",{staticClass:"head"},[a("div",{staticClass:"head__photo"},[e.userInfo.user_avatar?a("img",{attrs:{src:e.media+"/"+e.userInfo.user_avatar,alt:"Аватар студента"}}):a("v-icon",{attrs:{name:"camera"}})],1),a("div",{staticClass:"head__info"},[a("h2",[e._v(e._s(e.getFullName))]),a("div",{staticClass:"head__info__indicators"},[a("span",[e._v(e._s(e.getAge)+" лет")]),a("span",{staticClass:"points"},[e._v(e._s(e.userInfo.district))]),a("span",[e._v(e._s(e.userInfo.course_education)+" курс")])])])]),a("profile-nomination",{attrs:{nominations:e.userInfo.nomination}}),e._l(e.infos,(function(t,n){return a("profile-infoblock",{key:n,attrs:{userInfo:e.userInfo,data:t.info,title:t.title}})}))],2)],1):e._e()],1),a("div",{staticClass:"crud-form-button",staticStyle:{width:"200px",margin:"auto"}},[a("router-link",{attrs:{to:"/users/edit/"+e.id}},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" Редактировать ")])],1)],1)])},r=[],i=a("1da1"),s=(a("96cf"),a("a15b"),a("ac1f"),a("1276"),a("7db0"),a("c1f9"),a("4de4"),a("4fad"),a("498a"),a("99af"),a("2dd8")),o=a("f729"),c=a("bfd1"),u=a("1359"),l=a("f60b"),d=a("09bc"),m=a("46f9"),p=a("c1df"),f=a.n(p),h="https://студентгода63.рф/media",b={props:["action","id"],mixins:[s["a"],o["a"],c["a"]],components:{ProfileNomination:u["a"],ProfileInfoblock:l["a"],ComponentTabs:m["a"]},data:function(){return{educationPlace:d["g"],formData:{},users:null,media:h,entityName:"users",textareaMaxLength:255,activeTab:"read/".concat(this.id),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}},methods:{getGender:function(e){return"male"===e?"Мужской":"Женский"},getBirthday:function(e){return e.split("-").reverse().join("-")},getPlaceEducation:function(e){return this.educationPlace.find((function(t){return t.value===e})).label}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("create"===e.action){t.next=3;break}return t.next=3,e.getEntity();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},computed:{userInfo:function(){return Object.fromEntries(Object.entries(this.formData).filter((function(e){return e[1]})))},getFullName:function(){var e=this.userInfo,t=e.first_name,a=e.last_name,n=e.patronymic;return"".concat(t," ").concat(a," ").concat(n||"").trim()},getAge:function(){return f()().diff(this.userInfo.date_birth,"years")}}},v=b,x=(a("6362"),a("2877")),g=Object(x["a"])(v,n,r,!1,null,"76790fd0",null);t["default"]=g.exports},aca1:function(e,t,a){"use strict";a("6244")},bb1d:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"indicator-report-card",data:e.report,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}]),o={data:function(){return{columns:s}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getIndicator();case 2:case"end":return t.stop()}}),t)})))()},computed:{report:function(){return this.$store.state.app["indicator-report-card"]}},methods:{getIndicator:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"indicator-report-card"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:"indicator-report-card",id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},c=o,u=a("2877"),l=Object(u["a"])(c,n,r,!1,null,null,null);t["default"]=l.exports},d00c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("a-row",{attrs:{gutter:[24]}},[a("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[a("component-tabs",{attrs:{activeTab:e.activeTab,tabs:e.routerTabs},on:{setActiveNomination:function(t){return e.$router.push("/users/"+t)}}}),e.loading?e._e():a("x-form",{staticClass:"profile-application-container",attrs:{values:e.form,name:"application"},on:{submit:e.saveForm},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[a("upload-photo",{attrs:{user_id:e.id,user_data:e.form}}),a("div",{staticClass:"profile-form"},[a("application-form",{attrs:{isProfile:"",items:e.items}})],1),a("a-col",{staticClass:"inline-buttons",staticStyle:{width:"200px",margin:"auto","margin-top":"35px"},attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[a("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:"","html-type":"submit"}},[e._v(" Сохранить ")])],1)],1)],1)],1)],1)},r=[],i=a("5530"),s=a("1da1"),o=(a("96cf"),a("a15b"),a("ac1f"),a("1276"),a("d81d"),a("99af"),a("2dd8")),c=a("f729"),u=a("1bd6"),l=a("c1df"),d=a.n(l),m=a("09de"),p=a("09bc"),f=a("cd3f"),h=a.n(f),b=a("46f9"),v={props:["action","id"],mixins:[o["a"],c["a"]],components:{UploadPhoto:m["a"],ApplicationForm:u["a"],ComponentTabs:b["a"]},data:function(){return{educationForm:p["f"],form:{},users:null,entityName:"users",textareaMaxLength:255,activeTab:"edit/".concat(this.id),routerTabs:[{name:"Основные сведения",id:"edit/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]}},methods:{getGender:function(e){return"male"===e?"Мужской":"Женский"},getBirthday:function(e){return e.split("-").reverse().join("-")},renderForm:function(){this.form.citizenshipCheckbox="РФ"!=this.form.citizenship?"Другое":"РФ",this.form.form_education=[this.form.form_education],this.form.nomination=this.form.nomination.map((function(e){return"".concat(e.id)}))},getNominations:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},saveForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,a=h()(Object(i["a"])(Object(i["a"])({},e.form),{},{citizenship:"РФ"===e.form.citizenshipCheckbox?"РФ":e.form.citizenship,form_education:e.form.form_education[0]})),delete a.user_avatar,t.next=6,e.$store.dispatch("app/saveEntity",{entityName:"users",data:a,method:"patch",id:a.id});case 6:return t.next=8,e.$store.dispatch("user/getUserData");case 8:e.$toast.success("Успешно сохранено"),e.$router.push("/users/read/".concat(e.id)),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0),400===(null===t.t0||void 0===t.t0||null===(n=t.t0.response)||void 0===n?void 0:n.status)&&e.$errors.show(t.t0.response.data);case 16:return t.prev=16,e.loading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[1,12,16,19]])})))()}},computed:{getFullName:function(){var e=this.form,t=e.first_name,a=e.last_name,n=e.patronymic;return"".concat(t," ").concat(a," ").concat(n)},getAge:function(){return d()().diff(this.form.date_birth,"years")}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNominations();case 2:return t.next=4,e.getEntity();case 4:e.form=e.formData,e.renderForm(),e.loading=!1;case 7:case"end":return t.stop()}}),t)})))()}},x=v,g=a("2877"),_=Object(g["a"])(x,n,r,!1,null,"7f3a4e63",null);t["default"]=_.exports},db2a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.loading?e._e():a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"indicator",data:e.indicator,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0},{title:"Тип",dataIndex:"type",customRender:function(e,t,a){return t.special_indicator?"Спец. показатель":t.indicator_head_organization?"Спец. показатель руководителя орг.":"Показатель"}}],c={data:function(){return{columns:o,loading:!0}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getIndicator();case 2:case"end":return t.stop()}}),t)})))()},computed:{indicator:function(){return this.$store.state.app.indicator}},methods:{getIndicator:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:s["b"]});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:return t.prev=8,e.loading=!1,t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[0,5,8,11]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["b"],id:e});case 4:t.$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports},df49:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{attrs:{values:e.formData},on:{submit:e.onsubmit},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{md:{span:20,offset:2},xl:{span:12,offset:6}}},[a("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:e.disabled}}),a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)],1)],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("2dd8")),o=(a("4360"),{props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},nomination:null,entityName:"nomination",textareaMaxLength:255}},methods:{onsubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("read"!==e.action){t.next=3;break}return e.$router.push("/nomination/edit/".concat(e.id)),t.abrupt("return");case 3:return t.next=5,e.saveEntity(e.formData);case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("create"===e.action){t.next=3;break}return t.next=3,e.getEntity();case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()}}),c=o,u=a("2877"),l=Object(u["a"])(c,n,r,!1,null,"3e021efd",null);t["default"]=l.exports},e5f7:function(e,t,a){},f2c2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("x-crud",{attrs:{loading:e.loading}},[a("x-form",{attrs:{values:e.formData},on:{submit:e.onsubmit},model:{value:e.formData,callback:function(t){e.formData=t},expression:"formData"}},[a("a-row",{attrs:{gutter:[24,24]}},[a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{label:"Период, начало",name:"start_achievement",options:["2023","2022","2021","2020","2019","2018","2017","2016","2015"],type:"select","error-behavior":"submit",disabled:e.disabled,validation:"required"}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{label:"Период, конец",name:"finish_achievement",options:["2023","2022","2021","2020","2019","2018","2017","2016","2015"],type:"select","error-behavior":"submit",disabled:e.disabled,validation:"required|comparison","validation-rules":{comparison:function(t){t.value;return Number(e.formData.finish_achievement)>=Number(e.formData.start_achievement)}},"validation-messages":{comparison:"Год окончания периода меньше начала"}}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"start_entered_achievements",type:"datetime-local",label:"Начало выбора достижения",min:e.formData.start_achievement+"-01-01T00:00:00","error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"finish_entered_achievements",type:"datetime-local",label:"Конец выбора достижения",min:e.formData.start_entered_achievements,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"start_preliminary_verification_achievements",type:"datetime-local",label:"Дата начала предварительной проверки админа",min:e.formData.finish_entered_achievements,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"finish_preliminary_verification_achievements",type:"datetime-local",label:"Дата конца предварительной проверки админа",min:e.formData.start_entered_achievements,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"start_verification_achievements",type:"datetime-local",label:"Дата начала проверки достижений",min:e.formData.finish_preliminary_verification_achievement,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"finish_verification_achievements",type:"datetime-local",label:"Дата конца проверки достижений",min:e.formData.start_verification_achievements,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[a("x-input",{attrs:{name:"date_publication_results",type:"datetime-local",label:"Начало публикации результатов",min:e.formData.finish_verification_achievements,"error-behavior":"submit",max:e.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:e.disabled}})],1),a("a-col",{staticClass:"col-form",attrs:{xs:{span:24,offset:0},xl:{span:12,offset:6}}},[a("div",{staticClass:"crud-form-button"},[a("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[e._v(" "+e._s(e.getButtonAction)+" ")])],1)])],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("ac1f"),a("1276"),a("99af"),a("b0c0"),a("2dd8")),o=a("5b55"),c={props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{date_publication_results:null,finish_achievement:null,finish_entered_achievements:null,finish_preliminary_verification_achievements:null,finish_verification_achievements:null,start_achievement:null,start_entered_achievements:null,start_preliminary_verification_achievements:null,start_verification_achievements:null},entityName:o["e"]}},methods:{renderData:function(){for(var e in this.formData)"string"==typeof this.formData[e]&&this.formData[e].indexOf("+")&&(this.formData[e]=this.formData[e].split("+")[0])},onsubmit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("read"!==e.action){t.next=3;break}return e.$router.push("/".concat(o["e"],"/edit/").concat(e.id)),t.abrupt("return");case 3:return e.formData.name="".concat(e.formData.start_achievement,"-").concat(e.formData.finish_achievement),t.next=6,e.saveEntity(e.formData);case 6:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("create"===e.action){t.next=4;break}return t.next=3,e.getEntity();case 3:e.renderData();case 4:e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,"50270255",null);t["default"]=d.exports},fbf1:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("a-row",{attrs:{gutter:24,type:"flex"}},[a("a-col",{staticClass:"mb-24",attrs:{span:24}},[a("x-table",{attrs:{entityName:"nomination",data:e.nomination,columns:e.columns,actions:["create","read","edit","delete"]},on:{delete:e.deleteItem}})],1)],1)],1)},r=[],i=a("1da1"),s=(a("96cf"),a("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNomination();case 2:case"end":return t.stop()}}),t)})))()},computed:{nomination:function(){return this.$store.state.app.nomination}},methods:{getNomination:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},deleteItem:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.loading=!0,a.prev=1,a.next=4,t.$store.dispatch("app/deleteItem",{entityName:s["d"],id:e});case 4:t.$$toast.success("Успешно удалено"),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](1),console.log(a.t0),t.$errors.showOnce(a.t0.response.data);case 11:return a.prev=11,t.loading=!1,a.finish(11);case 14:case"end":return a.stop()}}),a,null,[[1,7,11,14]])})))()}}},u=c,l=a("2877"),d=Object(l["a"])(u,n,r,!1,null,null,null);t["default"]=d.exports}}]);