(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin"],{"1fcc":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"nomination",data:t.nomination,columns:t.columns,actions:["create","read","edit","delete"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNomination();case 2:case"end":return e.stop()}}),e)})))()},computed:{nomination:function(){return this.$store.state.app.nomination}},methods:{getNomination:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["d"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports},2783:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"period",data:t.period,columns:t.columns,actions:["create","read","edit","delete"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getPeriod();case 2:case"end":return e.stop()}}),e)})))()},computed:{period:function(){return this.$store.state.app.period}},methods:{getPeriod:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:s["e"]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["e"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports},"2a25":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{staticClass:"participantQuestionnaire",attrs:{values:t.participantQuestionnaire,name:"participant-questionnaire container"},model:{value:t.participantQuestionnaire,callback:function(e){t.participantQuestionnaire=e},expression:"participantQuestionnaire"}},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("div",{staticClass:"container-title"},[n("component-tabs",{attrs:{activeTab:t.activeTab,tabs:t.routerTabs},on:{setActiveNomination:function(e){return t.$router.push("/users/"+e)}}})],1),t.isEmpty?n("h5",{staticStyle:{"text-align":"center"}},[t._v("Анкета у участника еще не создана")]):n("div",[t.loading?n("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):n("div",{staticClass:"container-body"},[t._l(t.questionnaries,(function(e){return n("Upload",{key:e.id,ref:"questionnaries",refInFor:!0,attrs:{isAdmin:"",isProfile:t.isProfile,questionnaire:e}})})),n("a-col",{staticClass:"inline-buttons",staticStyle:{width:"200px",margin:"auto","margin-top":"35px"},attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:t.loading,type:"primary",block:"","html-type":"submit"},on:{click:t.onApplicate}},[t._v(" Сохранить ")])],1)],2)],1)])],1)],1)],1)},r=[],i=n("46f9"),s=n("2909"),o=n("1da1"),c=(n("99af"),n("c740"),n("d81d"),n("4de4"),n("caad"),n("2532"),n("ac1f"),n("1276"),n("498a"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf"),n("ac3d")),u=n("cd3f"),l=n.n(u),d=(n("5b55"),n("09bc")),m={components:{Upload:c["a"]},props:["id"],data:function(){return{loading:!0,buttonDisabled:!1,questionnaries:[],participantQuestionnaire:{},isProfile:!1,isEmpty:!1,issuingAuthority:d["j"],userInfo:{},documentView:d["e"],activeTab:"edit/".concat(this.id,"/questionnaire"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]}},computed:{initialIndicators:function(){return this.$store.state.app.indicator}},beforeRouteLeave:function(t,e,n){var a=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a.isEmpty){e.next=3;break}return n(),e.abrupt("return");case 3:if(!t.query.next){e.next=8;break}return n(),e.abrupt("return");case 8:return e.next=10,a.protectRouting();case 10:if(!e.sent){e.next=12;break}n();case 12:case"end":return e.stop()}}),e)})))()},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.getBaseIndicators(),e.next=3,t.getUser();case 3:return e.next=5,t.getIndicatorsReport();case 5:return n=e.sent,t.questionnaries=[].concat(Object(s["a"])(t.questionnaries),Object(s["a"])(n)),e.next=9,t.getParticipantQuestionnaire();case 9:if(t.participantQuestionnaireResponse=e.sent,t.participantQuestionnaireResponse.certificate_place_study){e.next=14;break}return t.isEmpty=!0,t.loading=!1,e.abrupt("return");case 14:t.renderQuestionnaires(t.participantQuestionnaireResponse),t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()},methods:{getUser:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"users/".concat(t.id)});case 3:n=e.sent,t.userInfo=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},getParticipantQuestionnaire:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"participant-questionnaire",params:{user:t.id}});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},renderQuestionnaires:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.questionnaries[e.questionnaries.findIndex((function(t){return"autobiography"===t.id}))].documents=t.autobiography,e.questionnaries[e.questionnaries.findIndex((function(t){return"certificate_place_study"===t.id}))].documents=t.certificate_place_study,e.questionnaries[e.questionnaries.findIndex((function(t){return"characteristic"===t.id}))].data=t.characteristic,t.report_card&&(t.report_card.map((function(t){e.questionnaries[e.questionnaries.findIndex((function(e){return e.id===t.indicator_report_card}))].data=t})),e.questionnaries=e.questionnaries.filter((function(t){return"radio_and_multiple"!==t.type||t.data})));case 4:case"end":return n.stop()}}),n)})))()},getType:function(){return this.$route.path.includes("profile")},getBaseIndicators:function(){this.questionnaries=[{id:"certificate_place_study",name:"Справка с места учебы*",first_help_text:"Прикрепите сканированную копию справки с места учебы в формате jpeg, pdf, имеющую печать образовательной организации, датированную не ранее 05.04.2021 г. Можно прикрепить потом в личном кабинете. Отправить заявку без этого нельзя",title:"Прикрепить справку",type:"only_file",acceptFormats:["image/jpeg","application/pdf"]},{id:"autobiography",name:"Автобиография конкурсанта",first_help_text:"Можно прикрепить только 1 документ формата doc, docx",title:"Прикрепить автобиографию",type:"only_file",acceptFormats:["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"]},{id:"characteristic",name:"Характеристики, отзывы и ходатайства",first_help_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"multiple"}]},getIndicatorsReport:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"indicator-report-card"});case 3:return n=e.sent,e.abrupt("return",t.renderIndicators(n));case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},renderIndicators:function(t){return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",t.data.map((function(t){return t.type="radio_and_multiple",t})));case 1:case"end":return e.stop()}}),e)})))()},getFormData:function(t){var e=new FormData;for(var n in t)"documents"===n?t[n].map((function(t){e.append("documents",t)})):e.append(n,t[n]);return e},addDocumentName:function(t){if(t){var e=t.split("/");return e[e.length-1]}},renderDocuments:function(t){var e=this;return t.map((function(t){return t.documentName=e.addDocumentName(t.document),t}))},trimWhitespaces:function(t){for(var e in t)t[e]===String&&t[e].trim()},protectRouting:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$swal.fire({title:"Есть несохраненные данные",text:"Вы точно хотите уйти со страницы? Несохраненные данные будут утеряны.",showCancelButton:!0,confirmButtonText:"Продолжить",cancelButtonText:"Отмена"});case 2:return n=e.sent,a=n.isConfirmed,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})))()},onApplicate:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a,r,i,c,u,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.buttonDisabled=!0,r=[],i=[],c=[],u=[],d=[],e.$refs.questionnaries.map((function(t){t.only_file_document&&d.push(t.id),c.push({reports:Object(s["a"])(t.reports),documents:Object(s["a"])(t.documents),id:t.id,type:t.questionnaire.type,characteristics:Object(s["a"])(t.characteristics),data:t.questionnaire.data})})),t.next=10,Promise.all(c.map(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(s){var o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("autobiography"!==s.id){t.next=7;break}if(s.documents.length){t.next=6;break}if(!d.includes(s.id)){t.next=4;break}return t.abrupt("return");case 4:t.next=7;break;case 6:n=s.documents[0];case 7:if("certificate_place_study"!==s.id){t.next=16;break}if(s.documents.length){t.next=15;break}if(!d.includes(s.id)){t.next=11;break}return t.abrupt("return");case 11:u.push("Прикрепите справку об обучении"),Promise.reject("error"),t.next=16;break;case 15:a=s.documents[0];case 16:if("characteristic"!==s.id||u.length){t.next=30;break}return t.prev=17,o=s.characteristics.filter((function(t){return!t.id})),t.next=21,e.createCharacteristics(o);case 21:if(c=t.sent,c.length){t.next=24;break}return t.abrupt("return");case 24:i.push(c),t.next=30;break;case 27:t.prev=27,t.t0=t["catch"](17),console.log(t.t0);case 30:if("radio_and_multiple"!==s.type||u.length){t.next=43;break}return t.prev=31,t.next=34,e.createReportCard(s);case 34:if(l=t.sent,l){t.next=37;break}return t.abrupt("return");case 37:r.push(l),t.next=43;break;case 40:t.prev=40,t.t1=t["catch"](31),console.log(t.t1);case 43:return t.abrupt("return","");case 44:case"end":return t.stop()}}),t,null,[[17,27],[31,40]])})));return function(e){return t.apply(this,arguments)}}()));case 10:if(!u.length){t.next=14;break}return u.map((function(t){e.$toast.error(t)})),u=[],t.abrupt("return");case 14:return m=l()({report_card:r,autobiography:n,certificate_place_study:a,characteristic:i}),m.characteristic.length||delete m.characteristic,m.report_card.length||delete m.report_card,n||delete m.autobiography,d.includes("certificate_place_study")&&delete m.certificate_place_study,m=e.getFormData(m),t.next=22,e.$store.dispatch("app/saveEntity",{id:e.participantQuestionnaireResponse.id,data:m,method:"patch",entityName:"participant-questionnaire"});case 22:e.$toast.success("Успешно сохранено"),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](0),console.log(t.t0),e.$errors.show(t.t0.response.data);case 29:return t.prev=29,e.buttonDisabled=!1,t.finish(29);case 32:case"end":return t.stop()}}),t,null,[[0,25,29,32]])})))()},createReportCard:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r,i,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.reports.length){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,e.createReports(t.reports);case 4:return r=n.sent,i=e.getFormData({documents:t.documents,reports:r,indicator_report_card:t.id}),n.next=8,e.$store.dispatch("app/saveEntity",{entityName:"report-card",method:t.data?"patch":"post",id:null===t||void 0===t||null===(a=t.data)||void 0===a?void 0:a.id,data:i});case 8:return s=n.sent,n.abrupt("return",s.id);case 10:case"end":return n.stop()}}),n)})))()},createReports:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map((function(t){return new Promise(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(a){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("app/saveEntity",{entityName:"report",method:"post",data:t});case 2:r=n.sent,a(r.id);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},createCharacteristics:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map((function(t){return new Promise(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(a){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.getFormData(l()(t)),n.next=3,e.$store.dispatch("app/saveEntity",{entityName:"characteristic",method:"post",data:r});case 3:i=n.sent,a(i.id);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()}}},p=n("2dd8"),f={components:{ComponentTabs:i["a"]},mixins:[m,p["a"]],data:function(){return{activeTab:"read/".concat(this.id,"/questionnaire"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}}},h=f,b=(n("aca1"),n("2877")),v=Object(b["a"])(h,a,r,!1,null,null,null);e["default"]=v.exports},"2dd8":function(t,e,n){"use strict";var a=n("5530"),r=n("1da1");n("498a"),n("99af"),n("96cf");e["a"]={data:function(){return{loading:!0,buttonDisabled:!1}},methods:{getEntity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.loading=!0,n.next=4,e.$store.dispatch("app/getItem",{entityName:e.entityName,id:e.getID});case 4:if(r=n.sent,!t){n.next=7;break}return n.abrupt("return",r.data);case 7:e.formData=Object(a["a"])(Object(a["a"])({},e.formData),r.data),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},trimWhitespaces:function(t){for(var e in t)t[e]===String&&t[e].trim()},saveEntity:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.buttonDisabled=!0,e.trimWhitespaces(e.formData),n.next=5,e.$store.dispatch("app/saveEntity",{id:e.getID,data:t||e.formData,method:e.method,entityName:e.entityName});case 5:a=n.sent,e.$toast.success(e.getMessage),e.$router.push("/".concat(e.entityName,"/read/").concat(a.id)),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 14:return n.prev=14,e.buttonDisabled=!1,n.finish(14);case 17:case"end":return n.stop()}}),n,null,[[0,10,14,17]])})))()},deleteItem:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:e.entityName,id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}},computed:{disabled:function(){return"read"===this.action},getID:function(){if("_"!==this.id)return this.id},method:function(){switch(this.action){case"create":return"post";case"edit":return"patch";default:return null}},getButtonAction:function(){switch(this.action){case"create":return"Создать";case"read":return"Редактировать";case"edit":return"Сохранить"}},getAction:function(){switch(this.action){case"create":return"Создание";case"read":return"Просмотр";case"edit":return"Редактирование"}},getMessage:function(){switch(this.action){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}}}},3603:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:{span:22,offset:0},lg:{span:22,offset:0},xl:{span:22,offset:0}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Текст под названием",name:"subname",type:"text",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Подсказка для предметов",name:"first_help_text",type:"textarea",disabled:t.disabled,validation:"required|max:"+t.textareaMaxLength+",length",help:t.formData.first_help_text&&"Максимально "+t.textareaMaxLength+". "+(t.textareaMaxLength-t.formData.first_help_text.length<=0?0:t.textareaMaxLength-t.formData.first_help_text.length)+" символось осталось."}}),n("x-input",{attrs:{label:"Подсказка для файлов",name:"second_help_text",type:"textarea",disabled:t.disabled,validation:"required|max:"+t.textareaMaxLength+",length",help:t.formData.second_help_text&&"Максимально "+t.textareaMaxLength+". "+(t.textareaMaxLength-t.formData.second_help_text.length<=0?0:t.textareaMaxLength-t.formData.second_help_text.length)+" символось осталось."}})],1),n("a-col",{attrs:{span:"6"}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("2dd8")),o={props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},entityName:"indicator-report-card",textareaMaxLength:1024}},methods:{onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/indicator-report-card/edit/".concat(t.id)),e.abrupt("return");case 3:return e.next=5,t.saveEntity(t.formData);case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=3;break}return e.next=3,t.getEntity();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}},c=o,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,"1180da16",null);e["default"]=l.exports},4091:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[t.loading?t._e():n("x-table",{attrs:{entityName:"contest",data:t.contests,columns:t.columns,actions:["read","edit","delete","create"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("99af"),n("96cf"),"https://студентгода63.рф/media"),o=[{title:"ID",dataIndex:"id"},{title:"Название конкурса",dataIndex:"name"}],c={data:function(){return{columns:o,loading:!0,media:s}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getContests();case 2:case"end":return e.stop()}}),e)})))()},computed:{contests:function(){return this.$store.state.app.contest}},methods:{getContests:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"contest"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,t.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:"contest",id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()},generate:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.key,n.prev=1,n.next=4,e.$store.dispatch("app/getEntities",{entityName:a});case 4:r=n.sent,i=document.createElement("a"),i.href="".concat(e.media,"/").concat(r.data),i.click(),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0),e.$errors.show(n.t0.response.data);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports},"4c31":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[t.formData.period?n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:24,offset:0}}},[n("h6",{staticStyle:{"font-weight":"normal"}},[t._v(t._s(t.formData.indicators.name))]),n("a-divider")],1):t._e(),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required","error-behavior":"submit",disabled:t.disabled}})],1),t.formData.degree_participation?n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Степень участия",name:"degree_participation",options:t.participationDegree,type:"select",validation:"required",disabled:t.disabled,"error-behavior":"submit"}})],1):t._e(),t.formData.period?n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Степень участия",name:"period",type:"text",validation:"required",disabled:t.disabled,"error-behavior":"submit"}})],1):t._e(),t.formData.url?n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Ссылка на видео",name:"url",type:"text",validation:"required",disabled:t.disabled,"error-behavior":"submit"}})],1):t._e(),t.formData.documents.length?n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("label",{staticClass:"formulate-input-label"},[t._v(" Прикрепленный документ ")]),n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-container__files"},[n("a",{staticClass:"file-container__files--file",attrs:{href:t.getDocumentLink(t.formData.documents[0].document),target:"_blank"}},[n("v-icon",{attrs:{name:"file"}}),n("span",[t._v(t._s(t.addDocumentName(t.formData.documents[0].document)))])],1)])])]):t._e(),n("a-col",{attrs:{span:24}},[n("h5",{staticStyle:{color:"#6f346b"}},[t._v("Балл: "+t._s(t.formData.score))])])],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("99af"),n("ac1f"),n("1276"),n("2dd8")),o=n("09bc"),c="https://студентгода63.рф/media",u={props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},entityName:"achievement",textareaMaxLength:255,participationDegree:o["l"],media:c}},methods:{getDocumentLink:function(t){return"".concat(this.media,"/").concat(t)},addDocumentName:function(t){if(t){var e=t.split("/");return e[e.length-1]}},onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/achievement/edit/".concat(t.id)),e.abrupt("return");case 3:return n=cloneDeep(t.formData),e.next=6,t.saveEntity(n);case 6:case"end":return e.stop()}}),e)})))()},getEntities:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n.$store.dispatch("app/getItem",{entityName:t,id:e});case 3:return a.abrupt("return",a.sent);case 6:a.prev=6,a.t0=a["catch"](0),console.log(a.t0);case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=8;break}return e.next=3,t.getEntity();case 3:return e.next=5,t.getEntities("indicator",t.formData.indicators);case 5:n=e.sent,t.formData.indicators=n.data,console.log(t.formData);case 8:t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},computed:{}},l=u,d=n("2877"),m=Object(d["a"])(l,a,r,!1,null,"3979963a",null);e["default"]=m.exports},"4fa3":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?t._e():n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"achievement",data:t.achievement,columns:t.columns,actions:["read"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("d81d"),n("96cf"),n("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o,loading:!0}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getAchievement();case 2:case"end":return e.stop()}}),e)})))()},computed:{achievement:function(){return this.$store.state.app[s["a"]].map((function(t){return t.achievement}))}},methods:{getAchievement:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:s["a"]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,t.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["a"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$toast.error(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports},6244:function(t,e,n){},6362:function(t,e,n){"use strict";n("e5f7")},"7bae":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[t.loading?t._e():n("x-table",{attrs:{entityName:t.isActive("user")?"users":"expert",data:t.users,columns:t.isActive("user")?t.columns:t.expertColumns,actions:["read","edit","delete"]},on:{delete:t.deleteItem,generate:t.generate},scopedSlots:t._u([{key:"switched",fn:function(){return[n("div",{staticClass:"switches"},[n("a-button",{class:"add-button "+(t.isActive("user")?"active":"")+" ",on:{click:function(e){!t.isActive("user")&&t.getUsers()}}},[t._v(" Студенты ")]),n("a-button",{class:"add-button "+(t.isActive("expert")?"active":"")+" ",on:{click:function(e){!t.isActive("expert")&&t.getUsers("expert")}}},[t._v(" Эксперты ")])],1)]},proxy:!0}],null,!1,3801131991)})],1)],1)],1)},r=[],i=n("1da1"),s=(n("4de4"),n("d81d"),n("b0c0"),n("99af"),n("caad"),n("2532"),n("d3b7"),n("25f0"),n("a15b"),n("96cf"),n("5b55")),o="https://студентгода63.рф/media",c={data:function(){return{loading:!0,media:o,activeRole:"user",usersList:[]}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNominations();case 2:return e.next=4,t.getUsers();case 4:case"end":return e.stop()}}),e)})))()},computed:{users:function(){return this.usersList.filter((function(t){return!!t.first_name}))},nominations:function(){return this.$store.state.app.nomination?this.$store.state.app.nomination.map((function(t){return{text:t.name,value:t.name}})):[]},expertColumns:function(){return[{title:"ID",dataIndex:"id"},{title:"ФИО",dataIndex:"initials",width:200,customRender:function(t,e,n){return"".concat(e.first_name," ").concat(e.last_name||""," ").concat(e.patronymic||"")},filterable:!0,onFilter:function(t,e){return"".concat(e.first_name," ").concat(e.last_name||""," ").concat(e.patronymic||"").toString().toLowerCase().includes(t.toLowerCase())}}]},columns:function(){return[{title:"ID",dataIndex:"id"},{title:"ФИО",dataIndex:"initials",width:200,customRender:function(t,e,n){return"".concat(e.first_name," ").concat(e.last_name||""," ").concat(e.patronymic||"")},filterable:!0,onFilter:function(t,e){return"".concat(e.first_name," ").concat(e.last_name||""," ").concat(e.patronymic||"").toString().toLowerCase().includes(t.toLowerCase())}},{title:"Место обучения",dataIndex:"name_place_education",width:300,sorter:function(t,e){return t.name_place_education.toLowerCase()<e.name_place_education.toLowerCase()}},{title:"Номинации",dataIndex:"nomination",customRender:function(t,e,n){return e.nomination.map((function(t){return t.name})).join(", ")},filters:this.nominations,onFilter:function(t,e){return console.log(e),e.nomination.some((function(e){return e.name===t}))}}]}},methods:{isActive:function(t){return this.activeRole===t},getUsers:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:"user",e.loading=!0,n.prev=2,e.activeRole=a,n.next=6,e.$store.dispatch("app/getEntities",{entityName:"".concat(s["f"]),params:{role:a}});case 6:r=n.sent,e.usersList=r.data,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](2),console.log(n.t0);case 13:return n.prev=13,e.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[2,10,13,16]])})))()},getNominations:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,t.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["f"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()},generate:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.key,n.prev=1,n.next=4,e.$store.dispatch("app/getEntities",{entityName:a});case 4:r=n.sent,i=document.createElement("a"),i.href="".concat(e.media,"/").concat(r.data),i.click(),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0),e.$errors.show(n.t0.response.data);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()}}},u=c,l=(n("e396"),n("2877")),d=Object(l["a"])(u,a,r,!1,null,"e113a980",null);e["default"]=d.exports},"7e4a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},["create"===t.action?n("FormulateInput",{attrs:{label:"Тип показателя",type:"radio",name:"indicatorType",options:t.indicatorTypes,disabled:t.disabled},model:{value:t.indicatorCurrentType,callback:function(e){t.indicatorCurrentType=e},expression:"indicatorCurrentType"}}):t._e(),"default"===t.indicatorCurrentType?n("x-form",{attrs:{name:"defaultForm",values:t.defaultForm},on:{submit:function(e){return t.onsubmit("defaultForm")}},model:{value:t.defaultForm,callback:function(e){t.defaultForm=e},expression:"defaultForm"}},[n("default-form",{attrs:{checkboxes:t.checkboxes,disabled:t.disabled,formData:t.defaultForm,getButtonAction:t.getButtonAction}})],1):t._e(),"spec"===t.indicatorCurrentType?n("x-form",{attrs:{name:"specForm",values:t.specForm},on:{submit:function(e){return t.onsubmit("specForm")}},model:{value:t.specForm,callback:function(e){t.specForm=e},expression:"specForm"}},[n("spec-form",{attrs:{getButtonAction:t.getButtonAction,disabled:t.disabled,formData:t.specForm}})],1):t._e(),"specOrg"===t.indicatorCurrentType?n("x-form",{attrs:{name:"specOrgForm",values:t.specOrgForm},on:{submit:function(e){return t.onsubmit("specOrgForm")}},model:{value:t.specOrgForm,callback:function(e){t.specOrgForm=e},expression:"specOrgForm"}},[n("spec-org-form",{attrs:{getButtonAction:t.getButtonAction,disabled:t.disabled,formData:t.specOrgForm}})],1):t._e()],1)},r=[],i=n("5530"),s=n("1da1"),o=(n("d81d"),n("caad"),n("2532"),n("96cf"),n("2dd8")),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Номинация",name:"nomination",options:t.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Элементы заполнения",type:"checkbox",name:"checkboxes",options:t.checkboxes,"error-behavior":"submit",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{type:"number",name:"max_count_achievement",label:"Максимальное количество достижений",validation:"required|number|min:0|max:50",min:"0",max:"200",disabled:t.disabled}}),n("x-input",{attrs:{type:"number",name:"count_score_per_achievement",label:"Балл за достижение",validation:"required|number|min:0|max:50",min:"0",max:"200",step:"0.5",disabled:t.disabled}}),n("x-input",{attrs:{label:"Период",name:"period",options:t.$store.getters["app/optionPeriod"],type:"select",validation:"required",disabled:t.disabled}})],1),t.formData.checkboxes&&t.formData.checkboxes.includes("hint")?n("a-col",{attrs:{span:"24"}},[n("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:t.disabled,validation:"required|max:"+t.textareaMaxLength+",length",help:t.formData.hint_text&&"Максимально "+t.textareaMaxLength+". "+(t.textareaMaxLength-t.formData.hint_text.length<=0?0:t.textareaMaxLength-t.formData.hint_text.length)+" символось осталось."}})],1):t._e(),n("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)},u=[],l={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},d=l,m=n("2877"),p=Object(m["a"])(d,c,u,!1,null,"45d3cfd1",null),f=p.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{type:"text",name:"name",label:"Название показателя",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{type:"number",name:"count_score_part_1_spec",label:"Балл за описание",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:t.disabled}}),n("x-input",{attrs:{type:"number",name:"count_score_part_2_spec",label:"Балл за участников",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:t.disabled}}),n("x-input",{attrs:{type:"number",name:"minimum_number_participants_spec",label:"Мин. кол-во баллов",validation:"required|number|min:0|max:999",help:"Минимальное количество занесённых участников для получения баллов",min:"1",max:"999",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{type:"number",name:"count_score_part_3_spec",label:"Балл за кол-во участников",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:t.disabled}}),n("x-input",{attrs:{type:"number",name:"count_score_part_4_spec",label:"Балл за документы",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:t.disabled}}),n("x-input",{attrs:{label:"Номинация",name:"nomination",options:t.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:t.disabled,validation:"required|max:"+t.textareaMaxLength+",length",help:t.formData.hint_text&&"Максимально "+t.textareaMaxLength+". "+(t.textareaMaxLength-t.formData.hint_text.length<=0?0:t.textareaMaxLength-t.formData.hint_text.length)+" символось осталось."}})],1),n("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)},b=[],v={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},x=v,g=Object(m["a"])(x,h,b,!1,null,"5132066f",null),_=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{type:"text",name:"name",label:"Название показателя",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Номинация",name:"nomination",options:t.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{md:"12",lg:{span:12,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{type:"number",name:"count_score_spec_2",label:"Кол-во баллов",validation:"required|number|min:0|max:999",min:"1",max:"999",disabled:t.disabled}}),n("x-input",{attrs:{label:"Подсказка",name:"hint_text",type:"textarea",disabled:t.disabled,validation:"required|max:"+t.textareaMaxLength+",length",help:t.formData.hint_text&&"Максимально "+t.textareaMaxLength+". "+(t.textareaMaxLength-t.formData.hint_text.length<=0?0:t.textareaMaxLength-t.formData.hint_text.length)+" символось осталось."}})],1),n("a-col",{attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)},y=[],k={props:["formData","disabled","checkboxes","getButtonAction"],data:function(){return{textareaMaxLength:1024}}},R=k,D=Object(m["a"])(R,w,y,!1,null,"0b33ce4e",null),O=D.exports,$=n("cd3f"),j=n.n($),N={props:["action","id"],components:{DefaultForm:f,SpecForm:_,SpecOrgForm:O},mixins:[o["a"]],data:function(){return{defaultForm:{checkboxes:[]},specForm:{},specOrgForm:{},indicator:null,entityName:"indicator",checkboxes:[{value:"degree_participation",label:"Степень участия"},{value:"document",label:"Документ"},{value:"url",label:"Ссылка на видео"},{value:"hint",label:"Подсказка"}],indicatorCurrentType:"default",indicatorTypes:{default:"Показатель",spec:"Спец.показатель",specOrg:"Спец.показатель руководителя орг."}}},methods:{onsubmit:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if("read"!==e.action){n.next=3;break}return e.$router.push("/indicator/edit/".concat(e.id)),n.abrupt("return");case 3:return a=j()(e[t]),"defaultForm"===t&&(a=e.saveDefault(a)),"specForm"===t&&(a=e.saveSpec(a)),"specOrgForm"===t&&(a=e.saveSpecOrg(a)),n.prev=7,n.next=10,e.saveEntity(a);case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](7),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[7,12]])})))()},saveDefault:function(t){var e=Object(i["a"])({},t);return this.checkboxes.map((function(t){e[t.value]=e.checkboxes.includes(t.value)})),e.checkboxes.includes("hint")||(e.hint_text=null),e},saveSpec:function(t){return Object(i["a"])(Object(i["a"])({},t),{},{special_indicator:!0})},saveSpecOrg:function(t){return Object(i["a"])(Object(i["a"])({},t),{},{indicator_head_organization:!0})},getEntities:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("app/getEntities",{entityName:t});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},renderCheckboxes:function(){var t=this;this.defaultForm.period="".concat(this.defaultForm.period.id),this.defaultForm.hint_text&&this.defaultForm.checkboxes.push("hint");var e=function(e){t.checkboxes.some((function(n){return n.value===e&&t.defaultForm[e]}))&&t.defaultForm.checkboxes.push(e)};for(var n in this.defaultForm)e(n)},checkTypeIndicator:function(t){return t.special_indicator?(this.indicatorCurrentType="spec",this.specForm=t,void(this.specForm.nomination="".concat(this.specForm.nomination.id))):t.indicator_head_organization?(this.indicatorCurrentType="specOrg",this.specOrgForm=t,void(this.specOrgForm.nomination="".concat(this.specOrgForm.nomination.id))):(this.indicatorCurrentType="default",this.defaultForm=Object(i["a"])(Object(i["a"])({},this.defaultForm),t),this.defaultForm.nomination="".concat(this.defaultForm.nomination.id),void this.renderCheckboxes())}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEntities("nomination");case 2:return e.next=4,t.getEntities("period");case 4:if("create"===t.action){e.next=9;break}return e.next=7,t.getEntity(!0);case 7:n=e.sent,t.checkTypeIndicator(n);case 9:t.loading=!1;case 10:case"end":return e.stop()}}),e)})))()}},I=N,C=Object(m["a"])(I,a,r,!1,null,"483f92ba",null);e["default"]=C.exports},"826e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",[n("a-col",{attrs:{sm:{span:24,offset:0}}},[n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{name:"contestForm",values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required","error-behavior":"submit",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Период",name:"period",options:t.$store.getters["app/optionPeriod"],type:"select",validation:"required",disabled:t.disabled,"error-behavior":"submit"}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0}}},[n("FormulateInput",{attrs:{type:"group",name:"nomination_to_number_winner",repeatable:"read"!==t.action,label:"Номинации","add-label":"Добавить номинацию",validation:"required"}},[n("x-input",{attrs:{label:"Номинация",name:"nomination",options:t.$store.getters["app/optionNomination"],type:"select",validation:"required",disabled:t.disabled,"error-behavior":"submit"}}),n("x-input",{attrs:{type:"number",name:"number_winners",label:"Количество мест",validation:"required|number|min:0|max:100","error-behavior":"submit",min:"0",max:"100",disabled:t.disabled,help:"Введите количество мест для прохождения в очный этап"}})],1)],1),n("a-col",{staticClass:"col-form",attrs:{xs:{span:24,offset:0},xl:{span:8,offset:8}}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)],1)],1)],1)],1)],1)},r=[],i=n("1da1"),s=n("5530"),o=(n("96cf"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2dd8")),c=n("cd3f"),u=n.n(c),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"margin-top":"25px"}},[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[t.loading?t._e():n("x-table",{attrs:{entityName:"users",data:t.users,columns:t.columns,actions:["read","edit","delete"]},on:{delete:t.deleteItem,generate:t.generate}})],1)],1)],1)},d=[],m=(n("99af"),n("a15b"),n("b0c0"),n("5b55")),p="https://студентгода63.рф/media",f=[{title:"ID",dataIndex:"id"},{title:"ФИО",dataIndex:"initials",customRender:function(t,e,n){return"".concat(e.first_name," ").concat(e.last_name||""," ").concat(e.patronymic||"")}},{title:"Место обучения",dataIndex:"name_place_education"},{title:"Номинации",dataIndex:"nominations",width:400,customRender:function(t,e,n){return e.nomination.map((function(t){return t.name})).join(", ")}}],h={data:function(){return{columns:f,loading:!0,media:p}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getUsers();case 2:case"end":return e.stop()}}),e)})))()},computed:{users:function(){return this.$store.state.app.users}},methods:{getUsers:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"".concat(m["f"])});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,t.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:m["f"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()},generate:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.key,n.prev=1,n.next=4,e.$store.dispatch("app/getEntities",{entityName:a});case 4:r=n.sent,i=document.createElement("a"),i.href="".concat(e.media,"/").concat(r.data),i.click(),n.next=14;break;case 10:n.prev=10,n.t0=n["catch"](1),console.log(n.t0),e.$errors.show(n.t0.response.data);case 14:case"end":return n.stop()}}),n,null,[[1,10]])})))()}}},b=h,v=n("2877"),x=Object(v["a"])(b,l,d,!1,null,null,null),g=x.exports,_={props:["action","id"],mixins:[o["a"]],components:{usersTable:g},data:function(){return{check:null,formData:{nomination:[]},users:null,entityName:"contest",textareaMaxLength:255,loading:!0,currentNominationState:[]}},watch:{check:function(t){t?(this.currentNominationState=u()(this.formData.nomination),this.formData=Object(s["a"])(Object(s["a"])({},this.formData),{},{nomination:u()(this.getNominationAllId)}),this.$formulate.setValues("contestForm",this.formData)):(this.formData=Object(s["a"])(Object(s["a"])({},this.formData),{},{nomination:u()(this.currentNominationState)}),this.$formulate.setValues("contestForm",this.formData),this.currentNominationState=null),this.$forceUpdate()}},methods:{onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/contest/edit/".concat(t.id)),e.abrupt("return");case 3:return n=u()(t.formData),e.next=6,t.createNominations(n.nomination_to_number_winner);case 6:return n.nomination_to_number_winner=e.sent,n.nomination_to_number_winner=n.nomination_to_number_winner.map((function(t){return t.id})),e.next=10,t.saveEntity(n);case 10:case"end":return e.stop()}}),e)})))()},getEntities:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("app/getEntities",{entityName:t});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},createNominations:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Promise.all(t.map(function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("app/saveEntity",{entityName:"nomination-to-number-winner",data:n,id:null===n||void 0===n?void 0:n.id,method:null!==n&&void 0!==n&&n.id?"patch":"post"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return n.abrupt("return",n.sent);case 6:n.prev=6,n.t0=n["catch"](0),console.log(n.t0),e.$toast.error(n.t0.response.data);case 10:case"end":return n.stop()}}),n,null,[[0,6]])})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getEntities("nomination");case 2:return e.next=4,t.getEntities("period");case 4:if("create"===t.action){e.next=8;break}return e.next=7,t.getEntity();case 7:t.formData.period=t.formData.period.id;case 8:t.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},computed:{getNominationAllId:function(){return this.$store.state.app.nomination.map((function(t){return"".concat(t.id)}))}}},w=_,y=Object(v["a"])(w,a,r,!1,null,null,null);e["default"]=y.exports},"960c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("div",{staticClass:"container"},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("div",{staticClass:"container-title"},[n("component-tabs",{attrs:{activeTab:t.activeTab,tabs:t.routerTabs},on:{setActiveNomination:function(e){return t.$router.push("/users/"+e)}}}),t.loading?t._e():n("component-tabs",{attrs:{tabs:t.userInfo.nomination,activeTab:t.activeNomination},on:{setActiveNomination:t.changeNomination}})],1),t.loading?n("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):n("div",{staticClass:"container-body"},t._l(t.indicators,(function(e){return n("div",{key:e.id},[e.special_indicator||e.indicator_head_organization?t._e():n("Upload",{attrs:{indicator:e,saveAchievement:t.saveAchievement,participationDegree:t.participationDegree,achievements:e.achievements,isAdmin:""},on:{remove:t.removeAchievement}}),e.special_indicator?n("UploadSpec",{attrs:{participationDegree:t.participationDegree,achievements:e.achievements,indicator:e,saveAchievement:t.saveAchievement},on:{remove:t.removeAchievement}}):t._e(),e.indicator_head_organization?n("UploadSpecOrg",{attrs:{achievements:e.achievements,indicator:e,saveAchievement:t.saveAchievement},on:{remove:t.removeAchievement}}):t._e()],1)})),0)],1)],1)],1)])},r=[],i=n("1da1"),s=n("ade3"),o=(n("4de4"),n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("ac1f"),n("1276"),n("c740"),n("498a"),n("96cf"),n("2d21")),c=n("fb88"),u=n("5306"),l=n("46f9"),d=n("cd3f"),m=n.n(d),p=n("09bc"),f=n("5b55"),h={components:{Upload:o["a"],ComponentTabs:l["a"],UploadSpec:c["a"],UploadSpecOrg:u["a"]},props:["id"],data:function(){var t;return t={entityName:"users",loading:!0,participationDegree:p["l"],buttonDisabled:!1},Object(s["a"])(t,"loading",!1),Object(s["a"])(t,"indicators",[]),Object(s["a"])(t,"activeNomination",null),Object(s["a"])(t,"activeTab","edit/".concat(this.id,"/achievements")),Object(s["a"])(t,"userInfo",{}),Object(s["a"])(t,"routerTabs",[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]),t},computed:{initialIndicators:function(){return this.$store.state.app.indicator},getMessage:function(){switch("create"){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.getUser();case 3:return e.next=5,t.changeNomination(t.userInfo.nomination[0].id);case 5:case"end":return e.stop()}}),e)})))()},methods:{getUser:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"users/".concat(t.id)});case 3:n=e.sent,t.userInfo=n.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},changeNomination:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.activeNomination=t,n.next=3,e.getIndicatorsByNomination(e.activeNomination);case 3:return n.next=5,e.achievementsToIndicators(e.initialIndicators);case 5:e.indicators=n.sent,e.indicators=e.indicators.filter((function(t){return t.achievements.length})),e.loading=!1;case 8:case"end":return n.stop()}}),n)})))()},getIndicatorsByNomination:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.abrupt("return",e.$store.dispatch("app/getEntities",{entityName:f["b"],params:{nomination:t}}));case 4:n.prev=4,n.t0=n["catch"](0),console.log(n.t0);case 7:case"end":return n.stop()}}),n,null,[[0,4]])})))()},achievementsToIndicators:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(t.map((function(t){return new Promise(function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(a){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$store.dispatch("app/getEntities",{entityName:f["a"],params:{indicator:t.id,user:e.id}});case 2:r=n.sent,t.achievements=r.data.map((function(t){return t.achievement.documents&&(t.achievement.documents=e.renderDocuments(t.achievement.documents)),t.achievement})),a(t);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},renderDocuments:function(t){var e=this;return t.map((function(t){return t.documentName=e.addDocumentName(t.document),t}))},getFormData:function(t,e){var n=new FormData;for(var a in"spec"===e&&(t.full_name.map((function(t,e){n.append("full_name[".concat(e,"][0]"),t[0]),n.append("full_name[".concat(e,"][1]"),t[1])})),delete t.full_name),t)"documents"===a?t[a].map((function(t){n.append("documents",t)})):n.append(a,t[a]);return n},saveAchievement:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,r=n.getFormData(m()(t),e),a.next=4,n.saveEntity(r,e);case 4:a.next=9;break;case 6:throw a.prev=6,a.t0=a["catch"](0),a.t0;case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},saveEntity:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,n.buttonDisabled=!0,a.next=4,n.$store.dispatch("app/saveEntity",{data:t,method:"post",entityName:f["a"]});case 4:r=a.sent,n.addNewFields(r),n.$toast.success(n.getMessage),a.next=13;break;case 9:throw a.prev=9,a.t0=a["catch"](0),n.$formulate.handle(a.t0.response.data,e),a.t0;case 13:return a.prev=13,n.buttonDisabled=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})))()},addDocumentName:function(t){if(t){var e=t.split("/");return e[e.length-1]}},addNewFields:function(t){t.documents&&(t.documents=this.renderDocuments(t.documents));var e=this.indicators.findIndex((function(e){return t.indicators===e.id})),n=this.indicators[e];n.achievements.push(t)},removeAchievement:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:f["a"],id:t});case 4:return n.next=6,e.changeNomination(e.activeNomination);case 6:e.$swal("Успешно удалено!"),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 13:return n.prev=13,e.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},editAchievement:function(){},trimWhitespaces:function(t){for(var e in t)t[e]===String&&t[e].trim()},onApplicate:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$swal.fire({title:"Отправить завку на конкурс?",text:"После подтверждения действия Вы не сможете редактировать введенные данные",showCancelButton:!0,confirmButtonText:"Отправить",cancelButtonText:"Отмена"});case 2:n=e.sent,n.isConfirmed;case 4:case"end":return e.stop()}}),e)})))()}}},b={mixins:[h],data:function(){return{activeTab:"read/".concat(this.id,"/achievements"),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}}},v=b,x=n("2877"),g=Object(x["a"])(v,a,r,!1,null,null,null);e["default"]=g.exports},"9d67":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:{span:6,offset:9},lg:{span:6,offset:9},xl:{span:6,offset:9}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:t.disabled}}),n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)],1)],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("2dd8")),o=(n("4360"),{props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{},nomination:null,entityName:"nomination",textareaMaxLength:255}},methods:{onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/nomination/edit/".concat(t.id)),e.abrupt("return");case 3:return e.next=5,t.saveEntity(t.formData);case 5:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=3;break}return e.next=3,t.getEntity();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()}}),c=o,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,"3359511f",null);e["default"]=l.exports},"9e62":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("div",{staticClass:"container profile-info"},[t.userInfo?n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("div",{staticStyle:{"margin-bottom":"20px"}},[n("component-tabs",{attrs:{activeTab:t.activeTab,tabs:t.routerTabs},on:{setActiveNomination:function(e){return t.$router.push("/users/"+e)}}})],1),n("div",{staticClass:"head"},[n("div",{staticClass:"head__photo"},[t.userInfo.user_avatar?n("img",{attrs:{src:t.media+"/"+t.userInfo.user_avatar,alt:"Аватар студента"}}):n("v-icon",{attrs:{name:"camera"}})],1),n("div",{staticClass:"head__info"},[n("h2",[t._v(t._s(t.getFullName))]),n("div",{staticClass:"head__info__indicators"},[n("span",[t._v(t._s(t.getAge)+" лет")]),n("span",{staticClass:"points"},[t._v(t._s(t.userInfo.district))]),n("span",[t._v(t._s(t.userInfo.course_education)+" курс")])])])]),n("profile-nomination",{attrs:{nominations:t.userInfo.nomination}}),t._l(t.infos,(function(e,a){return n("profile-infoblock",{key:a,attrs:{userInfo:t.userInfo,data:e.info,title:e.title}})}))],2)],1):t._e()],1),n("div",{staticClass:"crud-form-button",staticStyle:{width:"200px",margin:"auto"}},[n("router-link",{attrs:{to:"/users/edit/"+t.id}},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" Редактировать ")])],1)],1)])},r=[],i=n("1da1"),s=(n("96cf"),n("a15b"),n("ac1f"),n("1276"),n("7db0"),n("c1f9"),n("4de4"),n("4fad"),n("498a"),n("99af"),n("2dd8")),o=n("f729"),c=n("bfd1"),u=n("1359"),l=n("f60b"),d=n("09bc"),m=n("46f9"),p=n("c1df"),f=n.n(p),h="https://студентгода63.рф/media",b={props:["action","id"],mixins:[s["a"],o["a"],c["a"]],components:{ProfileNomination:u["a"],ProfileInfoblock:l["a"],ComponentTabs:m["a"]},data:function(){return{educationPlace:d["g"],formData:{},users:null,media:h,entityName:"users",textareaMaxLength:255,activeTab:"read/".concat(this.id),routerTabs:[{name:"Основные сведения",id:"read/".concat(this.id)},{name:"Анкета участника",id:"read/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"read/".concat(this.id,"/achievements")}]}},methods:{getGender:function(t){return"male"===t?"Мужской":"Женский"},getBirthday:function(t){return t.split("-").reverse().join("-")},getPlaceEducation:function(t){return this.educationPlace.find((function(e){return e.value===t})).label}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=3;break}return e.next=3,t.getEntity();case 3:t.loading=!1;case 4:case"end":return e.stop()}}),e)})))()},computed:{userInfo:function(){return Object.fromEntries(Object.entries(this.formData).filter((function(t){return t[1]})))},getFullName:function(){var t=this.userInfo,e=t.first_name,n=t.last_name,a=t.patronymic;return"".concat(e," ").concat(n," ").concat(a||"").trim()},getAge:function(){return f()().diff(this.userInfo.date_birth,"years")}}},v=b,x=(n("6362"),n("2877")),g=Object(x["a"])(v,a,r,!1,null,"76790fd0",null);e["default"]=g.exports},aca1:function(t,e,n){"use strict";n("6244")},b091:function(t,e,n){},bb1d:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"indicator-report-card",data:t.report,columns:t.columns,actions:["create","read","edit","delete"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}]),o={data:function(){return{columns:s}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getIndicator();case 2:case"end":return e.stop()}}),e)})))()},computed:{report:function(){return this.$store.state.app["indicator-report-card"]}},methods:{getIndicator:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"indicator-report-card"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:"indicator-report-card",id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},c=o,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,null,null);e["default"]=l.exports},d00c:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("component-tabs",{attrs:{activeTab:t.activeTab,tabs:t.routerTabs},on:{setActiveNomination:function(e){return t.$router.push("/users/"+e)}}}),t.loading?t._e():n("x-form",{staticClass:"profile-application-container",attrs:{values:t.form,name:"application"},on:{submit:t.saveForm},model:{value:t.form,callback:function(e){t.form=e},expression:"form"}},[n("upload-photo",{attrs:{user_id:t.id,user_data:t.form}}),n("div",{staticClass:"profile-form"},[n("application-form",{attrs:{isProfile:"",items:t.items}})],1),n("a-col",{staticClass:"inline-buttons",staticStyle:{width:"200px",margin:"auto","margin-top":"35px"},attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:t.loading,type:"primary",block:"","html-type":"submit"}},[t._v(" Сохранить ")])],1)],1)],1)],1)],1)},r=[],i=n("5530"),s=n("1da1"),o=(n("96cf"),n("a15b"),n("ac1f"),n("1276"),n("d81d"),n("99af"),n("2dd8")),c=n("f729"),u=n("1bd6"),l=n("c1df"),d=n.n(l),m=n("09de"),p=n("09bc"),f=n("cd3f"),h=n.n(f),b=n("46f9"),v={props:["action","id"],mixins:[o["a"],c["a"]],components:{UploadPhoto:m["a"],ApplicationForm:u["a"],ComponentTabs:b["a"]},data:function(){return{educationForm:p["f"],form:{},users:null,entityName:"users",textareaMaxLength:255,activeTab:"edit/".concat(this.id),routerTabs:[{name:"Основные сведения",id:"edit/".concat(this.id)},{name:"Анкета участника",id:"edit/".concat(this.id,"/questionnaire")},{name:"Прикрепленные документы",id:"edit/".concat(this.id,"/achievements")}]}},methods:{getGender:function(t){return"male"===t?"Мужской":"Женский"},getBirthday:function(t){return t.split("-").reverse().join("-")},renderForm:function(){this.form.citizenshipCheckbox="РФ"!=this.form.citizenship?"Другое":"РФ",this.form.form_education=[this.form.form_education],this.form.nomination=this.form.nomination.map((function(t){return"".concat(t.id)}))},getNominations:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},saveForm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,n=h()(Object(i["a"])(Object(i["a"])({},t.form),{},{citizenship:"РФ"===t.form.citizenshipCheckbox?"РФ":t.form.citizenship,form_education:t.form.form_education[0]})),delete n.user_avatar,e.next=6,t.$store.dispatch("app/saveEntity",{entityName:"users",data:n,method:"patch",id:n.id});case 6:return e.next=8,t.$store.dispatch("user/getUserData");case 8:t.$toast.success("Успешно сохранено"),t.$router.push("/users/read/".concat(t.id)),e.next=16;break;case 12:e.prev=12,e.t0=e["catch"](1),console.log(e.t0),400===(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.status)&&t.$errors.show(e.t0.response.data);case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})))()}},computed:{getFullName:function(){var t=this.form,e=t.first_name,n=t.last_name,a=t.patronymic;return"".concat(e," ").concat(n," ").concat(a)},getAge:function(){return d()().diff(this.form.date_birth,"years")}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNominations();case 2:return e.next=4,t.getEntity();case 4:t.form=t.formData,t.renderForm(),t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()}},x=v,g=n("2877"),_=Object(g["a"])(x,a,r,!1,null,"7f3a4e63",null);e["default"]=_.exports},db2a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?t._e():n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"indicator",data:t.indicator,columns:t.columns,actions:["create","read","edit","delete"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name"},{title:"Тип",dataIndex:"type",customRender:function(t,e,n){return e.special_indicator?"Спец. показатель":e.indicator_head_organization?"Спец. показатель руководителя орг.":"Показатель"}}],c={data:function(){return{columns:o,loading:!0}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getIndicator();case 2:case"end":return e.stop()}}),e)})))()},computed:{indicator:function(){return this.$store.state.app.indicator}},methods:{getIndicator:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:s["b"]});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:return e.prev=8,t.loading=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[0,5,8,11]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["b"],id:t});case 4:e.$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports},df49:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{md:{span:20,offset:2},xl:{span:12,offset:6}}},[n("x-input",{attrs:{label:"Название",name:"name",type:"text",validation:"required",disabled:t.disabled}}),n("x-input",{attrs:{label:"Образовательная организация",name:"types",type:"checkbox",options:[{label:"ВУЗ",value:"university"},{label:"ССУЗ",value:"college"}],validation:"required",disabled:t.disabled}}),n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)],1)],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("d81d"),n("caad"),n("2532"),n("2dd8")),o=(n("4360"),{props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{types:[]},nomination:null,entityName:"nomination",textareaMaxLength:255}},methods:{onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/nomination/edit/".concat(t.id)),e.abrupt("return");case 3:return t.formData.types.map((function(e){t.formData[e]=!0})),t.formData.university=t.formData.types.includes("university"),t.formData.college=t.formData.types.includes("college"),e.next=8,t.saveEntity(t.formData);case 8:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=5;break}return e.next=3,t.getEntity();case 3:t.formData.university&&t.formData.types.push("university"),t.formData.college&&t.formData.types.push("college");case 5:t.loading=!1;case 6:case"end":return e.stop()}}),e)})))()}}),c=o,u=n("2877"),l=Object(u["a"])(c,a,r,!1,null,"56cf0936",null);e["default"]=l.exports},e396:function(t,e,n){"use strict";n("b091")},e5f7:function(t,e,n){},f2c2:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("x-crud",{attrs:{loading:t.loading}},[n("x-form",{attrs:{values:t.formData},on:{submit:t.onsubmit},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}},[n("a-row",{attrs:{gutter:[24,24]}},[n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Период, начало",name:"start_achievement",options:["2023","2022","2021","2020","2019","2018","2017","2016","2015"],type:"select","error-behavior":"submit",disabled:t.disabled,validation:"required"}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{label:"Период, конец",name:"finish_achievement",options:["2023","2022","2021","2020","2019","2018","2017","2016","2015"],type:"select","error-behavior":"submit",disabled:t.disabled,validation:"required|comparison","validation-rules":{comparison:function(e){e.value;return Number(t.formData.finish_achievement)>=Number(t.formData.start_achievement)}},"validation-messages":{comparison:"Год окончания периода меньше начала"}}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"start_entered_achievements",type:"datetime-local",label:"Начало выбора достижения",min:t.formData.start_achievement+"-01-01T00:00:00","error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"finish_entered_achievements",type:"datetime-local",label:"Конец выбора достижения",min:t.formData.start_entered_achievements,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"start_preliminary_verification_achievements",type:"datetime-local",label:"Дата начала предварительной проверки админа",min:t.formData.finish_entered_achievements,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"finish_preliminary_verification_achievements",type:"datetime-local",label:"Дата конца предварительной проверки админа",min:t.formData.start_entered_achievements,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"start_verification_achievements",type:"datetime-local",label:"Дата начала проверки достижений",min:t.formData.finish_preliminary_verification_achievement,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"finish_verification_achievements",type:"datetime-local",label:"Дата конца проверки достижений",min:t.formData.start_verification_achievements,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{sm:{span:24,offset:0},xl:{span:12,offset:0}}},[n("x-input",{attrs:{name:"date_publication_results",type:"datetime-local",label:"Начало публикации результатов",min:t.formData.finish_verification_achievements,"error-behavior":"submit",max:t.formData.finish_achievement+"-12-31T23:59:59",validation:"required",disabled:t.disabled}})],1),n("a-col",{staticClass:"col-form",attrs:{xs:{span:24,offset:0},xl:{span:12,offset:6}}},[n("div",{staticClass:"crud-form-button"},[n("a-button",{attrs:{type:"primary",block:"","html-type":"submit"}},[t._v(" "+t._s(t.getButtonAction)+" ")])],1)])],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("ac1f"),n("1276"),n("99af"),n("b0c0"),n("2dd8")),o=n("5b55"),c={props:["action","id"],mixins:[s["a"]],data:function(){return{formData:{date_publication_results:null,finish_achievement:null,finish_entered_achievements:null,finish_preliminary_verification_achievements:null,finish_verification_achievements:null,start_achievement:null,start_entered_achievements:null,start_preliminary_verification_achievements:null,start_verification_achievements:null},entityName:o["e"]}},methods:{renderData:function(){for(var t in this.formData)"string"==typeof this.formData[t]&&this.formData[t].indexOf("+")&&(this.formData[t]=this.formData[t].split("+")[0])},onsubmit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("read"!==t.action){e.next=3;break}return t.$router.push("/".concat(o["e"],"/edit/").concat(t.id)),e.abrupt("return");case 3:return t.formData.name="".concat(t.formData.start_achievement,"-").concat(t.formData.finish_achievement),e.next=6,t.saveEntity(t.formData);case 6:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("create"===t.action){e.next=4;break}return e.next=3,t.getEntity();case 3:t.renderData();case 4:t.loading=!1;case 5:case"end":return e.stop()}}),e)})))()}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,"50270255",null);e["default"]=d.exports},fbf1:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("a-row",{attrs:{gutter:24,type:"flex"}},[n("a-col",{staticClass:"mb-24",attrs:{span:24}},[n("x-table",{attrs:{entityName:"nomination",data:t.nomination,columns:t.columns,actions:["create","read","edit","delete"]},on:{delete:t.deleteItem}})],1)],1)],1)},r=[],i=n("1da1"),s=(n("96cf"),n("5b55")),o=[{title:"ID",dataIndex:"id"},{title:"Название",dataIndex:"name",filterable:!0}],c={data:function(){return{columns:o}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getNomination();case 2:case"end":return e.stop()}}),e)})))()},computed:{nomination:function(){return this.$store.state.app.nomination}},methods:{getNomination:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()},deleteItem:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,n.prev=1,n.next=4,e.$store.dispatch("app/deleteItem",{entityName:s["d"],id:t});case 4:e.$$toast.success("Успешно удалено"),n.next=11;break;case 7:n.prev=7,n.t0=n["catch"](1),console.log(n.t0),e.$errors.showOnce(n.t0.response.data);case 11:return n.prev=11,e.loading=!1,n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,7,11,14]])})))()}}},u=c,l=n("2877"),d=Object(l["a"])(u,a,r,!1,null,null,null);e["default"]=d.exports}}]);