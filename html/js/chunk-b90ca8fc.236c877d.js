(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b90ca8fc"],{"0c8f":function(e,t,n){"use strict";n("6998")},"1bd6":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.items,(function(t,a){return n("a-row",{key:a,attrs:{gutter:[24]}},e._l(t,(function(t){return n("a-col",{key:t.name,attrs:{sm:{span:t.sm?t.sm:24},md:{span:t.md?t.md:12},xl:{span:t.xl?t.xl:8},span:24}},[t.mask||t.disabled?e._e():n("x-input",{ref:t.name,refInFor:!0,class:e.getClass(t),attrs:{label:e.getVisible(t.visible)?e.getLabel(t):"",type:e.getVisible(t.visible)?t.type:"hidden",name:t.name,max:t.max,min:t.min,validation:e.getVisible(t.visible)?t.validation:"",options:e.getOptions(t),multiple:t.multiple,selectable:t.selectable,"error-behavior":"submit"}}),t.mask?n("x-input",{directives:[{name:"mask",rawName:"v-mask",value:t.mask,expression:"input.mask"}],attrs:{label:t.label,type:t.type,name:t.name,validation:t.validation,options:e.getOptions(t),multiple:t.multiple,selectable:t.selectable,"error-behavior":"submit"}}):e._e(),t.disabled?n("x-input",{class:t.class,attrs:{label:t.label,type:t.type,name:t.name,disabled:"","error-behavior":"submit"}}):e._e()],1)})),1)})),1)},i=[],r=n("3a60"),o={directives:{mask:r["mask"]},props:{items:{type:Array,required:!0}},methods:{getVisible:function(e){return!e||e()},getClass:function(e){return"function"==typeof e.class?e.class():e.class},getOptions:function(e){return e.optionName?this.$store.getters[e.optionName]:"function"==typeof e.options?e.options():e.options},getLabel:function(e){return"function"==typeof e.label?e.label():e.label}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,i,!1,null,"79cfa5c4",null);t["a"]=c.exports},"3a60":function(e,t,n){(function(t,n){e.exports=n()})(0,(function(){return function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=".",t(t.s=10)}([function(e,t){e.exports={"#":{pattern:/\d/},X:{pattern:/[0-9a-zA-Z]/},S:{pattern:/[a-zA-Z]/},A:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleUpperCase()}},a:{pattern:/[a-zA-Z]/,transform:function(e){return e.toLocaleLowerCase()}},"!":{escape:!0}}},function(e,t,n){"use strict";function a(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t}var i=n(2),r=n(0),o=n.n(r);t.a=function(e,t){var r=t.value;if((Array.isArray(r)||"string"==typeof r)&&(r={mask:r,tokens:o.a}),"INPUT"!==e.tagName.toLocaleUpperCase()){var s=e.getElementsByTagName("input");if(1!==s.length)throw new Error("v-mask directive requires 1 input, found "+s.length);e=s[0]}e.oninput=function(t){if(t.isTrusted){var o=e.selectionEnd,s=e.value[o-1];for(e.value=n.i(i.a)(e.value,r.mask,!0,r.tokens);o<e.value.length&&e.value.charAt(o-1)!==s;)o++;e===document.activeElement&&(e.setSelectionRange(o,o),setTimeout((function(){e.setSelectionRange(o,o)}),0)),e.dispatchEvent(a("input"))}};var l=n.i(i.a)(e.value,r.mask,!0,r.tokens);l!==e.value&&(e.value=l,e.dispatchEvent(a("input")))}},function(e,t,n){"use strict";var a=n(6),i=n(5);t.a=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments[3];return Array.isArray(t)?n.i(i.a)(a.a,t,o)(e,t,r,o):n.i(a.a)(e,t,r,o)}},function(e,t,n){"use strict";function a(e){e.component(l.a.name,l.a),e.directive("mask",o.a)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=n.n(i),o=n(1),s=n(7),l=n.n(s);n.d(t,"TheMask",(function(){return l.a})),n.d(t,"mask",(function(){return o.a})),n.d(t,"tokens",(function(){return r.a})),n.d(t,"version",(function(){return c}));var c="0.11.1";t.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),i=n(0),r=n.n(i),o=n(2);t.default={name:"TheMask",props:{value:[String,Number],mask:{type:[String,Array],required:!0},masked:{type:Boolean,default:!1},tokens:{type:Object,default:function(){return r.a}}},directives:{mask:a.a},data:function(){return{lastValue:null,display:this.value}},watch:{value:function(e){e!==this.lastValue&&(this.display=e)},masked:function(){this.refresh(this.display)}},computed:{config:function(){return{mask:this.mask,tokens:this.tokens,masked:this.masked}}},methods:{onInput:function(e){e.isTrusted||this.refresh(e.target.value)},refresh:function(e){this.display=e;e=n.i(o.a)(e,this.mask,this.masked,this.tokens);e!==this.lastValue&&(this.lastValue=e,this.$emit("input",e))}}}},function(e,t,n){"use strict";function a(e,t,n){return t=t.sort((function(e,t){return e.length-t.length})),function(a,i){for(var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=0;o<t.length;){var s=t[o];o++;var l=t[o];if(!(l&&e(a,l,!0,n).length>s.length))return e(a,s,r,n)}return""}}t.a=a},function(e,t,n){"use strict";function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments[3];e=e||"",t=t||"";for(var i=0,r=0,o="";i<t.length&&r<e.length;){var s=t[i],l=a[s],c=e[r];l&&!l.escape?(l.pattern.test(c)&&(o+=l.transform?l.transform(c):c,i++),r++):(l&&l.escape&&(i++,s=t[i]),n&&(o+=s),c===s&&r++,i++)}for(var u="";i<t.length&&n;){s=t[i];if(a[s]){u="";break}u+=s,i++}return o+u}t.a=a},function(e,t,n){var a=n(8)(n(4),n(9),null,null);e.exports=a.exports},function(e,t){e.exports=function(e,t,n,a){var i,r=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(i=e,r=e.default);var s="function"==typeof r?r.options:r;if(t&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns),n&&(s._scopeId=n),a){var l=s.computed||(s.computed={});Object.keys(a).forEach((function(e){var t=a[e];l[e]=function(){return t}}))}return{esModule:i,exports:r,options:s}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{directives:[{name:"mask",rawName:"v-mask",value:e.config,expression:"config"}],attrs:{type:"text"},domProps:{value:e.display},on:{input:e.onInput}})},staticRenderFns:[]}},function(e,t,n){e.exports=n(3)}])}))},"498a":function(e,t,n){"use strict";var a=n("23e7"),i=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},"5ead":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},["create-pass"===e.step?n("div",{staticClass:"container-back",on:{click:function(t){e.step="main"}}},[n("v-icon",{attrs:{name:"chevron-left"}}),n("div",[e._v("назад")])],1):e._e(),e._m(0),"main"===e.step?n("x-form",{staticClass:"user-application-container",attrs:{values:e.form,name:"application"},on:{submit:function(t){return e.toNextStep("next")}},model:{value:e.form,callback:function(t){e.form=t},expression:"form"}},[n("div",{staticClass:"step-1"},[n("application-form",{attrs:{items:e.items}}),n("a-row",{staticClass:"clear-class",attrs:{gutter:[0,30]}},[n("div",{staticClass:"confirm-checkbox"},[n("x-input",{attrs:{type:"checkbox",name:"confirmCheckbox1",validation:"acceptAll","validation-rules":{acceptAll:function(e){var t=e.value;return 1===t.length}},"validation-messages":{acceptAll:"Нужно принять соглашение"},options:e.checkboxes,"error-behavior":"submit"}}),n("label",{staticClass:"label",attrs:{for:"formulate--application-26_clause"}},[e._v(" Ознакомлен и согласен с "),n("router-link",{attrs:{to:"#"}},[e._v("Положением о проведении конкурса по присуждению премии в области развития профессионального образования Самарской области «Студент года 2021»")])],1)],1),n("div",{staticClass:"confirm-checkbox"},[n("x-input",{attrs:{type:"checkbox",name:"confirmCheckbox2",options:e.checkboxes,"error-behavior":"submit",validation:"acceptAll","validation-rules":{acceptAll:function(e){var t=e.value;return 1===t.length}},"validation-messages":{acceptAll:"Нужно принять соглашение"}}}),n("label",{staticClass:"label",attrs:{for:"formulate--application-28_clause"}},[e._v(" Даю согласие на обработку моих персональных данных. "),n("router-link",{attrs:{to:"#"}},[e._v("С Политикой обработки персональных данных ознакомлен")])],1)],1),n("a-col",{staticClass:"inline-buttons",attrs:{md:{span:12,offset:6},xl:{span:8,offset:8},lg:{span:16,offset:4},xs:24}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"info",block:"","html-type":"submit"},on:{onSubmit:function(t){return e.toNextStep("back")}}},[e._v(" Сохранить и выйти ")]),n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:"","html-type":"submit"},on:{onSubmit:function(t){return e.toNextStep("next")}}},[e._v(" Сохранить и продолжить ")])],1)],1)],1)]):n("x-form",{attrs:{name:"pass-form"},on:{submit:e.onSubmit},model:{value:e.createPassForm,callback:function(t){e.createPassForm=t},expression:"createPassForm"}},[n("div",{staticClass:"step-2"},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:12,offset:6},lg:{span:12,offset:6},xl:{span:8,offset:8}}},[n("x-input",{attrs:{label:"Придумайте пароль",type:"password",name:"password",validation:"min:8,length","error-behavior":"submit"}}),n("x-input",{attrs:{label:"Повторите пароль",type:"password",name:"password_confirm",validation:"min:8,length|confirm","validation-name":"Password confirmation","error-behavior":"submit"}}),n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:"","html-type":"submit"}},[e._v(" Завершить регистрацию ")])],1)],1)],1)])],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-title"},[n("span",{staticClass:"subtitle"},[e._v('Регистрация на конкурс "Студент года 2021"')]),n("h2",{staticClass:"page-title"},[e._v("Этап 1. Основные сведения")]),n("span",{staticClass:"prompt"},[e._v("* - поля, обязательные для заполнения")])])}],r=n("5530"),o=n("1da1"),s=(n("498a"),n("a9e3"),n("caad"),n("2532"),n("96cf"),n("cd3f")),l=n.n(s),c=n("1bd6"),u=n("f729"),p={components:{ApplicationForm:c["a"]},mixins:[u["a"]],data:function(){return{form:{apartment:"",citizenship:null,citizenshipCheckbox:"",course_education:null,date_birth:"",district:"",email:"",first_name:"",form_education:"",form_education_another:"",gender:"",house:"",last_name:"",locality:"",nomination:[],patronymic:"",phone_number:"",place_education:"",postal_code:"",region:"Самарская область",street:"",url_vk:"",confirmCheckbox1:[],confirmCheckbox2:[]},checkboxes:{clause:""},createPassForm:{password:null,password_confirm:null},nomination:[],step:"main",loading:!1,errorsObj:{}}},watch:{form:function(){}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getNominations();case 2:case"end":return t.stop()}}),t)})))()},methods:{cloneData:function(e){return l()(e)},toNextStep:function(e){this.afterType=e,this.step="create-pass"},toPrevStep:function(){this.step="main"},onSubmit:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,n=e.cloneData(Object(r["a"])(Object(r["a"])({},e.form),{},{form_education:e.form.form_education_another?e.form.form_education_another:e.form.form_education,citizenship:"РФ"===e.form.citizenshipCheckbox?"РФ":e.form.citizenship,password:e.createPassForm.password})),t.next=5,e.$store.dispatch("app/saveEntity",{entityName:"registration",data:n,method:"post"});case 5:return t.next=7,e.$store.dispatch("user/login",{form:{email:n.email,password:n.password},redirect:"/".concat("next"===e.afterType?"achievements":"")});case 7:e.$notification.success({message:"Подтвердите почту для участия в конкурсе",description:"Письмо с подтверждением отправлено на почту"}),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](1),console.log(t.t0),400===(null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a?void 0:a.status)?(e.step="main",e.$formulate.handle(t.t0.response.data,"application")):e.$errors.showOnce("Ошибка входа");case 14:return t.prev=14,e.loading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[1,10,14,17]])})))()},trimWhitespacedAndToInt:function(e){for(var t in e)"string"==typeof e[t]&&(e[t]=e[t].trim()),e[t]!=Number(e[t])||e[t].includes("+")||"nomination"===t||(e[t]=Number(e[t]))},getNominations:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("app/getEntities",{entityName:"nomination"});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t["catch"](0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()}}},m=p,d=(n("0c8f"),n("2877")),f=Object(d["a"])(m,a,i,!1,null,"d31789d6",null);t["default"]=f.exports},6998:function(e,t,n){},c8d2:function(e,t,n){var a=n("d039"),i=n("5899"),r="​᠎";e.exports=function(e){return a((function(){return!!i[e]()||r[e]()!=r||i[e].name!==e}))}},f729:function(e,t,n){"use strict";var a=n("ade3"),i=n("09bc");t["a"]={data:function(){var e,t=this;return{items:[[{name:"first_name",validation:"required",type:"text",label:"Фамилия"},{name:"last_name",validation:"required",type:"text",label:"Имя"},{name:"patronymic",validation:"required",type:"text",label:"Отчество",md:24}],[{name:"gender",validation:"required",type:"radio",label:"Пол",options:{male:"Мужской",female:"Женский"},class:"inline-checkbox"},{name:"date_birth",validation:"required|after:1950-01-01|before:2005-01-01",min:"1950-01-01",max:"2005-01-01",type:"date",label:"Дата рождения"},{name:"phone_number",validation:[["required"],["min","18"]],mask:"+7 (###) ###-##-##",type:"tel",label:"Номер телефона",md:24}],[{name:"citizenshipCheckbox",validation:"required",type:"radio",label:"Гражданство",options:["РФ","Другое"],class:"inline-checkbox"},{name:"citizenship",validation:"required",visible:function(){return"Другое"===t.form.citizenshipCheckbox},type:"text",label:"Другое гражданство"},{name:"email",validation:"required",type:"text",label:"Email"},{name:"url_vk",validation:"required",type:"url",label:"Ссылка на страницу ВК",md:24,xl:24}],[{name:"region",type:"text",label:"Регион",disabled:!0},{name:"locality",validation:"required",label:"Район/Городской округ",type:"select",options:i["g"]},{name:"district",validation:"required",label:"Населенный пункт",type:"select",options:i["a"],md:24}],[Object(a["a"])({name:"postal_code",validation:"required",type:"text",label:"Почтовый индекс"},"validation","required|min:6,length|max:6,length"),{name:"street",validation:"required",type:"text",label:"Улица"},{name:"house",validation:"required",type:"text",label:"Номер дома",xl:4},{name:"apartment",type:"text",label:"Квартира",xl:4}],[{name:"form_education",validation:"required",type:"select",label:"Форма обучения",options:i["e"]},{name:"form_education_another",validation:"required",visible:function(){return"Другая"===t.form.form_education},type:"text",label:"Другая форма обучения"},{name:"place_education",validation:"required",label:"Место обучения",type:"select",options:i["f"]},(e={name:"name_place_education",validation:"required",label:"Образовательная организация",type:"select"},Object(a["a"])(e,"label",(function(){return"colleges"===t.form.place_education?"ССУЗ":"ВУЗ"})),Object(a["a"])(e,"type","select"),Object(a["a"])(e,"options",(function(){return"colleges"===t.form.place_education?i["b"]:i["k"]})),Object(a["a"])(e,"md",24),Object(a["a"])(e,"xl",24),e)],[{name:"course_education",validation:"required",label:"Курс обучения",type:"select",options:i["c"]},{name:"nomination",validation:"required",label:"Номинация",type:"vue-select",multiple:!0,class:function(){return t.form.nomination.length>=2?"has-all":""},selectable:function(){return t.form.nomination.length<3},optionName:"app/optionNomination",xl:16}]]}}}}}]);
//# sourceMappingURL=chunk-b90ca8fc.236c877d.js.map