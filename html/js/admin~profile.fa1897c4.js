(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["admin~profile"],{"09de":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"photo-container"},[e.user_id?a("Avatar",{attrs:{user_id:e.user_id,userInfo:e.user_data,avatarSrc:e.user_data.user_avatar?e.media+"/"+e.user_data.user_avatar:null}}):a("Avatar",{attrs:{userInfo:e.userInfo,avatarSrc:e.userInfo.user_avatar?e.media+"/"+e.userInfo.user_avatar:null}}),e._m(0)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"photo-container--description"},[e._v(" Изображение должно быть четкое, положение фотографируемого в анфас "),a("br"),a("br"),e._v(" Лицо фотографируемого должно занимать не менее трети свободной площади фотографии "),a("br"),a("br"),e._v(" Фотографируемый должен быть равномерно освещен для получения отличной детализации лица "),a("br"),a("br"),e._v(" Выражение лица спокойное "),a("br"),a("br"),e._v(" Взгляд направлен прямо (в объектив фотокамеры), глаза не должны быть закрыты или прищурены "),a("br"),a("br"),e._v(" На фотографии не допускаются затемненные очки, головные уборы, а также элементы одежды, которые, так или иначе, скрывают части лица или волос. "),a("br"),a("br"),e._v(" Изображение на фотографии - цветное "),a("br"),a("br"),e._v(" Количество человек, изображенных на фотографии, не должно быть более одного "),a("br"),a("br")])}],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"photo-upload-container"},[a("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar1","list-type":"picture-card","show-upload-list":!1,accept:"image/jpeg,image/png,image/heic","before-upload":e.beforeUpload,action:"/api/v1/users/999999"},on:{change:e.handleChange}},[e.avatarSrc?a("img",{attrs:{src:e.avatarSrc,alt:"avatar"}}):a("div",[a("v-icon",{attrs:{name:"camera"}})],1)]),a("div",{staticClass:"help-text"},[e._v("Нажмите, чтобы прикрепить (до 5МБ)")])],1)},o=[],s=a("1da1");a("96cf");function u(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}var c={props:{avatarSrc:{type:String,required:!1},userInfo:{type:Object,required:!0},user_id:{type:String,required:!1}},data:function(){return{loading:!1,fileList:[]}},methods:{handleChange:function(e){var t=this;console.log(e.file.status),"uploading"!==e.file.status?"error"===e.file.status&&u(e.file.originFileObj,function(){var a=Object(s["a"])(regeneratorRuntime.mark((function a(n){var r,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new FormData,r.append("user_avatar",e.file.originFileObj),a.prev=2,a.next=5,t.saveEntity(r);case 5:i=a.sent,t.user_id?t.userInfo.user_avatar=i.user_avatar:t.$store.commit("user/SET_USER_INFO",i),t.$toast.success("Успешно сохранено"),a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](2),console.log(a.t0);case 13:return a.prev=13,t.loading=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[2,10,13,16]])})));return function(e){return a.apply(this,arguments)}}()):this.loading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type||"image/heic"===e.type||"image/heif"===e.type;t||this.$toast.error("Некорректный формат");var a=e.size/1024/1024<5;return a||this.$toast.error("Фото должно быть меньше 5мб"),t&&a},saveEntity:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t.user_id),a.prev=1,a.abrupt("return",t.$store.dispatch("app/saveEntity",{data:e,method:"patch",entityName:"users",id:t.user_id?t.user_id:t.userInfo.id}));case 5:throw a.prev=5,a.t0=a["catch"](1),a.t0;case 8:case"end":return a.stop()}}),a,null,[[1,5]])})))()}}},l=c,d=(a("6233"),a("b851"),a("2877")),f=Object(d["a"])(l,i,o,!1,null,"1197aafa",null),p=f.exports,m="https://студентгода63.рф/media",v={props:{user_id:{type:String,required:!1},user_data:{type:Object,required:!1}},components:{Avatar:p},data:function(){return{media:m}},computed:{userInfo:function(){return this.$store.state.user.userInfo}}},b=v,_=(a("4e12"),Object(d["a"])(b,n,r,!1,null,"0ad1ab52",null));t["a"]=_.exports},1021:function(e,t,a){},1359:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-nomination"},[a("h3",[e._v(e._s(1===e.nominations.length?"Номинация":"Номинации"))]),a("span",[e._v(e._s(e.nominations.map((function(e){return e.name})).join(", ")))])])},r=[],i={props:["nominations"]},o=i,s=(a("89bd"),a("2877")),u=Object(s["a"])(o,n,r,!1,null,"b5216dfc",null);t["a"]=u.exports},2266:function(e,t,a){var n=a("825a"),r=a("e95a"),i=a("50c4"),o=a("0366"),s=a("35a1"),u=a("2a62"),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,a){var l,d,f,p,m,v,b,_=a&&a.that,h=!(!a||!a.AS_ENTRIES),y=!(!a||!a.IS_ITERATOR),g=!(!a||!a.INTERRUPTED),x=o(t,_,1+h+g),k=function(e){return l&&u(l),new c(!0,e)},q=function(e){return h?(n(e),g?x(e[0],e[1],k):x(e[0],e[1])):g?x(e,k):x(e)};if(y)l=e;else{if(d=s(e),"function"!=typeof d)throw TypeError("Target is not iterable");if(r(d)){for(f=0,p=i(e.length);p>f;f++)if(m=q(e[f]),m&&m instanceof c)return m;return new c(!1)}l=d.call(e)}v=l.next;while(!(b=v.call(l)).done){try{m=q(b.value)}catch(w){throw u(l),w}if("object"==typeof m&&m&&m instanceof c)return m}return new c(!1)}},"2a62":function(e,t,a){var n=a("825a");e.exports=function(e){var t=e["return"];if(void 0!==t)return n(t.call(e)).value}},"35a1":function(e,t,a){var n=a("f5df"),r=a("3f8c"),i=a("b622"),o=i("iterator");e.exports=function(e){if(void 0!=e)return e[o]||e["@@iterator"]||r[n(e)]}},"360b":function(e,t,a){"use strict";a("6c76")},"42b9":function(e,t,a){},"4e12":function(e,t,a){"use strict";a("42b9")},"4fad":function(e,t,a){var n=a("23e7"),r=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},6233:function(e,t,a){"use strict";a("c336")},6834:function(e,t,a){},"6c76":function(e,t,a){},"6f53":function(e,t,a){var n=a("83ab"),r=a("df75"),i=a("fc6a"),o=a("d1e7").f,s=function(e){return function(t){var a,s=i(t),u=r(s),c=u.length,l=0,d=[];while(c>l)a=u[l++],n&&!o.call(s,a)||d.push(e?[a,s[a]]:s[a]);return d}};e.exports={entries:s(!0),values:s(!1)}},"7db0":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").find,i=a("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},"89bd":function(e,t,a){"use strict";a("6834")},a15b:function(e,t,a){"use strict";var n=a("23e7"),r=a("44ad"),i=a("fc6a"),o=a("a640"),s=[].join,u=r!=Object,c=o("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},b851:function(e,t,a){"use strict";a("1021")},bfd1:function(e,t,a){"use strict";t["a"]={data:function(){var e=this;return{infos:[{title:"Личные данные",info:[{name:"Пол",key:"gender",render:function(t){return e.getGender(t)}},{name:"Дата рождения",key:"date_birth",render:function(t){return e.getBirthday(t)}},{name:"Номер телефона",key:"phone_number"},{name:"E-mail",key:"email"},{name:"Гражданство",key:"citizenship"}]},{title:"Адрес",info:[{name:"Регион",key:"region"},{name:"Район/городской округ",key:"locality",render:function(t){return e.getBirthday(t)}},{name:"Почтовый индекс",key:"postal_code"},{name:"Улица",key:"street"},{name:"Номер дома",key:"house"},{name:"Квартира",key:"apartment",require:!1}]},{title:"Образование",info:[{name:"Форма обучения",key:"form_education"},{name:"Место обучения",key:"place_education",render:function(t){return e.getPlaceEducation(t)}},{name:"Образовательная организация",key:"name_place_education"}]}]}}}},c1f9:function(e,t,a){var n=a("23e7"),r=a("2266"),i=a("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,(function(e,a){i(t,e,a)}),{AS_ENTRIES:!0}),t}})},c336:function(e,t,a){},e95a:function(e,t,a){var n=a("b622"),r=a("3f8c"),i=n("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},f60b:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"profile-infoblock"},[a("div",{staticClass:"profile-infoblock__title"},[e._v(" "+e._s(e.title)+" ")]),a("div",{staticClass:"profile-infoblock__data"},e._l(e.data,(function(t){return a("div",{key:t.name,staticClass:"profile-infoblock__data--item"},[a("span",{staticClass:"profile-infoblock__data--item-name"},[e._v(e._s(t.name))]),a("span",{staticClass:"profile-infoblock__data--item-value"},[e._v(e._s(t.render?t.render(e.userInfo[t.key]):e.userInfo[t.key]))])])})),0)])},r=[],i={props:{title:{type:String,required:!0},data:{type:Array,required:!0},userInfo:{type:Object,required:!0}}},o=i,s=(a("360b"),a("2877")),u=Object(s["a"])(o,n,r,!1,null,"0785dd18",null);t["a"]=u.exports},f729:function(e,t,a){"use strict";var n=a("ade3"),r=a("09bc");t["a"]={data:function(){var e=this;return{items:[[{name:"first_name",validation:"required",type:"text",label:"Фамилия"},{name:"last_name",validation:"required",type:"text",label:"Имя"},{name:"patronymic",type:"text",label:"Отчество",md:24}],[{name:"gender",validation:[["required"]],type:"radio",label:"Пол",options:{male:"Мужской",female:"Женский"},class:"inline-checkbox"},{name:"date_birth",validation:"required|after:1950-01-01|before:2005-01-01",min:"1950-01-01",max:"2005-01-01",type:"date",label:"Дата рождения"},{name:"phone_number",validation:[["required"],["min","18"]],mask:"+7 (###) ###-##-##",type:"tel",label:"Номер телефона",md:24}],[{name:"citizenshipCheckbox",validation:"required",type:"radio",label:"Гражданство",options:["РФ","Другое"],class:"inline-checkbox"},{name:"citizenship",validation:"required",visible:function(){return"Другое"===e.form.citizenshipCheckbox},type:"text",label:"Другое гражданство"},{name:"email",validation:"required",type:"text",label:"Email"},{name:"url_vk",validation:"required",type:"url",label:"Ссылка на страницу ВК",md:24,xl:24}],[{name:"region",type:"text",label:"Регион",disabled:!0},{name:"locality",validation:"required",label:"Район/Городской округ",type:"select",options:r["i"]},{name:"district",validation:"required",label:"Населенный пункт",type:"select",options:r["b"],md:24}],[Object(n["a"])({name:"postal_code",validation:"required",type:"text",label:"Почтовый индекс",maxlength:6},"validation","required|min:6,length|max:6,length"),{name:"street",validation:"required",type:"text",label:"Улица"},{name:"house",type:"text",validation:"required",label:"Номер дома",xl:4},{name:"apartment",max:"999",min:"1",step:"1",type:"number",label:"Квартира",xl:4}],[{name:"form_education",validation:"accept",validationRules:{accept:function(e){var t=e.value;return 1===t.length}},validationMessages:{accept:"Укажите форму обучения"},type:"checkbox",label:"Форма обучения",class:"inline-checkbox",disabled:!0,options:["Очная"],help_text:"Участие в конкурсе возможно только для обучающихся очной формы обучения"},{name:"place_education",validation:"required",label:"Место обучения",type:"select",options:r["g"]},{name:"name_place_education",validation:"required",label:"Образовательная организация",type:"select",options:function(){return"colleges"===e.form.place_education?r["c"]:r["m"]},md:24,xl:8}],[{name:"course_education",validation:"required",label:"Курс обучения",type:"select",options:r["d"]},{name:"nomination",validation:"required",label:"Номинация",type:"vue-select",multiple:!0,class:function(){return e.form.nomination.length>=2?"has-all":""},selectable:function(){return e.form.nomination.length<3},optionName:"app/optionNomination",xl:16}]]}}}}}]);