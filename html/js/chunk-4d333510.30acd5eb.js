(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d333510"],{"09de":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"photo-container"},[n("Avatar",{attrs:{avatarSrc:null}}),e._m(0)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"photo-container--description"},[e._v(" Изображение должно быть четкое, положение фотографируемого в анфас "),n("br"),e._v(" "),n("br"),e._v(" Лицо фотографируемого должно занимать не менее трети свободной площади фотографии "),n("br"),e._v(" "),n("br"),e._v(" Фотографируемый должен быть равномерно освещен для получения отличной детализации лица "),n("br"),e._v(" "),n("br"),e._v(" Выражение лица спокойное "),n("br"),e._v(" "),n("br"),e._v(" Взгляд направлен прямо (в объектив фотокамеры), глаза не должны быть закрыты или прищурены "),n("br"),e._v(" "),n("br"),e._v(" На фотографии не допускаются затемненные очки, головные уборы, а также элементы одежды, которые, так или иначе, скрывают части лица или волос. "),n("br"),e._v(" "),n("br"),e._v(" Изображение на фотографии - цветное "),n("br"),e._v(" "),n("br"),e._v(" Количество человек, изображенных на фотографии, не должно быть более одного "),n("br"),e._v(" "),n("br")])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"photo-upload-container"},[n("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar1","list-type":"picture-card","show-upload-list":!1,accept:"image/jpeg,image/png,image/heic","before-upload":e.beforeUpload,action:"/api/v1/users/me"},on:{change:e.handleChange}},[e.imageUrl?n("img",{attrs:{src:e.imageUrl,alt:"avatar"}}):n("div",[n("v-icon",{attrs:{name:"camera"}})],1)]),n("div",{staticClass:"help-text"},[e._v("Нажмите, чтобы прикрепить (до 2МБ)")])],1)},s=[],o=n("1da1");n("96cf"),n("ac1f"),n("1276");function c(e,t){var n=new FileReader;n.addEventListener("load",(function(){return t(n.result)})),n.readAsDataURL(e)}var u={props:{avatarSrc:{type:String,required:!1}},data:function(){return{loading:!1,imageUrl:"",fileList:[]}},created:function(){this.imageUrl=this.avatarSrc},methods:{handleChange:function(e){var t=this;"uploading"!==e.file.status?"done"===e.file.status&&c(e.file.originFileObj,(function(e){t.imageUrl=e,t.loading=!1})):this.loading=!0},beforeUpload:function(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||this.$message.error("You can only upload JPG file!");var n=e.size/1024/1024<2;return n||this.$message.error("Image must smaller than 2MB!"),t&&n},onSuccess:function(e,t){var n=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("image",t.raw),a.append("format",t.raw.type.split("/")[1]),e.prev=3,e.next=6,n.$store.dispatch("saveEntity",{entityName:"/profile/avatar",method:"post",data:a});case 6:i=e.sent,n.avatar=i.avatar,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),console.log(e.t0);case 13:return e.prev=13,n.loading=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})))()},onProgress:function(e,t){this.loading=!0}}},l=u,d=(n("6233"),n("ba03"),n("2877")),p=Object(d["a"])(l,r,s,!1,null,"4e9939e4",null),m=p.exports,f={components:{Avatar:m}},v=f,h=(n("3025"),Object(d["a"])(v,a,i,!1,null,"197e729d",null));t["a"]=h.exports},"0cc4":function(e,t,n){"use strict";n("1f47")},"1e1c":function(e,t,n){},"1f47":function(e,t,n){},3025:function(e,t,n){"use strict";n("1e1c")},"3d50":function(e,t,n){},4434:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("a-row",{attrs:{gutter:[24]}},[n("a-col",{staticClass:"center",attrs:{xs:{span:24,offset:0},md:{span:22,offset:1},lg:{span:22,offset:1},xl:{span:22,offset:1}}},[n("div",{staticClass:"container-title"},[n("span",{staticClass:"subtitle"},[e._v('Регистрация на конкурс "Студент года 2021"')]),n("h2",{staticClass:"page-title"},[e._v(" Этап 2. Анкета участника ")])]),e.loading?n("a-skeleton",{attrs:{active:"",paragraph:{rows:16}}}):n("div",{staticClass:"container-body"},[n("upload-photo"),e._l(e.questionnaries,(function(e){return n("Upload",{key:e.id,attrs:{questionnaire:e}})})),n("a-col",{staticClass:"inline-buttons",attrs:{md:{span:24,offset:0},xl:{span:14,offset:5},lg:{span:24,offset:0},xs:24}},[n("router-link",{staticClass:"button-link",attrs:{to:"/profile"}},[n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"info",block:"","html-type":"submit"}},[e._v(" Сохранить и выйти ")])],1),n("a-button",{staticClass:"login-form-button",attrs:{disabled:e.loading,type:"primary",block:""},on:{click:e.onApplicate}},[e._v(" Сохранить и продолжить ")])],1)],2)],1)],1)],1)},i=[],r=n("1da1"),s=n("ade3"),o=(n("d3b7"),n("3ca3"),n("ddb0"),n("d81d"),n("ac1f"),n("1276"),n("c740"),n("498a"),n("96cf"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"document-container"},[n("h6",{staticClass:"document-title"},[e._v(" "+e._s(e.questionnaire.name)+" ")]),"only_file"===e.questionnaire.type?n("div",{},[e.questionnaire.hint_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.hint_text)+" ")]):e._e(),n("div",{staticClass:"achievement-list__item--info--block"},[n("file-component",{on:{change:function(t){return e.setFiles(t)}}})],1)]):e._e(),"multiple"===e.questionnaire.type?n("div",{},[e.questionnaire.hint_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.hint_text)+" ")]):e._e(),n("UploadQuestionnaireMultiple",{attrs:{questionnaire:e.questionnaire}})],1):e._e(),"radio_and_multiple"===e.questionnaire.type?n("div",{},[n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.subname)+" ")]),n("x-input",{staticClass:"inline-checkbox",attrs:{type:"radio",name:"yesno",options:e.yesno,"error-behavior":"submit"}}),e.questionnaire.hint_text?n("div",{staticClass:"document-clue"},[e._v(" "+e._s(e.questionnaire.hint_text)+" ")]):e._e(),n("UploadQuestionnaireMultiple",{attrs:{fileMultiple:""}})],1):e._e()])}),c=[],u=n("5530"),l=n("b48b"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",{staticClass:"achievement-list"},[n("file-component",{attrs:{multiple:e.fileMultiple},on:{change:function(t){return e.setFiles(t)}}})],1)},p=[],m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"achievement-list__item"},[n("div",{staticClass:"achievement-list__item--info"},[n("div",{staticClass:"achievement-list__item--info--block"},[n("span",{staticClass:"count"},[e._v(e._s(e.position))]),e._l(e.questionnaire.inputs,(function(t){return n("x-input",{key:t.name,class:t.class,attrs:{label:e.getVisible(t.visible)?e.getLabel(t):"",type:e.getVisible(t.visible)?t.type:"hidden",name:t.name,validation:e.getVisible(t.visible)?t.validation:"",options:e.getOptions(t)}})}))],2),n("a-button",{staticClass:"document-container-button",attrs:{type:"info",block:"","html-type":"submit"}},[n("v-icon",{attrs:{name:"plus"}}),n("span",[e._v("Добавить")])],1)],1)])},f=[],v=(n("a9e3"),{components:{FileComponent:l["a"]},props:{position:{type:Number,required:!0},setFiles:{type:Function,required:!1},questionnaire:{type:Object,required:!0}},computed:{getPeriod:function(){for(var e=this.indicator.period,t=e.start_achievement,n=e.finish_achievement,a=[],i=t;i<=n;i++)a.push(i);return a}},methods:{getVisible:function(e){return!e||e()},getOptions:function(e){return e.optionName?this.$store.getters[e.optionName]:"function"==typeof e.options?e.options():e.options},getLabel:function(e){return"function"==typeof e.label?e.label():e.label}}}),h=v,g=(n("0cc4"),n("2877")),b=Object(g["a"])(h,m,f,!1,null,"3a615c06",null),_=b.exports,x={components:{UploadQuestionnaireMultipleItem:_,FileComponent:l["a"]},props:{questionnaire:{type:Object,required:!0},fileMultiple:{type:Boolean,required:!0}}},y=x,w=Object(g["a"])(y,d,p,!1,null,"c069931e",null),C=w.exports,k={components:{UploadQuestionnaireMultiple:C,FileComponent:l["a"]},props:{questionnaire:{type:Object,required:!0}},data:function(){return{form:{},yesno:["Да","Нет"]}},methods:{setFiles:function(e){this.form.document=e},submit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.saveAchievement(Object(u["a"])(Object(u["a"])({},t.form),{},{indicators:e}));case 2:t.form={};case 3:case"end":return n.stop()}}),n)})))()}}},j=k,O=(n("a8f3"),n("75a1"),Object(g["a"])(j,o,c,!1,null,null,null)),q=O.exports,F=(n("cd3f"),n("5b55")),$=n("09bc"),R={components:{Upload:q},data:function(){var e;return e={loading:!0,buttonDisabled:!1},Object(s["a"])(e,"loading",!1),Object(s["a"])(e,"questionnaries",[]),Object(s["a"])(e,"issuingAuthority",$["h"]),Object(s["a"])(e,"documentView",$["d"]),e},computed:{userInfo:function(){return this.$store.state.user.userInfo},initialIndicators:function(){return this.$store.state.app.indicator},getMessage:function(){switch("create"){case"create":return"Успешно создано";case"edit":return"Успешно сохранено"}}},mounted:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.questionnaries=[{name:"Справка с места учебы*",hint_text:"Прикрепите сканированную копию справки с места учебы в формате jpeg, pdf, имеющую печать образовательной организации, датированную не ранее 05.04.2021 г. Можно прикрепить потом в личном кабинете. Отправить заявку без этого нельзя",type:"only_file"},{name:"Автобиография конкурсанта*",hint_text:"Можно прикрепить только 1 документ формата doc, docx",type:"only_file"},{name:"Характеристики, отзывы и ходатайства",hint_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"multiple",files:[],inputs:[{name:"first_name",validation:"required",type:"text",label:"Фамилия"},{name:"last_name",validation:"required",type:"text",label:"Имя"},{name:"patronymic",validation:"required",type:"text",label:"Отчество",md:24},{name:"gender",validation:"required",type:"radio",label:"Пол",options:{male:"Мужской",female:"Женский"},class:"inline-checkbox"}]},{name:"Академическая успеваемость конкурсанта",subname:"Обучался в вузе/ссузе в 2019-2020 учебном году?",hint_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"radio_and_multiple",files:[]},{name:"Академическая успеваемость конкурсанта",subname:"Обучался в вузе/ссузе в 2020-2021 учебном году?",hint_text:"Вы можете прикрепить документы, подтверждающие Ваше участие и вклад в выбранном Вами направлении за последние два года. Например, характеристики, ходатайства и т.д. студенческих организаций (объединений), администрации вуза/ссуза и т.п. За каждый отдельный новый документ Вы можете получить 1 балл. Максимальное количество баллов – 3",type:"radio_and_multiple",files:[]}];case 1:case"end":return t.stop()}}),t)})))()},methods:{changeNomination:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,t.activeNomination=e,n.next=4,t.getIndicatorsByNomination(t.activeNomination);case 4:return n.next=6,t.getAchievementsToIndicators(t.initialIndicators);case 6:t.indicators=n.sent,console.log(t.indicators),t.loading=!1;case 9:case"end":return n.stop()}}),n)})))()},getIndicatorsByNomination:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$store.dispatch("app/getEntities",{entityName:F["b"],params:{nomination:e}});case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),console.log(n.t0);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},getAchievementsToIndicators:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(e.map((function(e){return new Promise(function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(a){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("app/getEntities",{entityName:F["a"],params:{indicator:e.id}});case 2:i=n.sent,console.log(i),e.achievements=i.data.map((function(e){return e.document&&(e.documentName=t.addDocumentName(e.document)),e})),a(e);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getFormData:function(e){var t=new FormData;for(var n in e)t.append(n,e[n]);return t},saveAchievement:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=t.getFormData(e),n.next=3,t.saveEntity(a);case 3:case"end":return n.stop()}}),n)})))()},saveEntity:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,t.buttonDisabled=!0,n.next=4,t.$store.dispatch("app/saveEntity",{data:e,method:"post",entityName:F["a"]});case 4:a=n.sent,t.addNewFields(a),t.$notification.success({message:t.getMessage}),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](0),console.log(n.t0),t.$errors.showOnce(n.t0.response.data);case 13:return n.prev=13,t.buttonDisabled=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})))()},addDocumentName:function(e){if(e){var t=e.split("/");return t[t.length-1]}},addNewFields:function(e){e.document&&(e.documentName=this.addDocumentName(e.document));var t=this.indicators.findIndex((function(t){return e.indicators===t.id})),n=this.indicators[t];n.achievements.push(e),console.log(this.indicators)},removeAchievement:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.loading=!0,n.prev=1,n.next=4,t.$store.dispatch("app/deleteItem",{entityName:F["a"],id:e});case 4:return n.next=6,t.changeNomination();case 6:t.$swal("Успешно удалено!"),n.next=13;break;case 9:n.prev=9,n.t0=n["catch"](1),console.log(n.t0),t.$errors.showOnce(n.t0.response.data);case 13:return n.prev=13,t.loading=!1,n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[1,9,13,16]])})))()},editAchievement:function(){},trimWhitespaces:function(e){for(var t in e)e[t]===String&&e[t].trim()},onApplicate:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$swal.fire({title:"Отправить завку на конкурс? После подтверждения действия Вы не сможете редактировать введенные данные",inputLabel:"Your email address",showCancelButton:!0});case 2:n=t.sent,n.isConfirmed;case 4:case"end":return t.stop()}}),t)})))()}}},N=n("09de"),E={components:{UploadPhoto:N["a"]},mixins:[R]},U=E,A=Object(g["a"])(U,a,i,!1,null,null,null);t["default"]=A.exports},"498a":function(e,t,n){"use strict";var a=n("23e7"),i=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return i(this)}})},6233:function(e,t,n){"use strict";n("c336")},"75a1":function(e,t,n){"use strict";n("894dc")},"7db0":function(e,t,n){"use strict";var a=n("23e7"),i=n("b727").find,r=n("44d2"),s="find",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),a({target:"Array",proto:!0,forced:o},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r(s)},"894dc":function(e,t,n){},a8f3:function(e,t,n){"use strict";n("3d50")},b48b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-container"},[n("div",{staticClass:"file-container__files"},e._l(e.files,(function(t){return n("div",{key:t.name,staticClass:"file-container__files--file"},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(t.name))]),n("v-icon",{staticClass:"remove",attrs:{name:"times"},on:{click:function(n){return e.removeFiles(t)}}})],1)})),0),n("FormulateInput",{staticClass:"document-uploader user-upload not-active achievement",attrs:{"label-class":"document-label",name:"document",type:"file",validation:"mime:"+e.acceptFormat.join(",")+"|download","validation-rules":{download:function(t){t.value;return e.files.length}},"validation-messages":{download:"Загрузите документ"}},scopedSlots:e._u([{key:"element",fn:function(){return[n("input",{ref:"files",staticClass:"document-uploader--input",attrs:{type:"file",multiple:!1,id:"upload",accept:e.acceptFormat.join(","),isDrag:e.dragHover},on:{dragover:function(t){e.dragHover=!0},dragleave:function(t){e.dragHover=!1},dragend:function(t){e.dragHover=!1},drop:e.setFile,change:e.setFile}}),n("label",{staticClass:"document-uploader--custom",attrs:{name:"file",for:"upload"}},[n("v-icon",{attrs:{name:"file"}}),n("span",[e._v(e._s(e.getLabel))])],1)]},proxy:!0}])})],1)},i=[],r=n("1da1"),s=(n("96cf"),n("a434"),n("c740"),n("b0c0"),n("159b"),n("7db0"),n("caad"),n("2532"),{props:{multiple:{type:Boolean}},data:function(){return{dragHover:!1,uploadPercentage:0,files:[],acceptFormat:["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]}},computed:{getLabel:function(){return this.dragHover?"Перетащите сюда":"Прикрепить файл"}},methods:{removeFiles:function(e){this.files.splice(this.files.findIndex((function(t){return t.name===e.name})),1)},setFile:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.dragHover=!1,!t.multiple){n.next=6;break}e.target.files.forEach((function(e,n){t.files.find((function(t){return console.log(t,e),t.name===e.name})),t.files.find((function(t){return t.name===e.name}))||(t.acceptFormat.includes(e.type)?t.files.push(e):t.$toast.error("Неккоректный формат"))})),t.$emit("change",t.files),n.next=16;break;case 6:if(a=e.target.files,a.length){n.next=9;break}return n.abrupt("return");case 9:if(console.log(a[0]),t.acceptFormat.includes(a[0].type)){n.next=12;break}return n.abrupt("return");case 12:t.files=[e.target.files[0]],t.$refs.files.value=null,console.log(t.files),t.$emit("change",t.files[0]);case 16:case"end":return n.stop()}}),n)})))()}}}),o=s,c=n("2877"),u=Object(c["a"])(o,a,i,!1,null,"11048ff8",null);t["a"]=u.exports},ba03:function(e,t,n){"use strict";n("c14c")},c14c:function(e,t,n){},c336:function(e,t,n){},c8d2:function(e,t,n){var a=n("d039"),i=n("5899"),r="​᠎";e.exports=function(e){return a((function(){return!!i[e]()||r[e]()!=r||i[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-4d333510.30acd5eb.js.map